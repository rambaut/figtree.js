{"version":3,"file":"figtree.cjs.min.js","sources":["../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/uuid/lib/bytesToUuid.js","../node_modules/uuid/lib/rng-browser.js","../node_modules/uuid/v1.js","../node_modules/uuid/v4.js","../node_modules/uuid/index.js","../node_modules/d3/node_modules/d3-array/src/ascending.js","../node_modules/d3/node_modules/d3-array/src/bisect.js","../node_modules/d3/node_modules/d3-array/src/bisector.js","../node_modules/d3/node_modules/d3-array/src/number.js","../node_modules/d3/node_modules/d3-array/src/max.js","../node_modules/d3/node_modules/d3-array/src/mean.js","../node_modules/d3/node_modules/d3-array/src/min.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-chord/node_modules/d3-array/src/ascending.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-chord/node_modules/d3-array/src/bisector.js","../node_modules/d3-chord/node_modules/d3-array/src/bisect.js","../node_modules/d3-path/src/path.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-contour/node_modules/d3-array/src/ascending.js","../node_modules/d3-contour/node_modules/d3-array/src/bisector.js","../node_modules/d3-contour/node_modules/d3-array/src/bisect.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-scale/node_modules/d3-array/src/ascending.js","../node_modules/d3-scale/node_modules/d3-array/src/bisect.js","../node_modules/d3-scale/node_modules/d3-array/src/bisector.js","../node_modules/d3-scale/node_modules/d3-array/src/ticks.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/array.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/curve/step.js","../node_modules/d3-array/src/extent.js","../node_modules/d3-array/src/min.js","../node_modules/d3-array/src/maxIndex.js","../src/utilities.js","../src/tree.js","../src/baubles/bauble.js","../node_modules/d3-selection-multi/src/selection/attrs.js","../node_modules/d3-selection-multi/src/selection/styles.js","../node_modules/d3-selection-multi/src/selection/properties.js","../node_modules/d3-selection-multi/src/transition/attrs.js","../node_modules/d3-selection-multi/src/transition/styles.js","../node_modules/d3-selection-multi/index.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../src/layout/_deprecatedClasses/layoutInterface.js","../src/layout/_deprecatedClasses/abstractLayout.js","../src/layout/_deprecatedClasses/geoLayout.js","../src/features/baubleManager.js","../src/_privateConstants.js","../src/figtree/figtree.js","../node_modules/@babel/runtime/helpers/superPropBase.js","../node_modules/@babel/runtime/helpers/get.js","../src/baubles/circlebauble.js","../src/baubles/rectanglebauble.js","../src/baubles/branch.js","../node_modules/d3-shape/src/line.js","../src/layout/layoutHelpers.js","../src/layout/rectangularLayout.f.js","../src/layout/equaleanglelayout.f.js","../src/baubles/label.js","../src/layout/rootToTipLayout.js","../src/decoration/decoration.js","../src/decoration/axis.js","../src/decoration/scaleBar.js","../src/decoration/legend.js","../src/features/_nodes.js","../src/layout/rectangularHilightedLayout.js"],"sourcesContent":["function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i(t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i(t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i(t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\nimport transition_end from \"./end\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","//https://stackoverflow.com/questions/27936772/how-to-deep-merge-instead-of-shallow-merge\nimport {timeParse,timeFormat} from \"d3\"\n\nexport function isObject(item) {\n    return (item && typeof item === 'object' && !Array.isArray(item));\n}\n\nexport  function mergeDeep(target, source) {\n    let output = Object.assign({}, target);\n    if (isObject(target) && isObject(source)) {\n        Object.keys(source).forEach(key => {\n            if (isObject(source[key])) {\n                if (!(key in target))\n                    Object.assign(output, { [key]: source[key] });\n                else\n                    output[key] = mergeDeep(target[key], source[key]);\n            } else {\n                Object.assign(output, { [key]: source[key] });\n            }\n        });\n    }\n    return output;\n}\n\n//https://stackoverflow.com/questions/29400171/how-do-i-convert-a-decimal-year-value-into-a-date-in-javascript\n/**\n * Helper function to determine if the provided year is a leap year\n * @param year\n * @return {boolean}\n */\nexport function leapYear(year) {\n    return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\n}\n\n/**\n * A function which converts a decimal float into a date object\n * @param decimalDate\n * @return {Date}\n */\nexport function decimalToDate(decimal){\n    const year = Math.trunc(decimal);\n    const totalNumberOfDays = leapYear(year)? 366:365;\n    const day = Math.round(((decimal-year)*totalNumberOfDays));\n    return timeParse(\"%Y-%j\")(`${year}-${day}`)\n\n}\n\n/**\n * A function that converts a date into a decimal.\n * @param date\n * @return {number}\n */\nexport function dateToDecimal(date){\n    const year = parseInt(timeFormat(\"%Y\")(date));\n    const day = parseInt(timeFormat(\"%j\")(date));\n    const totalNumberOfDays = leapYear(year)? 366:365;\n    return year+day/totalNumberOfDays\n}\n//https://stackoverflow.com/questions/14636536/how-to-check-if-a-variable-is-an-integer-in-javascript\nexport function isInt(value) {\n    return !isNaN(value) &&\n        parseInt(Number(value)) == value &&\n        !isNaN(parseInt(value, 10));\n}\n\nexport const compose=(...fns)=>(arg)=>{\n    return fns.reduceRight((res,fn)=>fn(res),arg);\n}\n\n\n//https://stackoverflow.com/questions/526559/testing-if-something-is-a-class-in-javascript\nexport function isFunction(funcOrClass) {\n    const propertyNames = Object.getOwnPropertyNames(funcOrClass);\n    return (!propertyNames.includes('prototype') || propertyNames.includes('arguments'));\n}","\"use strict\";\n\n/** @module tree */\n\nimport uuid from \"uuid\";\nimport {max,timeParse} from \"d3\";\nimport {maxIndex,minIndex} from \"d3-array\";\nimport {dateToDecimal,isInt} from \"./utilities\";\n// import * as BitSetModule from \"bitset\";\n// const BitSet =BitSetModule.__moduleExports;\n// for unique node ids\nexport const Type = {\n    DISCRETE : Symbol(\"DISCRETE\"),\n    BOOLEAN : Symbol(\"BOOLEAN\"),\n    INTEGER : Symbol(\"INTEGER\"),\n    FLOAT: Symbol(\"FLOAT\"),\n    PROBABILITIES: Symbol(\"PROBABILITIES\"),\n};\n\nexport const CollapseStyles = {\n    TRIANGLE : Symbol(\"TRIANGLE\"),\n    BRANCH : Symbol(\"BRANCH\"),\n};\n\n/**\n * The Tree class\n */\nexport class Tree {\n\n    static DEFAULT_SETTINGS() {\n        return {\n            lengthsKnown:true,\n            heightsKnown:false,\n        }\n    }\n    /**\n     * The constructor takes an object for the root node. The tree structure is\n     * defined as nested node objects.\n     *\n     * @constructor\n     * @param {object} rootNode - The root node of the tree as an object.\n     */\n    constructor(rootNode = {},settings={}) {\n\n        this.settings = {...Tree.DEFAULT_SETTINGS(), ...settings};\n\n        this.heightsKnown = this.settings.heightsKnown;\n        this.lengthsKnown = this.settings.lengthsKnown;\n        this.root = makeNode.call(this,{...rootNode,...{length:0,level:0}});\n        // This converts all the json objects to Node instances\n        setUpNodes.call(this,this.root);\n\n        this.annotations = {};\n        this._nodeList = [...this.preorder()];\n        this._nodeList.forEach( (node) => {\n            if (node.label && node.label.startsWith(\"#\")) {\n                // an id string has been specified in the newick label.\n                node._id = node.label.substring(1);\n            }\n            const newAnnotations ={};\n            // if(node.label){\n            //     newAnnotations.label=node.label;\n            // }\n            // if(node.name){\n            //     newAnnotations.name=node.name\n            // }\n            node.annotations = node.annotations?{...newAnnotations,...node.annotations,}:newAnnotations;\n            this.addAnnotations(node.annotations);\n        });\n        this._nodeMap = new Map(this.nodeList.map( (node) => [node.id, node] ));\n        this._tipMap = new Map(this.externalNodes.map( (tip) => [tip.name, tip] ));\n\n        this.nodesUpdated = false;\n        // a callback function that is called whenever the tree is changed\n        this.treeUpdateCallback = () => {};\n    };\n\n    /**\n     * Gets the root node of the Tree\n     *\n     * @returns {Object|*}\n     */\n    get rootNode() {\n        return this.root;\n    };\n\n    /**\n     * Gets an array containing all the node objects\n     *\n     * @returns {*}\n     */\n    get nodes() {\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n        }\n        return [...this.preorder()];\n    };\n\n    /**\n     * get array of node list\n     * @returns {*}\n     */\n    get nodeList(){\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n\n        }\n        return this.nodes\n    }\n\n    /**\n     * Gets an array containing all the external node objects\n     *\n     * @returns {*}\n     */\n    get externalNodes() {\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n        }\n        return this.nodes.filter((node) => !node.children);\n    };\n\n\n\n    /**\n     * Gets an array containing all the internal node objects\n     *\n     * @returns {*}\n     */\n    get internalNodes() {\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n        }\n        return this.nodes.filter((node) => node.children );\n    };\n\n    get nodeMap(){\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n        }\n        return this._nodeMap ;\n    }\n    get tipMap(){\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n        }\n        return this._tipMap ;\n    }\n\n    /**\n     * Returns the sibling of a node (i.e., the first other child of the parent)\n     *\n     * @param node\n     * @returns {object}\n     */\n    getSibling(node) {\n        if (!node.parent) {\n            return null;\n        }\n        return node.parent.children.find((child) => child !== node);\n    }\n\n    /**\n     * Returns a node from its id stored.\n     *\n     * @param id\n     * @returns {object}\n     */\n    getNode(id) {\n        return this.nodeMap.get(id);\n    }\n\n    /**\n     * Returns an external node (tip) from its name.\n     *\n     * @param name\n     * @returns {object}\n     */\n    getExternalNode(name) {\n        return this.tipMap.get(name);\n    }\n\n    /**\n     * If heights are not currently known then calculate heights for all nodes\n     * then return the height of the specified node.\n     * @param node\n     * @returns {number}\n     */\n    getHeight(node) {\n        return node.height;\n    }\n\n    /**\n     * A generator function that returns the nodes in a pre-order traversal.\n     *\n     * @returns {IterableIterator<IterableIterator<*|*>>}\n     */\n    *preorder(startNode=this.root,filter=()=>true) {\n        const traverse = function *(node,filter) {\n            if(filter(node)) {\n                yield node;\n                if (node.children) {\n                    for (const child of node.children) {\n                        yield* traverse(child, filter);\n                    }\n                }\n            }\n        };\n\n        yield* traverse(startNode,filter);\n    }\n\n    /**\n     * A generator function that returns the nodes in a post-order traversal\n     *\n     * @returns {IterableIterator<IterableIterator<*|*>>}\n     */\n    *postorder(startNode=this.root,filter=()=>true) {\n        const traverse = function *(node,filter) {\n            if(filter(node)) {\n                if (node.children) {\n                    for (const child of node.children) {\n                        yield* traverse(child, filter);\n                    }\n                }\n                yield node;\n            }\n        };\n\n        yield* traverse(startNode,filter);\n    }\n\n    /**\n     * A generator function that returns the nodes in a path to the root\n     *\n     * @returns {IterableIterator<IterableIterator<*|*>>}\n     */\n    static* pathToRoot(node) {\n        while (node) {\n            yield node;\n            node = node.parent;\n        }\n    }\n\n    /**\n     * An instance method to return a Newick format string for the Tree. Can be called without a parameter to\n     * start at the root node. Providing another node will generate a subtree. Labels and branch lengths are\n     * included if available.\n     *\n     * @param {object} node - The node of the tree to be written (defaults as the rootNode).\n     * @returns {string}\n     */\n    toNewick(node = this.rootNode) {\n        return (node.children ? `(${node.children.map(child => this.toNewick(child)).join(\",\")})${node.label ? node.label : \"\"}` : node.name) + (node.length ? `:${node.length}` : \"\");\n    };\n\n    /**\n     * Re-roots the tree at the midway point on the branch above the given node.\n     *\n     * @param {object} node - The node to be rooted on.\n     * @param proportion - proportion along the branch to place the root (default 0.5)\n     */\n    reroot(node, proportion = 0.5) {\n        if (node === this.rootNode) {\n            // the node is the root - nothing to do\n            return;\n        }\n\n\n        const rootLength = this.rootNode.children[0].length + this.rootNode.children[1].length;\n\n        if (node.parent !== this.rootNode) {\n            // the node is not a child of the existing root so the root is actually changing\n\n            let node0 = node;\n            let parent = node.parent;\n\n            let lineage = [ ];\n\n            // was the node the first child in the parent's children?\n            const nodeAtTop = parent.children[0] === node;\n\n            const rootChild1 = node;\n            const rootChild2 = parent;\n\n            let oldLength = parent.length;\n\n            while (parent.parent) {\n\n                // remove the node that will becoming the parent from the children\n                parent._children = parent.children.filter((child) => child !== node0);\n\n                if (parent.parent === this.rootNode) {\n                    const sibling = this.getSibling(parent);\n                    parent._children.push(sibling);\n                    sibling._length = rootLength;\n                } else {\n                    // swap the parent and parent's parent's length around\n                    [parent.parent._length, oldLength] = [oldLength, parent.parent.length];\n\n                    // add the new child\n                    parent._children.push(parent.parent);\n                }\n\n                lineage = [parent, ...lineage];\n\n                node0 = parent;\n                parent = parent.parent;\n            }\n\n            // Reuse the root node as root...\n\n            // Set the order of the children to be the same as for the original parent of the node.\n            // This makes for a more visually consistent rerooting graphically.\n            this.rootNode.children = nodeAtTop ? [rootChild1, rootChild2] : [rootChild2, rootChild1];\n\n            // connect all the children to their parents\n            this.internalNodes\n                .forEach((node) => {\n                    node.children.forEach((child) => {\n                        child._parent = node;\n                    })\n                });\n\n            const l = rootChild1.length * proportion;\n            rootChild2._length = l;\n            rootChild1._length = rootChild1.length - l;\n\n        } else {\n            // the root is staying the same, just the position of the root changing\n            const l = node.length * (1.0 - proportion);\n            node._length = l;\n            this.getSibling(node)._length = rootLength - l;\n        }\n\n        this.heightsKnown = false;\n        this.treeUpdateCallback();\n    };\n\n    /**\n     * Reverses the order of the children of the given node. If 'recursive=true' then it will\n     * descend down the subtree reversing all the sub nodes.\n     *\n     * @param node\n     * @param recursive\n     */\n    rotate(node, recursive = false) {\n        if (node.children) {\n            if (recursive) {\n                for (const child of node.children) {\n                    this.rotate(child, recursive);\n                }\n            }\n            node.children.reverse();\n        }\n\n        this.treeUpdateCallback();\n    };\n\n    /**\n     * Sorts the child branches of each node in order of increasing or decreasing number\n     * of tips. This operates recursively from the node given.\n     *\n     * @param node - the node to start sorting from\n     * @param {boolean} increasing - sorting in increasing node order or decreasing?\n     * @returns {number} - the number of tips below this node\n     */\n\n\n    orderByNodeDensity(increasing = true, node = this.rootNode) {\n        const factor = increasing ? 1 : -1;\n        orderNodes.call(this, node, (nodeA, countA, nodeB, countB) => {\n            return (countA - countB) * factor;\n        });\n        this.treeUpdateCallback();\n        return this;\n    }\n\n    /**\n     * Sorts the child branches of each node in order given by the function. This operates\n     * recursively from the node given.\n     *\n     * @param node - the node to start sorting from\n     * @param {function} ordering - provides a pairwise sorting order.\n     *  Function signature: (nodeA, childCountNodeA, nodeB, childCountNodeB)\n     * @returns {number} - the number of tips below this node\n     */\n    order(ordering, node = this.rootNode) {\n\n        orderNodes.call(this, node, ordering);\n\n        this.treeUpdateCallback();\n        return this;\n    }\n    _order(ordering, node = this.rootNode) {\n\n        orderNodes.call(this, node, ordering);\n\n        return this;\n    }\n\n    /**\n     * Get the last common ancestor of two nodes.\n     * @param node1\n     * @param node2\n     * @returns {IterableIterator<*>}\n     */\n    lastCommonAncestor(node1, node2) {\n\n        const path1 = [...Tree.pathToRoot(node1)];\n        const path2 = [...Tree.pathToRoot(node2)];\n      \n        const sharedAncestors = path1.filter(n1=>path2.map(n2=>n2.id).indexOf(n1.id)>-1);\n        const lastSharedAncestor = sharedAncestors[maxIndex(sharedAncestors,node=>node.level)];\n        return lastSharedAncestor;\n      \n    }\n\n    /**\n     * Get the path length between two nodes\n     * @param node1\n     * @param node2\n     * @returns {number}\n     */\n    pathLength(node1, node2) {\n\n        let sum = 0;\n        \n        const mrca = this.lastCommonAncestor(node1,node2);\n        for(let node of [node1,node2]){\n            while(node!=mrca){\n              sum+=node.length;\n              node=node.parent;\n            }\n        }\n        \n        return sum;\n    }\n\n    /**\n     * Returns a new tree instance with  only the nodes provided and the path to their MRCA. After this traversal, unspecified\n     * degree two nodes will be removed. The subtree will consist of the root and then the last common ancestor.\n     * The nodes of the new tree will be copies of the those in the original, but they will share\n     * ids, annotations, and names.\n     * @param chosenNodes\n     * @return {Tree}\n     */\n    subTree(chosenNodes){\n\n        const sharedNodes = [...chosenNodes.map(node=>[...Tree.pathToRoot(node)])] // get all the paths to the root\n            .reduce((acc,curr)=> [...acc,...curr],[]) // unpack the paths\n            .filter((node,i,all)=> all.filter(x=>x===node).length===chosenNodes.length)        // filter to nodes that appear in every path\n            .reduce((acc,curr)=> { // reduce to the unique set.\n                if(!acc.includes(curr)){\n                    acc.push(curr)\n                }\n                return acc;\n            },[]);\n\n        const mrca = sharedNodes[maxIndex(sharedNodes,n=>n.level)];\n\n        // intermediate nodes with show up as\n        const subtree = new Tree(mrca.toJS());\n\n\n        subtree.externalNodes.forEach(node=>{\n                    if(!chosenNodes.map(n=>n.id).includes(node.id)){\n                        subtree.removeNode(node);\n                    }\n                });\n\n        return subtree;\n    }\n\n\n    /**\n     * Gives the distance from the root to a given tip (external node).\n     * @param tip - the external node\n     * @returns {number}\n     */\n    rootToTipLength(tip) {\n        let length = 0.0;\n        for (const node of Tree.pathToRoot(tip)) {\n            if (node.length) {\n                length += node.length;\n            }\n        }\n        return length;\n    }\n\n    /**\n     * Returns an array of root-to-tip distances for each tip in the tree.\n     * @returns {*}\n     */\n    rootToTipLengths() {\n        return this.externalNodes.map((tip) => this.rootToTipLength(tip));\n    }\n\n    /**\n     * Splits each branch in multiple segments inserting a new degree 2 nodes. If splitLocations is\n     * null then it splits each in two at the mid-point\n     * @param splits\n     */\n    splitBranches(splits = null) {\n        // split each branch into sections, with a node of\n        // degree two in the middle. This allows annotation\n        // of part of a branch.\n        [...this.preorder()]\n            .filter((node) => node.parent)\n            .forEach((node) => {\n                if (splits !== null) {\n                    if (splits[node.id]) {\n                        let splitNode = node;\n                        splits[node.id].forEach(([time, id]) => {\n                            splitNode = this.splitBranch(splitNode, time);\n                            splitNode._id = id;\n                        })\n                    }\n                } else {\n                    // if no splitLocations are given then split it in the middle.\n                    this.splitBranch(node, 0.5);\n                }\n            });\n        this.nodesUpdated=true;\n        this.treeUpdateCallback();\n\n    }\n\n    /**\n     * Splits a branch in two inserting a new degree 2 node. The splitLocation should be less than\n     * the orginal branch length.\n     * @param node\n     * @param splitLocation - proportion of branch to split at.\n     */\n    splitBranch(node, splitLocation=0.5) {\n        const oldLength = node.length;\n\n        const splitNode = makeNode.call(this,\n            {\n            parent: node.parent,\n            children: [node],\n            length: oldLength*splitLocation,\n            annotations: {\n                insertedNode: true\n            }\n        });\n        if (node.parent) {\n            node.parent.children[node.parent.children.indexOf(node)] = splitNode;\n        } else {\n            // node is the root so make splitNode the root\n            this.root = splitNode;\n        }\n        node.parent = splitNode;\n        node._length = oldLength-splitNode.length;\n        this.nodesUpdated=true;\n        this.heightsKnown=false;\n        return splitNode;\n    }\n\n    /**\n     * Deletes a node from the tree. if the node had children the children are linked to the\n     * node's parent. This could result in a multifurcating tree.\n     * The root node can not be deleted.\n     * @param node\n     */\n    removeNode(node){\n        if(node===this.root){\n            return;\n        }\n        // remove the node from it's parent's children\n        node.parent._children=node.parent._children.filter(n=>n!==node);\n        //update child lengths\n        if(node._children){\n        node._children.forEach(child=>{\n            child._length += node.length;\n            child.parent = node.parent;// This also updates parent's children array;\n            })\n        }\n        // else if(node.parent._children.length===1){\n        //     console.log(\"removing parent\")\n        //     this.removeNode(node.parent); // if it's a tip then remove it's parent which is now degree two;\n        // }\n        this.nodesUpdated = true;\n        return this;\n    }\n\n    /**\n     * deletes a node and all it's descendents from the tree;\n     * @param node\n     * @return {*}\n     */\n    removeClade(node) {\n        if(node===this.root){\n            return;\n        }\n        for(const descendent of this.postorder(node)){\n            this.removeNode(descendent)\n        }\n        this.nodesUpdated=true;\n        this.treeUpdateCallback();\n        return this;\n    }\n\n    /**\n     * Set one or more annotations for the tips.\n     *\n     * See annotateNode for a description of the annotation structure.\n     *\n     * @param annotations a dictionary of annotations keyed by tip label\n     */\n    annotateTips(annotations) {\n        for (let [key, values] of Object.entries(annotations)) {\n            const tip = this.getExternalNode(key);\n            if (!tip) {\n                throw new Error(`tip with label ${key} not found in tree`);\n            }\n\n            this.annotateNode(tip, values);\n        }\n        this.treeUpdateCallback();\n    }\n\n    /**\n     * This is similar to annotateTips but the annotation objects are keyed by node\n     * keys (Symbols).\n     *\n     * @param annotations a dictionary of annotations keyed by node key\n     */\n    annotateNodes(annotations) {\n        for (let [key, values] of Object.entries(annotations)) {\n            const node = this.getNode(key);\n            if (!node) {\n                throw new Error(`tip with key ${key} not found in tree`);\n            }\n\n            this.annotateNode(node, values);\n        }\n        this.treeUpdateCallback();\n\n    }\n\n    /**\n     * Adds the given annotations to a particular node object.\n     *\n     * The annotations is an object with properties keyed by external node labels each\n     * of which is an object with key value pairs for the annotations. The\n     * key value pairs will be added to a property called 'annotations' in the node.\n     *\n     * Boolean or Numerical traits are given as a single value.\n     * Sets of values with probabilities should be given as an object.\n     * Discrete values should be given as an array (even if containing only one value)\n     * or an object with booleans to give the full set of possible trait values.\n     *\n     * For example:\n     *\n     * {\n     *     'tip_1': {\n     *         'trait_1' : true,\n     *         'trait_4' : 3.141592,\n     *         'trait_2' : [1, 2], // discrete trait\n     *         'trait_3' : [\"London\", \"Paris\", \"New York\"], // discrete trait\n     *         'trait_3' : {\"London\" : true, \"Paris\" : false, \"New York\": false], // discrete trait with full set of values\n     *         'trait_4' : {\"London\" : 0.75, \"Paris\" : 0.20, \"New York\": 0.05} // probability set\n     *     },\n     *     'tip_2': {...}\n     * }\n     *\n     * The annotation labels, type and possible values are also added to the tree in a property called 'annotations'.\n     *\n     * A reconstruction method such as annotateNodesFromTips can then be used to provide reconstructed values\n     * for internal nodes. Or annotateNodes can provide annotations for any node in the tree.\n     *\n     * @param node\n     * @param annotations a dictionary of annotations keyed by the annotation name.\n     */\n    annotateNode(node, annotations) {\n        this.addAnnotations(annotations);\n\n        // add the annotations to the existing annotations object for the node object\n        node.annotations = {...(node.annotations === undefined ? {} : node.annotations), ...annotations};\n    }\n\n    /**\n     * Adds the annotation information to the tree. This stores the type and possible values\n     * for each annotation seen in the nodes of the tree.\n     *\n     * This methods also checks the values are correct and conform to previous annotations\n     * in type.\n     *\n     * @param annotations\n     */\n    addAnnotations(annotations) {\n        for (let [key, addValues] of Object.entries(annotations)) {\n            let annotation = this.annotations[key];\n            if (!annotation) {\n                annotation = {};\n                this.annotations[key] = annotation;\n            }\n\n            if (Array.isArray(addValues)) {\n                // is a set of  values\n                let type;\n                if(addValues.map(v=>isNaN(v)).reduce((acc,curr)=>acc&&curr,true)) {\n                    type = Type.DISCRETE;\n                    annotation.type = type;\n                    if (!annotation.values) {\n                        annotation.values = new Set();\n                    }\n                    annotation.values.add(...addValues);\n                }else if(addValues.map(v=>parseFloat(v)).reduce((acc,curr)=>acc&&Number.isInteger(curr),true)){\n                    type =Type.INTEGER;\n                }else if(addValues.map(v=>parseFloat(v)).reduce((acc,curr)=>acc&&!Number.isInteger(curr),true)){\n                    type = Type.FLOAT;\n                }\n\n                if (annotation.type && annotation.type !== type) {\n                    if ((type === Type.INTEGER && annotation.type === Type.FLOAT) ||\n                        (type === Type.FLOAT && annotation.type === Type.INTEGER)) {\n                        // upgrade to float\n                        type = Type.FLOAT;\n                        annotation.type = Type.FLOAT;\n                        if(annotation.values){\n                            delete annotation.values;\n                    }else{\n                            throw Error(`existing values of the annotation, ${key}, in the tree is discrete.`);\n                        }\n                    }\n                }\n\n                // annotation.values = annotation.values? [...annotation.values, ...addValues]:[...addValues]\n            } else if (Object.isExtensible(addValues)) {\n                // is a set of properties with values\n                let type = null;\n\n                let sum = 0.0;\n                let keys = [];\n                for (let [key, value] of Object.entries(addValues)) {\n                    if (keys.includes(key)) {\n                        throw Error(`the states of annotation, ${key}, should be unique`);\n                    }\n                    if (typeof value === typeof 1.0) {\n                        // This is a vector of probabilities of different states\n                        type = (type === undefined) ? Type.PROBABILITIES : type;\n\n                        if (type === Type.DISCRETE) {\n                            throw Error(`the values of annotation, ${key}, should be all boolean or all floats`);\n                        }\n\n                        sum += value;\n                        if (sum > 1.01) {\n                            throw Error(`the values of annotation, ${key}, should be probabilities of states and add to 1.0`);\n                        }\n                    } else if (typeof value === typeof true) {\n                        type = (type === undefined) ? Type.DISCRETE : type;\n\n                        if (type === Type.PROBABILITIES) {\n                            throw Error(`the values of annotation, ${key}, should be all boolean or all floats`);\n                        }\n                    } else {\n                        throw Error(`the values of annotation, ${key}, should be all boolean or all floats`);\n                    }\n                    keys.push(key);\n                }\n\n                if (annotation.type && annotation.type !== type) {\n                    throw Error(`existing values of the annotation, ${key}, in the tree is not of the same type`);\n                }\n\n                annotation.type = type;\n                annotation.values = annotation.values? [...annotation.values, addValues]:[addValues]\n            } else {\n                let type = Type.DISCRETE;\n\n                if (typeof addValues === typeof true) {\n                    type = Type.BOOLEAN;\n                } else if (!isNaN(addValues)) {\n                    type = (addValues % 1 === 0 ? Type.INTEGER : Type.FLOAT);\n                }\n\n                if (annotation.type && annotation.type !== type) {\n                    if ((type === Type.INTEGER && annotation.type === Type.FLOAT) ||\n                        (type === Type.FLOAT && annotation.type === Type.INTEGER)) {\n                        // upgrade to float\n                        type = Type.FLOAT;\n                    } else {\n                        throw Error(`existing values of the annotation, ${key}, in the tree is not of the same type`);\n                    }\n                }\n\n                if (type === Type.DISCRETE) {\n                    if (!annotation.values) {\n                        annotation.values = new Set();\n                    }\n                    annotation.values.add(addValues);\n                }\n\n                annotation.type = type;\n            }\n\n            // overwrite the existing annotation property\n            this.annotations[key] = annotation;\n        }\n    }\n\n    /**\n     * Uses parsimony to label internal nodes to reconstruct the internal node states\n     * for the annotation 'name'.\n     *\n     * @param name\n     * @param acctrans Use acctrans reconstruction if true, deltrans otherwise\n     * @param node\n     */\n    annotateNodesFromTips(name, acctran = true) {\n        fitchParsimony(name, this.rootNode);\n\n        reconstructInternalStates(name, [], acctran, this.rootNode);\n\n        this.treeUpdateCallback();\n\n    }\n\n    /**\n     * A class function that subscribes a to be called when the tree updates.\n     * @param func - function to be called when the tree updates\n     */\n    subscribeCallback(func){\n        const currentCallback = this.treeUpdateCallback;\n        this.treeUpdateCallback = () =>{\n            currentCallback();\n            func();\n        }\n    }\n\n    getClades(tipNameMap=null){\n            return  this.nodeList.filter(n=>n.parent).map(node=>node.getClade(tipNameMap));\n    }\n\n    /**\n     * A class method to create a Tree instance from a Newick format string (potentially with node\n     * labels and branch lengths). Taxon labels should be quoted (either \" or ') if they contain whitespace\n     * or any of the tree definitition characters '(),:;' - the quotes (and any whitespace immediately within)\n     * will be removed.\n     * @param newickString - the Newick format tree as a string\n     * @param labelName\n     * @param datePrefix\n     * @returns {Tree} - an instance of the Tree class\n     */\n    static parseNewick(newickString, options={}) {\n        options ={...{labelName: \"label\",datePrefix:undefined,dateFormat:\"decimal\",tipNameMap:null},...options}\n\n        const tokens = newickString.split(/\\s*('[^']+'|\"[^\"]+\"|;|\\(|\\)|,|:|=|\\[&|\\]|\\{|\\})\\s*/);\n        let level = 0;\n        let currentNode = null;\n        let nodeStack = [];\n        let labelNext = false;\n        let lengthNext = false;\n        let inAnnotation = false;\n        let annotationKeyNext = true;\n        let annotationKey;\n        let isAnnotationARange=false;\n\n        for (const token of tokens.filter(token => token.length > 0)) {\n            // console.log(`Token ${i}: ${token}, level: ${level}`);\n            if(inAnnotation){\n                if(token===\"=\"){\n                    annotationKeyNext=false;\n                }else if(token===\",\"){\n                    if(!isAnnotationARange){\n                        annotationKeyNext=true;\n                    }\n                }else if (token===\"{\"){\n                    isAnnotationARange=true;\n                    currentNode.annotations[annotationKey]=[];\n                }else if (token===\"}\"){\n                    isAnnotationARange=false\n                }\n                else if(token ===\"]\"){\n                    // close BEAST annotation\n                    inAnnotation = false;\n                    annotationKeyNext = true;\n                } else{\n                    // must be annotation\n                    // remove any quoting and then trim whitespace\n                    let annotationToken = token;\n                    if (annotationToken.startsWith(\"\\\"\") || annotationToken.startsWith(\"'\")) {\n                        annotationToken = annotationToken.substr(1);\n                    }\n                    if (annotationToken.endsWith(\"\\\"\") || annotationToken.endsWith(\"'\")) {\n                        annotationToken = annotationToken.substr(0, annotationToken.length - 1);\n                    }\n                    if(annotationKeyNext) {\n                        annotationKey = annotationToken.replace(\".\",\"_\");\n                    }else{\n                        if(isAnnotationARange){\n                            currentNode.annotations[annotationKey].push(annotationToken);\n                        }else{\n                            if(isNaN(annotationToken)){\n                                currentNode.annotations[annotationKey]=annotationToken;\n\n                            }else{\n                                currentNode.annotations[annotationKey] = parseFloat((annotationToken));\n                            }\n                        }\n                    }\n                }\n\n            } else if (token === \"(\") {\n                // an internal node\n\n                if (labelNext) {\n                    // if labelNext is set then the last bracket has just closed\n                    // so there shouldn't be an open bracket.\n                    throw new Error(\"expecting a comma\");\n                }\n\n                let node = {\n                    level: level,\n                    parent: currentNode,\n                    children: [],\n                    annotations: {}\n                };\n                level += 1;\n                if (currentNode) {\n                    nodeStack.push(currentNode);\n                }\n                currentNode = node;\n\n            } else if (token === \",\") {\n                // another branch in an internal node\n\n                labelNext = false; // labels are optional\n                if (lengthNext) {\n                    throw new Error(\"branch length missing\");\n                }\n\n                let parent = nodeStack.pop();\n                parent.children.push(currentNode);\n\n                currentNode = parent;\n            } else if (token === \")\") {\n                // finished an internal node\n\n                labelNext = false; // labels are optional\n                if (lengthNext) {\n                    throw new Error(\"branch length missing\");\n                }\n\n                // the end of an internal node\n                let parent = nodeStack.pop();\n                parent.children.push(currentNode);\n\n                level -= 1;\n                currentNode = parent;\n\n                labelNext = true;\n            } else if (token === \":\") {\n                labelNext = false; // labels are optional\n                lengthNext = true;\n            } else if (token === \";\") {\n                // end of the tree, check that we are back at level 0\n                if (level > 0) {\n                    throw new Error(\"unexpected semi-colon in tree\")\n                }\n                break;\n            } else if(token ===\"[&\") {\n                inAnnotation=true;\n            }\n            else {\n                // not any specific token so may be a label, a length, or an external node name\n                if (lengthNext) {\n                    currentNode.length = parseFloat(token);\n                    lengthNext = false;\n                } else if (labelNext) {\n                    currentNode.label = token;\n                    if (!currentNode.label.startsWith(\"#\")) {\n                        let value = parseFloat(currentNode.label);\n                        if (isNaN(value)) {\n                            value = currentNode.label;\n                        }\n                        currentNode.annotations[options.labelName] = value;\n                    } else {\n                        currentNode.id = currentNode.label.substring(1);\n                    }\n                    labelNext = false;\n                } else {\n                    // an external node\n                    if (!currentNode.children) {\n                        currentNode.children = []\n                    }\n\n                    let name = options.tipNameMap?options.tipNameMap.get(token):token;\n\n                    // remove any quoting and then trim whitespace\n                    if (name.startsWith(\"\\\"\") || name.startsWith(\"'\")) {\n                        name = name.substr(1);\n                    }\n                    if (name.endsWith(\"\\\"\") || name.endsWith(\"'\")) {\n                        name = name.substr(0, name.length - 1);\n                    }\n                    name = name.trim();\n\n                    let decimalDate = undefined;\n                    let date = undefined;\n                    if (options.datePrefix) {\n                        const parts = name.split(options.datePrefix);\n                        if (parts.length === 0) {\n                            throw new Error(`the tip, ${name}, doesn't have a date separated by the prefix, '${options.datePrefix}'`);\n                        }\n                        const dateBit = parts[parts.length-1];\n                        if(options.dateFormat===\"decimal\"){\n                            decimalDate = parseFloat(parts[parts.length - 1]);\n                        }else{\n                            date = timeParse(options.dateFormat)(dateBit);\n                            if(!date){\n                                date = timeParse(options.dateFormat)(`${dateBit}-15`)\n                            }\n                            if(!date){\n                                date = timeParse(options.dateFormat)(`${dateBit}-06-15`)\n                            }\n                            decimalDate = dateToDecimal(date);\n                        }\n\n                    }\n\n                    const externalNode = {\n                        name: name.replace(/\\'/g,''),\n                        id:`node-${parseInt(token)?parseInt(token):token.replace(/\\'/g,'')}`,\n                        parent: currentNode,\n                        annotations: { date: decimalDate }\n                    };\n\n                    if (currentNode) {\n                        nodeStack.push(currentNode);\n                    }\n                    currentNode = externalNode;\n                }\n            }\n        }\n\n        if (level > 0) {\n            throw new Error(\"the brackets in the newick file are not balanced\")\n        }\n        return new Tree(currentNode);\n    };\n\n    /*\n\n     */\n   static  parseNexus(nexus,options={}){\n\n        const trees=[];\n\n       // odd parts ensure we're not in a taxon label\n       //TODO make this parsing more robust\n       const nexusTokens = nexus.split(/\\s*(?:\\bBegin\\s+|\\bbegin\\s+|\\bBEGIN\\s+|\\bend\\s*;|\\bEnd\\s*;|\\bEND\\s*;)\\s*/).filter(d=> d!==\"\")\n       const firstToken = nexusTokens.shift().trim();\n       if(firstToken.toLowerCase()!=='#nexus'){\n            throw Error(\"File does not begin with #NEXUS is it a nexus file?\")\n        }\n        for(const section of nexusTokens){\n            const workingSection = section.replace(/^\\s+|\\s+$/g, '').split(/\\n/);\n            const sectionTitle = workingSection.shift();\n            if(sectionTitle.toLowerCase().trim() ===\"trees;\"){\n                let inTaxaMap=false;\n                const tipNameMap = new Map();\n                for(const token of workingSection){\n                    if(token.trim().toLowerCase()===\"translate\"){\n                        inTaxaMap=true;\n                    }else{\n                        if(inTaxaMap){\n                            if(token.trim()===\";\"){\n                                inTaxaMap=false;\n                            }else{\n                                const taxaData = token.trim().replace(\",\",\"\").split(/\\s*\\s\\s*/);\n                                tipNameMap.set(taxaData[0],taxaData[1]);\n                            }\n                        }else{\n                                const treeString = token.substring(token.indexOf(\"(\"));\n                            if(tipNameMap.size>0) {\n                                const thisTree = Tree.parseNewick(treeString, {...options, tipNameMap: tipNameMap});\n                                trees.push(thisTree);\n                            }else{\n                                const thisTree = Tree.parseNewick(treeString, {...options});\n                                trees.push(thisTree);\n                            }\n                        }\n                    }\n                }\n            }\n\n        }\n        return trees;\n    }\n\n}\n\n/*\n * Private methods, called by the class using the <function>.call(this) function.\n */\n\n/**\n * A private recursive function that rotates nodes to give an ordering provided\n * by a function.\n * @param node\n * @param ordering function that takes (a,number of tips form a, b, number of tips from b) and sorts a and be by the output.\n * @param callback an optional callback that is called each rotate\n * @returns {number}\n */\nfunction orderNodes(node, ordering, callback = null) {\n    let count = 0;\n    if (node.children) {\n        // count the number of descendents for each child\n        const counts = new Map();\n        for (const child of node.children) {\n            const value = orderNodes(child, ordering, callback);\n            counts.set(child, value);\n            count += value;\n        }\n\n        // sort the children using the provided function\n        node.children.sort((a, b) => {\n            return ordering(a, counts.get(a), b, counts.get(b),node)\n        });\n\n        if (callback) callback();\n    } else {\n        count = 1\n    }\n    return count;\n}\n\n/**\n * A private recursive function that calculates the height of each node (with the most\n * diverged tip from the root having height given by origin).\n */\nfunction calculateHeights() {\n\n    const maxRTT = max(this.rootToTipLengths());\n    this.nodeList.forEach((node) => node._height =  maxRTT - this.rootToTipLength(node));\n    this.heightsKnown = true;\n    // this.treeUpdateCallback();\n}\n\n/**\n * A private recursive function that calculates the length of the branch below each node\n */\nfunction calculateLengths(){\n\n    this.nodeList.forEach((node)=> node._length =node.parent? node.parent.height- node.height:0);\n    this.lengthsKnown=true;\n    // this.treeUpdateCallback();\n\n}\n\n\n\n\n/**\n * A private recursive function that uses the Fitch algorithm to assign\n * states to nodes using parsimony. An acctrans or deltrans algorithm can\n * then be used to reconstruct internal node states.\n * @param name\n * @param node\n * @returns {*}\n */\nfunction fitchParsimony(name, node) {\n\n    if (!node.children) {\n        if (!node.annotations[name]) {\n            return []; // annotation not defined so return an empty set\n        }\n        return (Array.isArray(node.annotations[name]) ? node.annotations[name] : [node.annotations[name]]);\n    }\n\n    let I;\n    let U = [];\n    node.children.forEach( (child) => {\n        const childStates = fitchParsimony(name, child);\n        U = [...U, ...childStates.filter( (state) => !U.includes(state) )]; // take the union\n        I = (I === undefined ? childStates : childStates.filter( (state) => I.includes(state) )); // take the intersection\n    });\n\n    node.annotations = (node.annotations === undefined ? {} : node.annotations);\n\n    // set the node annotation to the intersection if not empty, the union otherwise\n    node.annotations[name] = [...(I.length > 0 ? I : U)];\n\n    return node.annotations[name];\n}\n\nfunction reconstructInternalStates(name, parentStates, acctran, node ) {\n    let nodeStates = node.annotations[name];\n    if (!Array.isArray(nodeStates)) {\n        nodeStates = [nodeStates];\n    }\n\n    if (node.children) {\n\n        let stateCounts = {};\n\n        nodeStates\n            .forEach((state) => stateCounts[state] = (stateCounts[state] ? stateCounts[state] += 1 : 1) );\n\n        parentStates\n            .forEach((state) => stateCounts[state] = (stateCounts[state] ? stateCounts[state] += 1 : 1) );\n\n        node.children.forEach((child) => {\n            reconstructInternalStates(name, nodeStates, acctran, child)\n                .forEach((state) => stateCounts[state] = (stateCounts[state] ? stateCounts[state] += 1 : 1) );\n        });\n\n        const max = Object.entries(stateCounts).reduce((prev, current) => (prev[1] > current[1]) ? prev : current)[1];\n        nodeStates = Object.entries(stateCounts).filter(([state, count]) => count === max).map(([state, count]) => state );\n\n        node.annotations[name] = (nodeStates.length === 1 ? nodeStates[0] : nodeStates);\n    }\n\n    return nodeStates;\n}\nfunction makeNode(nodeData){\n    return new Node({...nodeData, tree:this});\n}\n\n/**\n * A private function that sets up the tree by traversing from the root Node and sets all heights and lenghts\n * @param node\n */\nfunction setUpNodes(node){\n    if(node.children){\n        const childrenNodes=[]\n        for(const child of node.children){\n            const childNode = makeNode.call(this,{...child,parent:node,level:node.level+1})\n            childrenNodes.push(childNode);\n            setUpNodes.call(this,childNode);\n        }\n        node.children = childrenNodes;\n    }\n}\n\nfunction setUpArraysAndMaps() {\n    this._nodeList = [...this.preorder()];\n    this.nodesUpdated=false;\n    this._nodeList.forEach((node) => {\n        if (node.label && node.label.startsWith(\"#\")) {\n            // an id string has been specified in the newick label.\n            node._id = node.label.substring(1);\n        }\n        if (node.annotations) {\n            this.addAnnotations(node.annotations);\n        }\n    });\n    this._nodeMap = new Map(this.nodeList.map((node) => [node.id, node]));\n    this._tipMap = new Map(this.externalNodes.map((tip) => [tip.name, tip]));\n}\n\n/**\n * The node class. This wraps a node in a tree and notifies the tree when\n * the node updates. It can be treated almost exactly like an object. It just has\n * helper setters and getters to handel changes, and a few extra methods.\n * {\n            height:undefined,\n            divergence:undefined,\n            length:undefined,\n            name:null,\n            annotations:{},\n            parent:undefined,\n            children:null,\n            label:undefined,\n            id:`node-${uuid.v4()}`\n        }\n */\n\nclass Node{\n\n\n\n    static DEFAULT_NODE(){\n        return{\n            height:undefined,\n            divergence:undefined,\n            length:undefined,\n            name:null,\n            annotations:{},\n            parent:undefined,\n            children:null,\n            label:undefined,\n            id:`node-${uuid.v4()}`\n        }\n\n\n    }\n\n\n    constructor(nodeData ={}){\n        const data = {...Node.DEFAULT_NODE(),...nodeData};\n\n        this._id = data.id;\n        this._height = data.height;\n        this._divergence= data.divergence;\n        this._length = data.length;\n        this._name = data.name;\n        this._annotations= data.annotations;\n        this._parent = data.parent;\n        this._children = data.children;\n        this._tree = data.tree;\n        this._label = data.label;\n\n    }\n    get level() {\n        let level=0;\n        let node=this;\n        while(node.parent){\n            node=node.parent;\n            level+=1\n        }\n        return level;\n    }\n    get name() {\n        return this._name;\n    }\n    set name(value){\n        this._tree.nodesUpdated=true;\n        this._name = value;\n    }\n\n    set level(value) {\n        this._level = value;\n    }\n    get label() {\n        return this._label;\n    }\n\n    set label(value) {\n        this._label = value;\n    }\n    get height() {\n        if(!this._tree.heightsKnown){\n            calculateHeights.call(this._tree);\n        }\n        return this._height;\n    }\n\n    get divergence(){\n        if(this._tree.lengthsKnown){\n            if(this.parent){\n                return this.parent.divergence+this.length\n            }else{\n                return 0\n            }\n        }else{\n            calculateLengths().call(this._tree);\n            return this.divergence;\n        }\n    }\n\n    set height(value) {\n        this._height = value;\n        this._tree.lengthsKnown=false;\n        this._tree.treeUpdateCallback();\n    }\n\n    get length() {\n        if(!this._tree.lengthsKnown){\n            calculateLengths.call(this._tree);\n        }\n        return this._length;\n    }\n\n    set length(value) {\n        this._length = value;\n        this._tree.heightsKnown = false;\n        this._tree.treeUpdateCallback();\n    }\n\n    get annotations() {\n        return {...this._annotations};\n    }\n\n    set annotations(value) {\n        this._annotations = value;\n    }\n\n    get children() {\n        return this._children;\n    }\n\n    set children(value) {\n        this._children = value;\n        for(const child of this._children){\n            child.parent=this;\n        }\n        this._tree.nodesUpdated = true;\n    }\n    addChild(node){\n        const newNode = new Node({...node,tree:this._tree,level:this._level+1});\n        this.children = [...this._children,newNode];\n        setUpNodes.call(this._tree,newNode);\n        this._tree.addAnnotations(newNode.annotations);\n        this._tree.nodesUpdated = true;\n    }\n    get parent() {\n        return this._parent;\n    }\n    set parent(node) {\n        this._parent = node;\n        if(this._parent.children.filter(c=>c===this).length===0){\n            this._parent.children.push(this)\n        }\n        this._tree.nodesUpdated = true;\n    }\n    get id(){\n        return this._id;\n    }\n    set id(value){\n        this._tree.nodesUpdated=true;\n        this._id = value;\n    }\n    get tree(){\n        return this._tree;\n    }\n    getClade(tipNameMap=null){\n        if(tipNameMap==null && this.clade && this._tree.nodesUpdated===false){\n            return(this._clade)\n        }\n\n        let bits = [];\n        if(!this.children){\n            const nodeNumericId = tipNameMap? tipNameMap.get(this.name):this.id;\n            if(nodeNumericId!==parseInt(nodeNumericId)){\n                throw new Error(\"Getting clade requires tips have integer id's. If they do not please provide a map to integers keyed by the tips' names \")\n            }\n            bits = bits.concat(this.id);\n            this._clade = bits;\n        }else{\n            for(const child of this.children){\n                bits = bits.concat(child.getClade(tipNameMap));\n            }\n           this._clade=bits;\n        }\n        return bits;\n    };\n\n\n    toJS(){\n        return ({\n                id: this.id,\n                name:this.name,\n                length:this.length,\n                height:this.height,\n                label:this.label,\n                level:this.level,\n                annotations:this.annotations,\n                children: this.children && this.children.length>0? this.children.map(child=>child.toJS()):null,\n                });\n}\n\n\n}\n\n","\"use strict\";\n\n/** @module bauble */\nimport uuid from \"uuid\";\n\n/**\n * The Bauble class\n *\n * This is a shape or Decoration at the node or edge of a tree.\n */\nexport class Bauble {\n    constructor() {\n        this.id=`n${uuid.v4()}`;\n        this._attrs ={};\n        this._interactions = {};\n        this._filter=()=>true;\n    }\n\n    /**\n     * A function that appends the element to the selection, joins the data, assigns the attributes to the svg objects\n     * updates and remove unneeded objects.\n     * @param selection\n     */\n    update(selection) {\n        throw new Error(\"Don't call the base class method\")\n\n    }\n\n\n    /**\n     * Getter or setter of bauble filter. The filter is function that will be passed the vertex or edge.It should return\n     * true or false\n     * @param f\n     * @return {*|Bauble}\n     */\n    filter(f=null){\n        if(f===null){\n            return this._filter;\n        }else{\n            this._filter=f;\n            return this;\n        }\n    }\n\n    /**\n     * Get or set the bauble manager that handles these elements. this is called by the manager when the element\n     * is added.\n     * @param manager\n     * @return {Bauble|*}\n     */\n\n    manager(manager=null){\n        if(manager===null){\n            return this._manager;\n        }else{\n            this._manager=manager;\n            return this;\n        }\n    }\n\n    /**\n     * Get or set attributes that will style the elements.\n     * @param string\n     * @param value - a string, number, or function that will be passed to d3 selection.\n     * @return {Bauble|*}\n     */\n    attr(string,value=null){\n        if(value){\n            this._attrs[string] = value;\n            return this\n        }else{\n            return this._attrs[string]\n        }\n    }\n\n    /**\n     * Set a call back to be fired when the event listener is triggered.\n     * @param eventListener - a string that defines the event listener\n     * @param value -  call back that will be passed d,i,n\n     * @return {Bauble}\n     */\n    on(eventListener,value){\n        this._interactions[eventListener] = value;\n        return this;\n    }\n\n    /**\n     * Get or set the transition duration and ease. Defualts to the figtree instance.\n     * @param t - {Object} [t={tranmsissionDuration: transmissionEase:}]\n     * @return {Bauble|*}\n     */\n    transitions(t=null){\n        if(t===null){\n            if(this._transitions){\n                return this._transitions;\n            }else{\n                return this.manager().figure().transitions();\n            }\n\n        }else{\n            this._transitions=t;\n            return this;\n        }\n    }\n\n    /**\n     * Get or set the scales used in the element defaults to the figtree instance.\n     * @param scales\n     * @return {Bauble.scales|*}\n     */\n    scales(scales=null){\n        if(scales){\n            this._scales=scales\n        }else{\n            if(this._scales){\n                return this._scales;\n            }else{\n                return this.manager().figure().scales\n            }\n        }\n    }\n\n    /**\n     * sets the x position based on the scale\n     * @param unscaledValue - number or function that is passed the data\n     */\n    scaledX(unscaledValue){\n        const n=parseFloat(unscaledValue);\n        if(n){\n            this.attr(\"x\",d=>this.scales().x(unscaledValue))\n        }\n        else{\n            this.attr(\"x\",d=>this.scales().x(unscaledValue(d)))\n        }\n        return this;\n\n    }\n    /**\n     * sets the y position based on the scale\n     * @param unscaledValue - number or function that is passed the data\n     */\n    scaledY(unscaledValue){\n        const n=parseFloat(unscaledValue);\n        if(n){\n            this.attr(\"y\",d=>this.scales().y(unscaledValue))\n        }\n        else{\n            this.attr(\"y\",d=>this.scales().y(unscaledValue(d)))\n        }\n        return this;\n    }\n    // revealOnHover(){\n    //\n    //     this.filter()\n    //     //TODO put listener on parent only insert this element if the parent is hovered or clicked ect.\n    // }\n\n}\n\n\n\n","import {select} from \"d3-selection\";\n\nfunction attrsFunction(selection, map) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.attr(name, x[name]);\n  });\n}\n\nfunction attrsObject(selection, map) {\n  for (var name in map) selection.attr(name, map[name]);\n  return selection;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? attrsFunction : attrsObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction stylesFunction(selection, map, priority) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.style(name, x[name], priority);\n  });\n}\n\nfunction stylesObject(selection, map, priority) {\n  for (var name in map) selection.style(name, map[name], priority);\n  return selection;\n}\n\nexport default function(map, priority) {\n  return (typeof map === \"function\" ? stylesFunction : stylesObject)(this, map, priority == null ? \"\" : priority);\n}\n","import {select} from \"d3-selection\";\n\nfunction propertiesFunction(selection, map) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.property(name, x[name]);\n  });\n}\n\nfunction propertiesObject(selection, map) {\n  for (var name in map) selection.property(name, map[name]);\n  return selection;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? propertiesFunction : propertiesObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction attrsFunction(transition, map) {\n  return transition.each(function() {\n    var x = map.apply(this, arguments), t = select(this).transition(transition);\n    for (var name in x) t.attr(name, x[name]);\n  });\n}\n\nfunction attrsObject(transition, map) {\n  for (var name in map) transition.attr(name, map[name]);\n  return transition;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? attrsFunction : attrsObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction stylesFunction(transition, map, priority) {\n  return transition.each(function() {\n    var x = map.apply(this, arguments), t = select(this).transition(transition);\n    for (var name in x) t.style(name, x[name], priority);\n  });\n}\n\nfunction stylesObject(transition, map, priority) {\n  for (var name in map) transition.style(name, map[name], priority);\n  return transition;\n}\n\nexport default function(map, priority) {\n  return (typeof map === \"function\" ? stylesFunction : stylesObject)(this, map, priority == null ? \"\" : priority);\n}\n","import {selection} from \"d3-selection\";\nimport {transition} from \"d3-transition\";\nimport selection_attrs from \"./src/selection/attrs\";\nimport selection_styles from \"./src/selection/styles\";\nimport selection_properties from \"./src/selection/properties\";\nimport transition_attrs from \"./src/transition/attrs\";\nimport transition_styles from \"./src/transition/styles\";\n\nselection.prototype.attrs = selection_attrs;\nselection.prototype.styles = selection_styles;\nselection.prototype.properties = selection_properties;\ntransition.prototype.attrs = transition_attrs;\ntransition.prototype.styles = transition_styles;\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","\"use strict\";\nimport {format,curveStepBefore,max,min,line,mean,scaleLinear,curveLinear} from \"d3\";\nimport {Type} from \"../../tree\";\nimport uuid from \"uuid\";\n\n/** @module layout */\n\nexport const  VertexStyle = {\n    INCLUDED:Symbol(\"INCLUDED\"),// Only included nodes are sent to the figtree class\n    IGNORED:Symbol('IGNORED'), // Ignored nodes are just that ignored in everyway\n    HIDDEN:Symbol(\"HIDDEN\"), // The only difference between hidden and included nodes is that hidden nodes are not sent to the figtree class\n    MASKED:Symbol(\"MASKED\") // Masked nodes have an x and y coordinate but are then ignored. They don't count towards their parent's x and y and are not visualized.\n}\n\n/**\n * The interface for the layout class this defines the api\n *\n */\nexport class layoutInterface {\n\n    /**\n     * The constructor\n     * @param tree\n     * @param settings\n     */\n\n\n    /**\n     * The layout function is called to make the edges, vertrices, and cartoons that make up the graph and set or update\n     * their positions on a custom x and y scale. It also should update the _horizontialScale, the _veriticalRange so that\n     * these positions can be converted to a [0,1] scale to be consumed by the figtree class.\n     * \n     */\n    layout() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A getter to return the horizontal range spanned by the vertices in the graph\n     */\n    get horizontalDomain() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    /**\n     * A getter to return the vertical range spanned by the vertices in the graph\n     */\n    get verticalDomain() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n\n    /**\n     * A setter for setting the branchScale factor. Should trigger and update\n     * @param value\n     */\n    set branchScale(value){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n\n    }\n\n    /**\n     * A getter for the branchScaling factor\n     * @return {number}\n     */\n    get branchScale(){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * Sets the annotation to use as the node labels for internal nodes. It should trigger and update.\n     *\n     * @param annotationName\n     */\n    set internalNodeLabelAnnotationName(annotationName) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n\n    }\n\n    /**\n     * Getter for internal node annotation name\n     * @return {*}\n     */\n    get internalNodeLabelAnnotationName() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n\n\n    /**\n     * Sets the annotation to use as the node labels for external nodes.It should trigger and update\n     *\n     * @param annotationName\n     */\n    set externalNodeLabelAnnotationName(annotationName) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n\n    }\n\n    /**\n     * getter for external node label name.\n     * @return {*}\n     */\n    get externalNodeLabelAnnotationName() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * Sets the annotation to use as the branch labels. It should trigger an update\n     *\n     * @param annotationName\n     */\n    set branchLabelAnnotationName(annotationName) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    get branchLabelAnnotationName() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * Updates the tree when it has changed\n     */\n    update() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    /**\n     * A utility function for rotating a node\n     * @returns {*}\n     */\n    rotate() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function for ordering a subtree with increasing tip density\n     * @returns {orderIncreasing}\n     */\n    orderIncreasing() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function for ordering a subtree with decreasing tip density\n     * @returns {orderIncreasing}\n     */\n    orderDecreasing() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function for rerooting the tree\n     * @returns {reroot}\n     */\n    reroot() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function to mark a clade as a triangle cartoon\n     * @param vertex\n     */\n    cartoon(vertex) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utitlity function to collapse a clade into a single branch and tip.\n     * @param vertex\n     */\n    collapse(vertex) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function to mask a node so that it's vertex will be assigned an x and y but these values will not be used\n     * to calculate the position of parent nodes.\n     * @param node\n     */\n    maskNode(node){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function to hide a node so that it is not sent to the figtree class for visualization.\n     * @param node\n     */\n    hideNode(node){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function to ignore a node so that it does not get an x or y coordinate and is not sent to figtree.js\n     * for visualization.\n     * @param node\n     */\n    ignoreNode(node){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n\n    }\n\n    /**\n     * A unitlity function to mark a node as included. This is the default.\n     * @param node\n     */\n    includeNode(node){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function that will return a HTML string about the node and its\n     * annotations. Can be used with the addLabels() method.\n     *\n     * @param node\n     * @returns {string}\n     */\n    nodeInfo(node) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A getter function that updates the layout if needed and then returns edges whose target node is \"included\"\n     * @return {T[]}\n     */\n    get edges() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._edges.filter(e => e.v1.visibility===VertexStyle.INCLUDED);\n    }\n\n    /**\n     * A getter function that updates the layout if needed and returns included vertices.\n     * @return {T[]}\n     */\n    get vertices() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A getter function that updates the layout if needed, determines the most ancestral cartoons, hides the appropriate vertices\n     * and then returns a array of  cartoon objects defined as {vertices[{x:,y}...{x:,y:}], _deprecatedClasses:[string,...],id:string,node:NODE:starting node }\n     * @return {[]}\n     */\n    get cartoons() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function that updates the layout if needed then returns the nodeMap.\n     * @return {*|Map|Map|Map|Map<any, any>}\n     */\n    get nodeMap() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function that updates the layout if needed then returns the edgeMap.\n     * @return {*|Map|Map|Map|Map<any, any>}\n     */\n    get edgeMap() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n\n    /**\n     * sets the initial Y value for the first node returned from the getTreeNodes().\n     * @return {number}\n     */\n    setInitialY() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * Set the y position of a vertex and return the Y position. This function is called on each node in the order returns from the getTreeNodes() method.\n     * The currentY represent the Y position of the previous node at each iteration. These y values will be converted to pixels by the figtree instance.\n     * range.\n     * @param vertex\n     * @param currentY\n     * @return {number}\n     */\n    setYPosition(vertex, currentY) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    /**\n     * sets the initial x value for the first node returned from the getTreeNodes().\n     * @return {number}\n     */\n    setInitialX() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    /**\n     * Set the x position of a vertex and return the X position. This function is called on each node in the order returns from the getTreeNodes() method.\n     * The currentX represent the x position of the previous node at each iteration. These x values will be mapped to a [0,1]\n     * range. In the 'normal' left to right tree this method would ignore the currentX and set the x based on the horizontal scale.\n     * @param vertex\n     * @param currentX\n     * @return {number}\n     */\n    setXPosition(vertex, currentX) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n\n    /**\n     * A private method which returns the nodes of the tree in the order in which they will be assigned Y and X coordinates.\n     * This function is passed to getTreeNodes() methods which filters out the ignoredNodes. This funciton should be overwritten\n     * but only called if the ignored nodes are needed.\n     * @return {Array[]}\n     */\n    _getTreeNodes(){\n    throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A helper function that returns an array of verticies corresponding to a vertex's node's children. This method is useful\n     * because it handles the logic determining whether or not a vertex is included, hidden, masked ect.\n     *\n     * @param vertex\n     * @return {*}\n     */\n    getChildVertices(vertex){\n        return vertex.node.children.map(child=>this._nodeMap.get(child)).filter(child=>child.visibility===VertexStyle.INCLUDED||child.visibility===VertexStyle.HIDDEN);\n    }\n\n\n    /**\n     * A utility function that replaces the aspects of the settins provided here then calls update.\n     * @param newSettings\n     */\n    updateSettings(newSettings){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A method that updates a layout's layout function. middlewares should take one parameter which will be this layout.\n     * They can then use this parameter to access the methods and state of the layout.\n     * @param middlewares - function to be called after the original layout function\n     * @return {layout}\n     */\n    extendLayout(...middlewares){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    /**\n     * A method that subscribes the function to be called when the layout updates.\n     * @param func - function to be called when the layout updates\n     */\n    subscribeCallback(func){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n\n    }\n\n\n}\n\n\n","\"use strict\";\nimport {format,max,min,mean} from \"d3\";\nimport {Tree, Type} from \"../../tree\";\nimport {layoutInterface} from \"./layoutInterface\";\nimport extent from \"d3-array/src/extent\";\nimport {mergeDeep} from \"../../utilities\";\n\n/** @module layout */\n\nexport const  VertexStyle = {\n    INCLUDED:Symbol(\"INCLUDED\"),// Only included nodes are sent to the figtree class\n    HIDDEN:Symbol(\"HIDDEN\"), // The only difference between hidden and included nodes is that hidden nodes are not sent to the figtree class\n    MASKED:Symbol(\"MASKED\"), // Masked nodes have an x and y coordinate but are then ignored. They don't count towards their parent's x and y\n    IGNORED:Symbol(\"IGNORE\")\n};\n\n\nexport const  makeVerticesFromNodes=Symbol(\"makeVerticesFromNodes\");\nexport const setVertexClassesFromNode = Symbol(\"setVertexClassesFromNode\");\nexport const setVertexLabels=Symbol(\"setVertexLabels\");\nexport const makeEdgesFromNodes = Symbol(\"makeEdgesFromNodes\");\nexport const setupEdge=Symbol(\"setupEdge\");\nexport const setEdgeTermini = Symbol(\"setEdgeTermini\");\nexport const setEdgeClasses = Symbol(\"setEdgeClasses\");\nexport const setEdgeLabels = Symbol(\"setEdgeLabels\");\nexport const getMostAncestralCartoons=Symbol(\"getMostAncestralCartoons\");\n\n/**\n * The AbstractLayout class\n *\n */\nexport class  AbstractLayout extends layoutInterface {\n\n    /**\n     * The default layout settings\n     * @return {{lengthFormat: *, horizontalScale: null}}\n     * @constructor\n     */\n    static DEFAULT_SETTINGS() {\n        return {\n            lengthFormat: format(\".2f\"),\n            branchLabelAnnotationName:null,\n            internalNodeLabelAnnotationName:null,\n            externalNodeLabelAnnotationName:null,\n        }\n    }\n\n    /**\n     * The constructor\n     * @param tree\n     * @param settings\n     */\n    constructor(tree, settings = {}) {\n        super();\n\n        this.tree = tree;\n        this.settings = {...AbstractLayout.DEFAULT_SETTINGS(), ...settings};\n\n        this._edges = [];\n        this._edgeMap = new Map();\n\n        this._vertices = [];\n        this._nodeMap = new Map();\n\n        this._cartoonStore = [];\n        this._ignoredNodes=[];\n\n        this.layoutKnown = false;\n\n        // called whenever the tree changes...\n        this.tree.subscribeCallback( () => {\n                                    this.layoutKnown = false;\n                                     this.update();\n        });\n\n        // create an empty callback function\n        this.updateCallback = () => {\n        };\n\n    }\n\n    layout() {\n        // this._horizontalScale = this.updateHorizontalScale();\n\n        const treeNodes = this._getTreeNodes();\n        this[makeVerticesFromNodes](treeNodes);\n        this[makeEdgesFromNodes](treeNodes);\n        // get the nodes\n\n        let currentY = this.setInitialY();\n        let currentX = this.setInitialX();\n\n\n        // update the node locations (vertices)\n        treeNodes.forEach((n) => {\n            const v = this._nodeMap.get(n);\n                currentY = this.setYPosition(v, currentY);\n                currentX = this.setXPosition(v, currentX);\n        });\n\n        //Update edge locations\n        this._edges\n            .forEach((e) => {\n                this[setupEdge](e);\n            });\n        this.layoutKnown = true;\n\n    }\n\n    get horizontalDomain() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        const xPositions = [...this._vertices.map(d=>d.x),min(this._vertices.map(d=>d.x))];\n        return [max(xPositions),min(xPositions)];\n    }\n\n    get verticalDomain() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return extent(this._vertices,d=>d.y);\n    }\n    \n\n    update() {\n        this.updateCallback();\n    }\n\n\n    rotate() {\n        return (vertex) => {\n            this.tree.rotate(vertex.node);\n            // this.update();\n        };\n    }\n\n\n    orderIncreasing() {\n        return (vertex) => {\n            this.tree.rotate(vertex.node);\n            // this.update();\n        };\n    }\n\n\n    orderDecreasing() {\n        return (vertex) => {\n            this.tree.rotate(vertex.node);\n            // this.update();\n        };\n    }\n\n\n    reroot() {\n        this.layoutKnown=false;\n        return (edge, position) => {\n            this.tree.reroot(edge.v1.node, position);\n            // this.update();\n        };\n    }\n\n\n    cartoon(vertex) {\n        const node = vertex.node;\n        if (node.children) {\n            if (this._cartoonStore.filter(c => c.format === \"cartoon\").find(c => c.node === node)) {\n                this._cartoonStore = this._cartoonStore.filter(c => !(c.format === \"cartoon\" && c.node === node));\n\n                [...this.tree.postorder(node)]\n                    .filter(n=>n!==node)\n                    .map(n=>this._nodeMap.get(n))\n                    .forEach(v=>v.visibility = v.visibility===VertexStyle.HIDDEN?VertexStyle.INCLUDED:v.visibility);\n\n            } else {\n                this._cartoonStore.push({\n                    node: node,\n                    format: \"cartoon\"\n                })\n            }\n            // hide children vertices\n            this._cartoonStore.forEach(c=>{\n                [...this.tree.postorder(c.node)]\n                    .filter(n=>n!==c.node)\n                    .forEach(n=>this.hideNode(n))\n            });\n\n            this.layoutKnown = false;\n            this.update();\n        }\n    }\n\n    maskNode(node) {\n        const vertex = this.nodeMap.get(node);\n        vertex.visibility = VertexStyle.MASKED;\n        this.layoutKnown = false;\n    }\n\n    hideNode(node) {\n        const vertex = this.nodeMap.get(node);\n        vertex.visibility = VertexStyle.HIDDEN;\n        this.layoutKnown = false;\n    }\n\n    ignoreNode(node) {\n        this._ignoredNodes.push(node);\n        this.layoutKnown = false;\n    }\n\n    includeNode(node) {\n        this._ignoredNodes = this._ignoredNodes.filter(n=>n!==node);\n\n        const vertex = this.nodeMap.get(node);\n        vertex.visibility = VertexStyle.INCLUDED;\n        this.layoutKnown = false;\n    }\n\n    getChildVertices(vertex){\n\n        // return vertex.node.children.map(child=>this._nodeMap.get(child)).filter(child=>child.visibility===VertexStyle.INCLUDED||child.visibility===VertexStyle.HIDDEN);\n        const children =  vertex.node.children.filter(n=>!this._ignoredNodes.includes(n)).map(child=>this._nodeMap.get(child));\n\n\n        try{\n            return children.filter(child=>child.visibility!==VertexStyle.MASKED);\n        }catch{\n            console.group(`${vertex.node.id}`);\n            console.log(vertex);\n            console.log(children);\n            console.groupEnd();\n        }\n\n    }\n\n\n    nodeInfo(node) {\n        let text = `${node.name ? node.name : node.id}`;\n        Object.entries(node.annotations).forEach(([key, value]) => {\n            text += `<p>${key}: ${value}</p>`;\n        });\n        return text;\n    }\n\n    get edges() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._edges.filter(e => e.v1.visibility === VertexStyle.INCLUDED);\n    }\n\n    get vertices() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._vertices.filter(v => v.visibility === VertexStyle.INCLUDED);\n    }\n\n    get cartoons() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n\n        // Handle cartoons\n        // here we handle what's active and what isn't.\n        const cartoons = [];\n        const ancestralCartoons = this[getMostAncestralCartoons](this._cartoonStore);\n        ancestralCartoons\n            .forEach(c => {\n\n\n            const cartoonNodeDecedents = [...this.tree.postorder(c.node)].filter(n => n !== c.node);\n            const cartoonVertex = this._nodeMap.get(c.node);\n            const cartoonVertexDecedents = cartoonNodeDecedents.map(n => this._nodeMap.get(n));\n            const newTopVertex = {\n                x: min(cartoonVertexDecedents, d => d.x),\n                y: max(cartoonVertexDecedents, d => d.y),\n                id: `${cartoonVertex.id}-top`,\n                node: cartoonVertex.node,\n                classes: cartoonVertex.classes\n            };\n            const newBottomVertex = {\n                ...newTopVertex, ...{y: min(cartoonVertexDecedents, d => d.y), id: `${cartoonVertex.id}-bottom`}\n            };\n            // place in middle of tips.\n            cartoonVertex.y = mean([newTopVertex, newBottomVertex], d => d.y);\n            let currentNode = cartoonVertex.node;\n            while (currentNode.parent) {\n                const parentVertex = this._nodeMap.get(currentNode.parent);\n                if (!parentVertex.node.children ) {\n                    parentVertex.y = mean(this.getChildVertices(parentVertex), (child) => this._nodeMap.get(child).y)\n                }\n                currentNode = parentVertex.node;\n\n            }\n\n            cartoons.push({\n                vertices: [cartoonVertex, newTopVertex, newBottomVertex],\n                classes: cartoonVertex.classes,\n                id: `${cartoonVertex.id}-cartoon`, node: c.node\n            })\n        });\n        return cartoons;\n\n    }\n\n    get nodeMap() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._nodeMap;\n    }\n\n    get edgeMap() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._edgeMap;\n    }\n\n\n    updateSettings(settings){\n        this.settings = mergeDeep(this.settings,settings);\n        this.update();\n    }\n\n// inspired by redux naive implementation https://redux.js.org/advanced/middleware\n    extendLayout(...middlewares){\n        middlewares = middlewares.slice();\n        middlewares.reverse();\n        let layout = this.layout.bind(this);\n        middlewares.forEach(middleware => {\n            const wrappedMiddleware = nextLayout=>(context)=>()=>\n            {\n                nextLayout(context);\n                middleware(context);\n            };\n            layout = wrappedMiddleware(layout)(this);\n        });\n        this.layout = layout;\n        this.layoutKnown=false;\n        return this;\n    }\n\n    setInitialY() {\n        return -0.5;\n    }\n    setInitialX() {\n        return 0;\n    }\n    setXPosition(vertex,currentX){\n        vertex.x = vertex.node.height;\n        return 0;\n    }\n\n    /**\n     * A class function that subscribes a to be called when the tree updates.\n     * @param func - function to be called when the tree updates\n     */\n    subscribeCallback(func){\n        const currentCallback = this.updateCallback;\n        this.updateCallback = () =>{\n            currentCallback();\n            func();\n        }\n    }\n\n    /*\n    *\n     */\n    [makeVerticesFromNodes](nodes){\n        nodes.forEach((n, i) => {\n\n            if(!this._nodeMap.has(n)&&!this._ignoredNodes.includes(n)){\n                const vertex = {\n                    node: n,\n                    key: n.id,\n                    visibility:VertexStyle.INCLUDED,\n                    degree : (n.children ? n.children.length + 1 : 1) ,// the number of edges (including stem)\n                    id :n.id\n                };\n\n                this._vertices.push(vertex);\n                this._nodeMap.set(n, vertex);\n            }\n            //update _deprecatedClasses as needed.\n            const vertex = this._nodeMap.get(n);\n                this[setVertexClassesFromNode](vertex);\n                this[setVertexLabels](vertex);\n        }\n\n        );\n\n        //remove vertices not in nodes\n        for(const n of this._nodeMap.keys()){\n            if(!nodes.includes(n)){\n                this._vertices=this._vertices.filter(v=>v!==this._nodeMap.get(n));\n                this._nodeMap.delete(n);\n            }\n        }\n\n    }\n\n    [setVertexClassesFromNode](v){\n        v.classes = [\n            (!v.node.children ? \"external-node\" : \"internal-node\"),\n            (v.node.isSelected ? \"selected\" : \"unselected\")];\n\n        if (v.node.annotations) {\n            v.classes = [\n                ...v.classes,\n                ...Object.entries(v.node.annotations)\n                    .filter(([key]) => {\n                        return this.tree.annotations[key] &&\n                            (this.tree.annotations[key].type === Type.DISCRETE ||\n                                this.tree.annotations[key].type === Type.BOOLEAN ||\n                                this.tree.annotations[key].type === Type.INTEGER);\n                    })\n                    .map(([key, value]) => `${key}-${value}`)];\n        }\n\n    }\n    [setVertexLabels](v){\n        // either the tip name or the internal node label\n        if (v.node.children) {\n            v.leftLabel = (this.settings.internalNodeLabelAnnotationName)?\n                (this.settings.internalNodeLabelAnnotationName===\"label\")?\n                    v.node[\"label\"]:\n                    (this.settings.internalNodeLabelAnnotationName===\"name\")?\n                        v.node[\"name\"]:\n                v.node.annotations[this.settings.internalNodeLabelAnnotationName]:\n                \"\";\n            v.rightLabel = \"\";\n\n            // should the left node label be above or below the node?\n            v.labelBelow = (!v.node.parent || v.node.parent.children[0] !== v.node);\n        } else {\n            v.leftLabel = \"\";\n            v.rightLabel = (this.settings.externalNodeLabelAnnotationName)?\n                (this.settings.externalNodeLabelAnnotationName===\"label\")?\n                    v.node[\"label\"]:\n                    (this.settings.externalNodeLabelAnnotationName===\"name\")?\n                        v.node[\"name\"]:\n                        v.node.annotations[this.settings.externalNodeLabelAnnotationName]:\n                \"\";\n        }\n    }\n\n    [makeEdgesFromNodes](nodes){\n        // create the edges (only done if the array is empty)\n        nodes\n            .filter((n) => n.parent) // exclude the root\n            .forEach((n, i) => {\n                if(!this._edgeMap.has(this._nodeMap.get(n))) {\n                    const edge = {\n                        v0: this._nodeMap.get(n.parent),\n                        v1: this._nodeMap.get(n),\n                        key: n.id\n                    };\n                    this._edges.push(edge);\n                    this._edgeMap.set(edge.v1, edge);\n                }\n            });\n\n        //remove edges not in nodes\n        for(const v1 of this._edgeMap.keys()){\n            if(!nodes.includes(v1.node)){\n                this._edges=this._edges.filter(e=>e!==this._edgeMap.get(v1));\n                this._edgeMap.delete(v1);\n            }\n        }\n    }\n    [setupEdge](e){\n        this[setEdgeTermini](e);\n        this[setEdgeClasses](e);\n        this[setEdgeLabels](e);\n    }\n    [setEdgeTermini](e){\n        e.v1 = this._nodeMap.get(e.v1.node);\n        e.v0 = this._nodeMap.get(e.v1.node.parent);\n        e.length = length;\n    }\n\n    [setEdgeClasses](e){\n        e.classes = [];\n\n        if (e.v1.node.annotations) {\n            e.classes = [\n                ...e.classes,\n                ...Object.entries(e.v1.node.annotations)\n                    .filter(([key]) => {\n                        return this.tree.annotations[key] &&\n                            (this.tree.annotations[key].type === Type.DISCRETE ||\n                                this.tree.annotations[key].type === Type.BOOLEAN ||\n                                this.tree.annotations[key].type === Type.INTEGER);\n                    })\n                    .map(([key, value]) => `${key}-${value}`)];\n        }\n    }\n    [setEdgeLabels](e){\n        e.label = (this.settings.branchLabelAnnotationName ?\n            (this.settings.branchLabelAnnotationName === 'length' ?\n                this.settings.lengthFormat(length) :\n                e.v1.node.annotations[this.settings.branchLabelAnnotationName]) :\n            null );\n        e.labelBelow = e.v1.node.parent.children[0] !== e.v1.node;\n    }\n\n    [getMostAncestralCartoons](cartoons){\n    const cartoonNodes = cartoons.map(c=>c.node);\n    const mostAncestralNode = cartoonNodes.filter(n=>![...Tree.pathToRoot(n)].filter(m=>m!==n).some(n=>cartoonNodes.includes(n)));\n\n    return cartoons.filter(c=>mostAncestralNode.includes(c.node));\n\n    };\n\n}\n\nclass Vertex{\n    constructor(node,layout){\n            this._layout= layout;\n            this.node=node;\n            this.key=node.id;\n            this.visibility=VertexStyle.INCLUDED;\n            this.degree = (node.children ? node.children.length + 1 : 1) ;// the number of edges (including stem)\n            this.id =node.id;\n            [setVertexClassesFromNode]();\n    };\n    [setVertexClassesFromNode](){\n        this._classes = [\n            (!this.node.children ? \"external-node\" : \"internal-node\"),\n            (this.node.isSelected ? \"selected\" : \"unselected\")];\n\n        if (this.node.annotations) {\n            this._classes = [\n                ...this._classes,\n                ...Object.entries(this.node.annotations)\n                    .filter(([key]) => {\n                        return this.node.tree.annotations[key] &&\n                            (this.node.tree.annotations[key].type === Type.DISCRETE ||\n                                this.node.tree.annotations[key].type === Type.BOOLEAN ||\n                                this.node.tree.annotations[key].type === Type.INTEGER);\n                    })\n                    .map(([key, value]) => `${key}-${value}`)];\n        }\n\n    }\n    hide(){\n        this.visibility=VertexStyle.HIDDEN;\n    }\n    mask(){\n        this.visibility=VertexStyle.MASKED;\n    }\n    include(){\n        this.visibility=VertexStyle.INCLUDED;\n    }\n    ignore(){\n        this.visibility=VertexStyle.IGNORED;\n    }\n\n    addClass(c){\n        this._classes=this._classes.concat(c);\n    }\n\n    removeClass(c){\n        this._classes=this._classes.filter(d=>d!==c);\n    }\n    get classes(){\n        return this._classes;\n    }\n\n    set label(d){\n        const label = (d instanceof Function) ? d(this) :d;\n        // either the tip name or the internal node label\n        if (this.node.children) {\n            this._leftLabel = label;\n            this._rightLabel = \"\";\n\n            // should the left node label be above or below the node?\n            this.labelBelow = (!this.node.parent || this.node.parent.children[0] !== this.node);\n        } else {\n            this._leftLabel = \"\";\n            this._rightLabel =label;\n        }\n    }\n\n    get rightLabel(){\n        if(this._rightLabel){\n            return this._rightLabel;\n        }\n        return \"\"\n    }\n    get leftLabel(){\n        if(this._leftLabel){\n            return this._leftLabel;\n        }\n        return \"\"\n    }\n\n}\n\n\n/**\n * This is a helper function that updates a vertices y position by a specified amount. The function is meant to open a gap\n * in the tree around vertices that are moved. A side effect of the function is\n * that vertices not listed are moved up (if they are above the selected vertices and the vertices are moved up) and\n * down if they are below the selected vertices and the vertices are moved down. It is meant to be called with this\n * referring to the layout. Remember that the top of plot has y position 0. So positive numbers move the vertices to\n * positions lower on the screen.\n * @param delta\n * @param vertices\n */\n\nexport function updateVerticesY(delta,...vertices){\n\n    if(delta>0){\n        this._vertices.filter(v=>v.y>max(vertices,v=>v.y))\n            .forEach(v=>v.y+=2*delta);\n    }\n    else if(delta<0){\n        this._vertices.filter(v=>v.y<min(vertices,v=>v.y))\n            .forEach(v=>v.y+=2*delta);\n    }\n    vertices.forEach(v=>v.y+=delta);\n}","import {AbstractLayout} from \"./abstractLayout\";\n\nexport class GeoLayout extends AbstractLayout{\n    static DEFAULT_SETTINGS() {\n        return {\n           locationKey:\"location\"\n        }\n    }\n\n    constructor(tree, projection,settings = {}) {\n        super(tree,{...GeoLayout.DEFAULT_SETTINGS(),...settings});\n        this.projection=projection;\n\n    }\n\n    setYPosition(vertex,currentY){\n\n        if(vertex.node.annotations[this.settings.locationKey]){\n            vertex.y=this.projection(vertex.node.annotations[this.settings.locationKey])[1];\n        }else{\n            vertex.y=undefined;\n        }\n\n    }\n    setXPosition(vertex,currentX){\n        if(vertex.node.annotations[this.settings.locationKey]) {\n            vertex.x = this.projection(vertex.node.annotations[this.settings.locationKey])[0];\n        }else{\n            vertex.x=undefined;\n        }\n    }\n    _getTreeNodes() {\n        return this.tree.nodeList;\n    }\n\n}","import {isFunction} from \"../utilities\";\nimport {select} from \"d3\";\n\n\n// also but some case specific helper functions for each style.\n\n/**\n * This is managing class that handles the groups that hold visible elements. These visible elements map to a node or\n * edge, and a group is added for each one. The manager positions the groups and then calls the update\n * methods of any elements .\n */\nexport  class BaubleManager{\n    constructor(type=null) {\n\n        this.type = null;\n        this._baubleHelpers=[];\n        this._filter = ()=>true;\n\n        return this;\n    }\n\n    /**\n     * Get or set svg layer elements will be added to.\n     * @param l\n     * @return {BaubleManager|*}\n     */\n    layer(l=null){\n        if(l===null){\n            return this._layer\n        }else{\n            this._layer=l;\n            return this\n        }\n    }\n\n    /**\n     * Get or set the figtree instance this manager works for. This allows the manager to access the figure's scale ect.\n     * @param f\n     * @return {BaubleManager|*}\n     */\n    figure(f=null){\n        if(f===null) {\n            return this._figure;\n        }\n        else{\n            this._figure=f;\n            return this;\n        }\n    }\n\n    /**\n     * Add an element to the managers update cycle. The element's update method will be passed\n     * each group selection in turn and should add, update, or remove visible elements.\n     * @param b\n     * @return {BaubleManager}\n     */\n    element(b){\n        b.manager(this);\n        this._baubleHelpers=this._baubleHelpers.concat(b);\n        return this;\n    }\n\n    /**\n     * Get or set the class assigned to each group managed by the manager.\n     * @param c\n     * @return {BaubleManager|*}\n     */\n    class(c=null){\n        if(c===null) {\n            return this._class;\n        }\n        else{\n            this._class=c;\n            return this;\n        }\n    }\n\n    /**\n     * Update the groups and each on to the each sub element.\n     * @param data\n     */\n    update(data){\n        const self=this;\n        if(this._figure===null||this._class===null||this._layer===null){\n            console.warn(\"incomplete element manager\");\n            return\n        }\n        let svgLayer;\n        svgLayer = this.figure().svgSelection.select(`.${this.layer()}`);\n        if(svgLayer.empty()){\n            svgLayer = this.figure().svgSelection.append(\"g\").attr(\"class\",this.layer());\n        }\n        svgLayer.selectAll(`.${this.class()}`)\n            .data(data, (d) => `${this.class()}_${d.key}`)\n            .join(\n                enter => enter\n                    .append(\"g\")\n                    .attr(\"id\", (d) => d.key)\n                    .attr(\"class\", (d) => [`${this.class()}`, ...d.classes].join(\" \"))\n                    .attr(\"transform\", (d) => {\n                        return `translate(${this.figure().scales.x(d.x)}, ${this.figure().scales.y(d.y)})`;\n                    })\n                    .each(function (d) {\n                       for(const bauble of self._baubleHelpers){\n                           bauble.update(select(this));\n                       }\n                    }),\n                update => update\n                    .call(update => update.transition()\n                        .duration(this.figure().transitions().transitionDuration)\n                        .ease(this.figure().transitions().transitionEase)\n                        .attr(\"class\", (d) => [`${this.class()}`, ...d.classes].join(\" \"))\n                        .attr(\"transform\", (d) => {\n                            return `translate(${this.figure().scales.x(d.x)}, ${this.figure().scales.y(d.y)})`;\n                        })\n                        .each(function (d) {\n                            for(const bauble of self._baubleHelpers){\n                                bauble.update(select(this));\n                            }\n                        })\n                    )\n            );\n    }\n\n\n\n}\n\n\n","const p= {\n    addXAxis: Symbol(\"addXAxis\"),\n    addYAxis: Symbol(\"addYAxis\"),\n    updateXAxis:Symbol(\"updateXAxis\"),\n    updateYAxis:Symbol(\"updateYAxis\"),\n    updateAnnotations:Symbol(\"updateAnnotations\"),\n    updateCartoons:Symbol(\"updateCartoons\"),\n    updateBranches:Symbol(\"updateBranches\"),\n    updateNodeBackgrounds:Symbol(\"updateNodeBackgrounds\"),\n    updateNodes:Symbol(\"updateNodes\"),\n    updateBranchStyles:Symbol(\"updateBranchStyles\"),\n    updateNodeStyles:Symbol(\"updateNodeStyles\"),\n    updateNodeBackgroundStyles:Symbol(\"updateNodeBackgroundStyles\"),\n    updateCartoonStyles:Symbol(\"updateCartoonStyles\"),\n    branchPathGenerator:Symbol(\"branchPathGenerator\"),\n    pointToPoint:Symbol(\"pointToPoint\"),\n    setUpScales:Symbol(\"setUpScales\"),\n    svg:Symbol(\"SVG\"),\n    tree:Symbol(\"tree\"),\n    layout:Symbol(\"layout\"),\n    vertices:Symbol(\"vertices\"),\n    edges:Symbol(\"edges\"),\n    baubleMap:Symbol(\"baubleMap\"),\n    branchMap:Symbol(\"branchMap\"),\n    updateVerticesAndEdges:Symbol(\"updateVerticesAndEdges\"),\n    node:Symbol(\"node\"),\n    branch:Symbol(\"branch\"),\n    nodeBackground:Symbol(\"node background\"),\n    vertexFactory:Symbol(\"vertexFactory\"),\n    edgeFactory:Symbol(\"edgeFactory\"),\n    backgroundNodesFactory:Symbol(\"backgroundNodesFactory\"),\n    updateBackgroundNodes:Symbol(\"updateBackgroundNodes\"),\n    axis:Symbol(\"axis\"),\n    legend:Symbol(\"legend\")\n\n};\nexport default p;","\"use strict\";\nimport {select,easeCubic,scaleLinear} from \"d3\";\nimport uuid from \"uuid\";\nimport { mergeDeep} from \"../utilities\";\nimport 'd3-selection-multi';\nimport {GeoLayout} from \"../layout/_deprecatedClasses/geoLayout\";\nimport {BaubleManager} from \"../features/baubleManager\"\nimport p from \"../_privateConstants.js\"\nimport extent from \"d3-array/src/extent\";\n\n/** @module figtree */\n\n\n/**\n * The FigTree class\n *\n * A class that takes a tree and draws it into the the given SVG root element. Has a range of methods\n * for adding interactivity to the tree (e.g., mouse-over labels, rotating nodes and rerooting on branches).\n * The figure updates with animated transitions when the tree is updated.\n */\nexport class FigTree {\n\n    static DEFAULT_SETTINGS() {\n        return {\n            xScale: {\n                scale: scaleLinear,\n                revisions: {\n                    origin: null,\n                    reverseAxis: false,\n                    branchScale: 1,\n                    offset: 0,\n                    hedge: 0\n                }\n            },\n            yScale: {\n                scale: scaleLinear,\n                revisions: {\n                    origin: null,\n                    reverseAxis: false,\n                    offset: 0,\n                    hedge: 0\n                }\n            },\n        }\n    }\n\n    /**\n     * The constructor. All parameters are optional can be set with setters after construction.\n     * @param {DOM.node} [svg=null] - the svg that will hold the figure.\n     * @param margins {Object} [margins={top:10,bottom:60,left:30,right:60}]  The margins around the tree figure. Axis will go in these spaces if applicable\n     * @param tree {Tree} [null] - the tree\n     * @param settings {Object} [settings={width:null,height:null}] sets the size for drawing the figure. If not provided, the size of the svg will be used.\n     * @returns {FigTree}\n     */\n    constructor(svg=null, margins={top:10,bottom:60,left:30,right:60},tree=null, settings = {}) {\n        // this[p.layout] = layout;\n        this._margins = margins;\n\n        this.settings = mergeDeep(FigTree.DEFAULT_SETTINGS(),settings);\n        this._transitions=  {\n            transitionDuration: 500,\n                transitionEase: easeCubic\n        };\n        this[p.svg]=svg;\n        this[p.tree] = tree;\n        this[p.tree].subscribeCallback( () => {\n                this.update();\n            });\n        setupSVG.call(this);\n        this.axes=[];\n        this._features=[];\n\n        this.nodeManager = new BaubleManager()\n            .class(\"node\")\n            .layer(\"nodes-layer\")\n            .figure(this);\n\n\n        this.nodeBackgroundManager = new BaubleManager()\n            .class(\"node-background\")\n            .layer(\"node-backgrounds-layer\")\n            .figure(this);\n\n        this.branchManager = new BaubleManager()\n            .class(\"branch\")\n            .layer(\"branches-layer\")\n            .figure(this);\n        // this.setupUpdaters();\n        return this;\n    }\n\n    /**\n     * Setter/getter for transition setting.\n     * @param t {Object} [t={transitionEase,transitionDuration:} - sets the transition ease and duration (in milliseconds) and returns the figtree instance\n     * if nothing is provided it returns the current settings.\n     * @returns {{transitionEase: cubicInOut, transitionDuration: number}|*}\n     */\n    transitions(t=null){\n        if(t){\n            this._transitions={...this._transitions,...t};\n        }else{\n            return this._transitions;\n        }\n    }\n\n    /**\n     * Setter/getter for updating the margins.\n     * @param m {Object} [margins={top:10,bottom:60,left:30,right:60}] -any provided object will be merged with the current settings.\n     * If nothing is provided returns current margins.\n     * @returns {*}\n     */\n    margins(m=null){\n        if(m!==null){\n            this._margins = {...this._margins,...m}\n            return this;\n        }else{\n            return this._margins\n        }\n    }\n\n\n\n    /**\n     * Updates the figure when the tree has changed.  You can call this to force an update.\n     * Returns the figure.\n     */\n    update() {\n        const {vertices,edges} = this[p.layout](this[p.tree]);\n\n        select(`#${this.svgId}`)\n            .attr(\"transform\",`translate(${this._margins.left},${this._margins.top})`);\n\n        setUpScales.call(this,vertices,edges);\n\n        updateNodePositions.call(this,vertices);\n        updateBranchPositions.call(this,edges);\n\n        for(const feature of this._features){\n            feature.update({vertices,edges})\n        }\n        return this;\n\n    }\n\n\n\n    /**\n     * Adds an element to the node update cycle. The element's update method will be called for each node selection.\n     * Used to insert the visible elements mapped to the nodes\n     * @param elements\n     * @return {FigTree}\n     */\n    nodes(...elements){\n        for(const element of elements){\n            this.nodeManager.element(element);\n        }\n        this.update();\n        return this;\n    }\n\n    /**\n     * Adds an element to the branch update cycle.The element's update method will be called for each branch selection.\n     * Used to insert the visible elements mapped to the nodes\n     * @param elements\n     * @return {FigTree}\n     */\n    branches(...elements){\n        for(const element of elements){\n            this.branchManager.element(element);\n        }\n        this.update();\n        return this;\n    }\n    /**\n     * Adds an element to the node background update cycle. The element's update method will be called for each node selection.\n     * Used to insert the visible elements mapped to the nodes\n     * @param elements\n     * @return {FigTree}\n     */\n    nodeBackgrounds(...elements){\n        for(const element of elements){\n            this.nodeBackgroundManager.element(element);\n        }\n        this.update();\n        return this;\n    }\n\n\n    /**\n     * Registers some text to appear in a popup box when the mouse hovers over the selection.\n     *\n     * @param selection -  {string} - passed to the d3 select. Adds an event listener to this selection to trigger the tooltip\n     * @param text - {string} - text to display in the tooltip.\n     */\n    addToolTip(selection, text) {\n        this.svgSelection.selectAll(selection).on(\"mouseover\",\n            function (selected) {\n                let tooltip = document.getElementById(\"tooltip\");\n                if (typeof text === typeof \"\") {\n                    tooltip.innerHTML = text;\n                } else {\n                    tooltip.innerHTML = text(selected.node);\n                }\n                tooltip.style.display = \"block\";\n                tooltip.style.left =event.pageX + 10 + \"px\";\n                tooltip.style.top = event.pageY + 10 + \"px\";\n            }\n        );\n        this.svgSelection.selectAll(selection).on(\"mouseout\", function () {\n            let tooltip = document.getElementById(\"tooltip\");\n            tooltip.style.display = \"none\";\n        });\n        return this;\n\n    }\n\n\n// setters and getters\n    /**\n     * Get or set SVG\n     * @param svg - optional parameter.\n     * @return {FigTree|svg}\n     */\n    svg(svg=null){\n        if(svg===null){\n            return this[p.svg]\n        }\n        else {\n            this[p.svg] = svg;\n            return this;\n        }\n        }\n\n    /**\n     * Get or set tree\n     * @param tree\n     * @return {FigTree|Tree}\n     */\n    tree(tree=null){\n        if(tree===null){\n            return this[p.tree]\n        }else{\n            this[p.tree] = tree;\n            this[p.tree].subscribeCallback( () => {\n                this.update();\n            });\n            this.update();\n            return this;\n        }\n    }\n\n    /**\n     * Get or set layout function\n     * @param layout\n     * @return {FigTree|*}\n     */\n    layout(layout=null){\n        if(layout===null){\n            return this[p.layout]\n        }else{\n            this[p.layout] = layout;\n            this.update();\n            return this;\n        }\n    }\n\n    /**\n     * Add a feature to the update cycle. Also sets the figure of the feature to this figtree instance\n     * The feature's update cycle will be called\n     * with an an object containing the vertices and edges.\n     * @param feature\n     * @return {FigTree}\n     */\n    feature(f){\n        f.figure(this);\n        this._features = this._features.concat(f);\n        this.update();\n        return this;\n    }\n    // axis(){\n    //     const a = axis();\n    //     this.feature(a);\n    //     return a;\n    // }\n    // scaleBar(){\n    //     const sb=scaleBar();\n    //     this.feature(sb);\n    //     return sb;\n    // }\n    // legend(){\n    //     const l = legend();\n    //     this.feature(l);\n    //     return l;\n    // }\n}\n\nfunction setupSVG(){\n\n    this.svgId = `g-${uuid.v4()}`;\n    select(this[p.svg]).select(`#${this.svgId}`).remove();\n\n    // add a group which will contain the new tree\n    select(this[p.svg]).append(\"g\")\n        .attr(\"id\",this.svgId)\n        .attr(\"transform\",`translate(${this._margins.left},${this._margins.top})`);\n\n    //to selecting every time\n    this.svgSelection = select(this[p.svg]).select(`#${this.svgId}`);\n    this.svgSelection.append(\"g\").attr(\"class\",\"annotation-layer\");\n    this.svgSelection.append(\"g\").attr(\"class\", \"axes-layer\");\n    this.svgSelection.append(\"g\").attr(\"class\", \"cartoon-layer\");\n\n    this.svgSelection.append(\"g\").attr(\"class\", \"branches-layer\");\n    this.svgSelection.append(\"g\").attr(\"class\", \"node-backgrounds-layer\");\n    this.svgSelection.append(\"g\").attr(\"class\", \"nodes-layer\");\n\n}\n/**\n * A helper function that sets the positions of the node and nodebackground groups in the svg and then calls update\n * functions of the node and node background elements.\n * @param vertices\n */\nfunction updateNodePositions(vertices) {\n    this.nodeManager.update(vertices);\n    this.nodeBackgroundManager.update(vertices);\n}\n\n/**\n * A helper function that sets the postions of the branch groups and calls the update functions of the branch elements.\n * @param edges\n */\nfunction updateBranchPositions(edges){\n    this.branchManager.update(edges)\n}\nfunction setUpScales(vertices,edges){\n    let width,height;\n    if(Object.keys(this.settings).indexOf(\"width\")>-1){\n        width =this.settings.width;\n    }else{\n        width = this[p.svg].getBoundingClientRect().width;\n    }\n    if(Object.keys(this.settings).indexOf(\"height\")>-1){\n        height =this.settings.height;\n    }else{\n        height = this[p.svg].getBoundingClientRect().height;\n    }\n\n    // create the scales\n    let xScale,yScale;\n    let projection=null;\n\n    if(this.layout instanceof GeoLayout){\n        xScale = scaleLinear();\n        yScale = scaleLinear();\n        projection = this.layout.projection;\n    }\n    else{\n        const xdomain = extent(vertices.map(d=>d.x).concat(edges.reduce((acc,e)=> acc.concat([e.v1.x,e.v0.x]),[])));\n        // almost always the same except when the trendline is added as an edge without vertices\n        const ydomain =  extent(vertices.map(d=>d.y).concat(edges.reduce((acc,e)=>acc.concat([e.v1.y,e.v0.y]),[])));\n\n        xScale = this.settings.xScale.scale()\n            .domain(xdomain)\n            .range([0, width - this._margins.right-this._margins.left]);\n\n        yScale = this.settings.yScale.scale()\n            .domain(ydomain)\n            .range([height -this._margins.bottom-this._margins.top,0]);\n    }\n\n    this.scales = {x:xScale, y:yScale, width, height, projection};\n}","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","import {mergeDeep} from \"../utilities\";\nimport {Bauble} from \"./bauble\";\nimport {select} from \"d3\";\nimport uuid from \"uuid\"\nimport p from \"../_privateConstants\";\n\n/**\n * The CircleBauble class. Each vertex is assigned a circle in the svg.\n */\nexport class CircleBauble extends Bauble{\n\n\n    /**\n     * The constructor.\n     * @param [settings.radius=6] - the radius of the circle\n     */\n    constructor()\n    {\n        super();\n        this._attrs={\"r\":5,\"cx\":0,\"cy\":0}\n    }\n\n\n    /**\n     * A function that assigns cy,cx,and r attributes to a selection. (cx and cy are set to 0 each r is the settings radius\n     * plus the border.\n     * @param selection\n     */\n    update(selection=null) {\n        if(selection==null&&!this.selection){\n            return\n        }\n        if(selection){\n            this.selection=selection;\n        }\n        return selection\n            .selectAll(`.${this.id}`)\n            .data(d => [d].filter(this.filter()),d=>this.id)\n            .join(\n                enter => enter\n                    .append(\"circle\")\n                    .attr(\"class\",`node-shape ${this.id}`)\n                    .attrs(this._attrs)\n                    .each((d,i,n)=>{\n                        const element = select(n[i]);\n                        for( const [key,func] of Object.entries(this._interactions)){\n                            element.on(key,(d,i,n)=>func(d,i,n))\n                        }\n                    }),\n                update => update\n                    .call(update => update.transition(d=>`u${uuid.v4()}`)\n                        .duration(this.transitions().transitionDuration)\n                        .ease(this.transitions().transitionEase)\n                        .attrs(this._attrs)\n                        .each((d,i,n)=>{\n                            const element = select(n[i]);\n                            for( const [key,func] of Object.entries(this._interactions)){\n                                element.on(key,(d,i,n)=>func(d,i,n))\n                            }\n                        }),\n                    )\n                );\n    };\n//TODO move some of the these to a master class\n    /**\n     * Helper function to class the node as 'hovered' and update the radius if provided\n     * @param r - optional hover radius\n     * @return {CircleBauble}\n     */\n    hilightOnHover(r = null) {\n        let oldR;\n        super.on(\"mouseenter\",\n            (d, i,n) => {\n                if(r) {\n                    if (!this._attrs.r) {\n                        this._attrs.r = this._attrs[\"r\"];\n                    }\n                    oldR=this._attrs[\"r\"];\n                    this.attr(\"r\", r);\n                }\n                const parent = select(n[i]).node().parentNode;\n                this.update(select(parent));\n                select(parent).classed(\"hovered\",true)\n                    .raise();\n                if(r){\n                    this.attr(\"r\", oldR);\n\n                }\n\n                // move to top\n\n            });\n        super.on(\"mouseleave\",\n            (d,i,n) => {\n                const parent = select(n[i]).node().parentNode;\n                select(parent).classed(\"hovered\",false);\n                this.update(select(parent));\n\n            });\n        return this;\n    }\n\n    /**\n     * helper method to annotate the underlying tree node as key:true; Useful for linking interactions between figures\n     * that share a tree.\n     * @param key\n     * @return {CircleBauble}\n     */\n    annotateOnHover(key){\n        super.on(\"mouseenter\",\n             (d, i,n) => {\n                this.manager().figure()[p.tree].annotateNode(this.manager().figure()[p.tree].getNode(d.id),{[key]:true});\n                this.manager().figure()[p.tree].treeUpdateCallback();\n                const parent = select(n[i]).node().parentNode;\n                select(parent).raise();\n            });\n        super.on(\"mouseleave\",\n             (d,i,n) => {\n                this.manager().figure()[p.tree].annotateNode(this.manager().figure()[p.tree].getNode(d.id),{[key]:false});\n                this.manager().figure()[p.tree].treeUpdateCallback();\n            });\n        return this;\n    }\n\n    /**\n     * Rotate a node on click\n     * @param recursive - optional default -false;\n     * @return {CircleBauble}\n     */\n    rotateOnClick(recursive=false){\n        super.on(\"click\",(d,n,i)=>{\n            const node = this.manager().figure()[p.tree].getNode(d.key);\n            this.manager().figure()[p.tree].rotate(node,recursive);\n        });\n        return this;\n    }\n\n    /**\n     * helper method to annotate the underlying tree node as key:true; Useful for linking interactions between figures\n     * that share a tree.\n     * @param key\n     * @return {CircleBauble}\n     */\n    annotateOnClick(key){\n        super.on(\"click\",\n            (d, i,n) => {\n            const node = this.manager().figure()[p.tree].getNode(d.id) //TODO helper getters\n                this.manager().figure()[p.tree].annotateNode(node,{[key]:!node.annotations[key]});\n                this.manager().figure()[p.tree].treeUpdateCallback();\n                const parent = select(n[i]).node().parentNode;\n                select(parent).raise();\n            });\n        return this;\n    }\n}\n\n/**\n * helper function returns a new instance of a circle bauble.\n * @return {CircleBauble}\n */\nexport function circle(){\n    return new CircleBauble();\n}\n","import {mergeDeep} from \"../utilities\";\nimport {Bauble} from \"./bauble\";\nimport {select} from \"d3\";\nimport uuid from \"uuid\";\nimport p from \"../_privateConstants\";\n\nexport class RectangularBauble extends Bauble {\n\n    constructor() {\n        super();\n        this._attrs ={\n                height: 16,\n                width: 6,\n                rx: 2,\n                ry:2,\n            };\n        }\n\n\n    /**\n     * A function that assigns width,height,x,y,rx, and ry attributes to a rect selection.\n     * @param selection\n     * @param border\n     * @return {*|null|undefined}\n     */\n    update(selection){\n    if(selection==null&&!this.selection){\n        return\n    }\n    if(selection){\n        this.selection=selection;\n    }\n        const w = this.attr(\"width\");\n        const h =this.attr(\"height\");\n        return selection\n            .selectAll(`.${this.id}`)\n            .data(d => [d].filter(this.filter()),d=>this.id)\n            .join(\n                enter => enter\n                    .append(\"rect\")\n                    .attr(\"class\",`node-shape ${this.id}`)\n                    .attr(\"x\", -w / 2)\n                    .attr(\"y\", -h / 2)\n                    .attrs(this._attrs)\n                    .each((d,i,n)=>{\n                        const element = select(n[i]);\n                        for( const [key,func] of Object.entries(this._interactions)){\n                            element.on(key,(d,i,n)=>func(d,i,n))\n                        }\n                    }),\n                update => update\n                    .call(update =>update.transition(d=>`u${uuid.v4()}`)\n                        .duration(this.transitions().transitionDuration)\n                        .ease(this.transitions().transitionEase)\n                        .attr(\"x\", -w / 2)\n                        .attr(\"y\", -h / 2)\n                        .attrs(this._attrs)\n                        .each((d,i,n)=>{\n                            const element = select(n[i]);\n                            for( const [key,func] of Object.entries(this._interactions)){\n                                element.on(key,(d,i,n)=>func(d,i,n))\n                            }\n                        })\n                    )\n            )\n\n    };\n\n    /**\n     * Helper function to class the node as 'hovered' and update the radius if provided\n     * @param r - optional hover border\n     * @return {retangleBauble}\n     */\n    hilightOnHover(r = null) {\n        let oldR;\n        super.on(\"mouseenter\",\n            (d, i,n) => {\n                if(r) {\n                    if (!this._attrs.r) {\n                        this._attrs.r = this._attrs[\"r\"];\n                    }\n                    this.attr(\"width\", this.attr(\"width\")+r);\n                    this.attr(\"height\", this.attr(\"height\")+r);\n\n                }\n                const parent = select(n[i]).node().parentNode;\n                this.update(select(parent));\n                select(parent).classed(\"hovered\",true)\n                    .raise();\n\n                this.attr(\"width\", this.attr(\"width\")-r);\n                this.attr(\"height\", this.attr(\"height\")-r);\n                // move to top\n\n            });\n        super.on(\"mouseleave\",\n            (d,i,n) => {\n\n                const parent = select(n[i]).node().parentNode;\n                select(parent).classed(\"hovered\",false);\n                this.update(select(parent));\n\n            });\n        return this;\n    }\n\n    /**\n     * Rotate a node on click\n     * @param recursive - optional default -false;\n     * @return {CircleBauble}\n     */\n    rotateOnClick(recursive=false){\n        super.on(\"click\",(d,n,i)=>{\n            const node = this.manager().figure()[p.tree].getNode(d.key);\n            this.manager().figure()[p.tree].rotate(node,recursive);\n        });\n        return this;\n    }\n    /**\n     * helper method to annotate the underlying tree node as key:true; Useful for linking interactions between figures\n     * that share a tree.\n     * @param key\n     * @return {CircleBauble}\n     */\n    annotateOnHover(key){\n        super.on(\"mouseenter\",\n            (d, i,n) => {\n                this.manager().figure()[p.tree].annotateNode(this.manager().figure()[p.tree].getNode(d.id),{[key]:true});\n                this.manager().figure()[p.tree].treeUpdateCallback();\n                const parent = select(n[i]).node().parentNode;\n                select(parent).raise();\n            });\n        super.on(\"mouseleave\",\n            (d,i,n) => {\n                this.manager().figure()[p.tree].annotateNode(this.manager().figure()[p.tree].getNode(d.id),{[key]:false});\n                this.manager().figure()[p.tree].treeUpdateCallback();\n            });\n        return this;\n    }\n}\n\n/**\n * A helper function that returns a new rectangular bauble\n * @returns {RectangularBauble}\n */\nexport function rectangle(){\n    return new RectangularBauble();\n}","import {curveStepBefore, line} from \"d3-shape\";\nimport {mergeDeep} from \"../utilities\";\nimport {Bauble} from \"./bauble\";\nimport {mouse, select} from \"d3\"\nimport uuid from \"uuid\"\nimport p from \"../_privateConstants\";\nimport {BaubleManager} from \"../features/baubleManager\";\n\nexport class Branch extends Bauble {\n    static DEFAULT_SETTINGS() {\n        return {\n            curveRadius: 0,\n            attrs: {\"fill\":\"none\",\"stroke\":\"black\"},\n        }\n\n    }\n\n    constructor() {\n        super();\n        this._curve=curveStepBefore;\n        this._curveRadius = 0;\n        this._attrs= {\"fill\":\"none\",\"stroke\":\"black\"};\n    }\n\n\n    update(selection) {\n        this.branchPath =this.branchPathGenerator();\n        if(selection==null&&!this.selection){\n            return\n        }\n        if(selection){\n            this.selection=selection;\n        }\n        const self=this;\n        return selection\n            .selectAll(`.${this.id}`)\n            .data(d => [d].filter(this.filter()),d=>this.id)\n            .join(\n                enter => enter\n                    .append(\"path\")\n                    .attr(\"d\", (v1,i) => this.branchPath(v1,i))\n                    .attr(\"class\", `branch-path ${this.id}`)\n                    .attrs(this._attrs)\n                    .each((d,i,n)=>{\n                        const element = select(n[i]);\n                        for( const [key,func] of Object.entries(this._interactions)){\n                            element.on(key,(d,i,n)=>func(d,i,n))\n                        }\n                    }),\n                update => update\n                    .call(update => update.transition(d=>`u${uuid.v4()}`)\n                        .duration(this.transitions().transitionDuration)\n                        .ease(this.transitions().transitionEase)\n                        .attr(\"d\", (edge,i) => this.branchPath(edge,i))\n                        .attrs(this._attrs)\n                        .each((d,i,n)=>{\n                            const element = select(n[i]);\n                            for( const [key,func] of Object.entries(this._interactions)){\n                                element.on(key,(d,i,n)=>func(d,i,n))\n                            }\n                        })\n                    )\n            )\n    };\n\n    branchPathGenerator() {\n        const branchPath = (e, i) => {\n            const branchLine = line()\n                .x((v) => v.x)\n                .y((v) => v.y)\n                .curve(this._curve);\n            const factor = e.v0.y - e.v1.y > 0 ? 1 : -1;\n            const dontNeedCurve = e.v0.y - e.v1.y === 0 ? 0 : 1;\n            const output = this._curveRadius > 0 ?\n                branchLine(\n                    [{x: 0, y: this.scales().y(e.v0.y) - this.scales().y(e.v1.y)},\n                        {x: 0, y: dontNeedCurve * factor * this._curveRadius},\n                        {x: 0 + dontNeedCurve * this._curveRadius, y: 0},\n                        {x: this.scales().x(e.v1.x) - this.scales().x(e.v0.x), y: 0}\n                    ]) :\n                branchLine(\n                    [{x: 0, y: this.scales().y(e.v0.y) - this.scales().y(e.v1.y)},\n                        {x: this.scales().x(e.v1.x ) - this.scales().x(e.v0.x), y: 0}\n                    ]);\n            return (output)\n\n        };\n        return branchPath;\n    }\n\n    curve(curve=null){\n        if(curve){\n            this._curve = curve;\n            return this;\n        }else{\n            return this._curve;\n        }\n    }\n    curveRadius(curveRadius=null){\n        if(curveRadius){\n            this._curveRadius = curveRadius;\n            return this;\n        }else{\n            return this._curveRadius;\n        }\n    }\n\n    hilightOnHover(strokeWidth = null) {\n        let oldStrokeWidth;\n        super.on(\"mouseenter\",\n            (d, i,n) => {\n                if(strokeWidth) {\n                    if (!this._attrs[\"stroke-width\"]) {\n                        this._attrs[\"stroke-width\"] = this._attrs[\"stroke-width\"];\n                    }\n                    oldStrokeWidth=this._attrs[\"stroke-width\"];\n                    this.attr(\"r\", strokeWidth);\n                }\n                const parent = select(n[i]).node().parentNode;\n                this.update(select(parent));\n                select(parent).classed(\"hovered\",true)\n                    .raise();\n                if(strokeWidth){\n                    this.attr(\"r\", oldStrokeWidth);\n                }\n            });\n        super.on(\"mouseleave\",\n            (d,i,n) => {\n                const parent = select(n[i]).node().parentNode;\n                select(parent).classed(\"hovered\",false);\n                this.update(select(parent));\n            });\n        return this;\n    }\n\n    /**\n     * Helper function to reroot tree at the clicked position.\n     * @param distance - how should the distance along the branch be calculated (x - just x distance, euclidean - euclidean)\n     * @return {Branch}\n     */\n    reRootOnClick(distance =\"x\"){\n        super.on(\"click\",\n            (d,i,n)=>{\n\n                const x1 = this.manager().figure().scales.x(d.v1.x),\n                    x2 = this.manager().figure().scales.x(d.v0.x),\n                    y1=this.manager().figure().scales.y(d.v1.y),\n                    y2=this.manager().figure().scales.y(d.v0.y),\n                    [mx,my] = mouse(document.getElementById(this.manager().figure().svgId));\n\n                const proportion = distance.toLocaleLowerCase()===\"x\"? Math.abs( (mx - x2) / (x1 - x2)):distance.toLocaleLowerCase()===\"euclidean\"?\n                        Math.sqrt(Math.pow(mx-x2,2)+Math.pow(my-y2,2))/Math.sqrt(Math.pow(x1-x2,2)+Math.pow(y1-y2,2)):\n                        null;\n                if(!proportion){\n                    throw new Error(`Error in reroot on click distance ${distance} is not recognize. Please use x or euclidean`)\n                }\n\n                const tree = this.manager().figure().tree();\n                tree.reroot(tree.getNode(d.id),proportion)\n\n            });\n        return this;\n    }\n}\n\n/**\n * Generates a line() function that takes an edge and it's index and returns a line for d3 path element. It is called\n * by the figtree class as\n * const branchPath = this.layout.branchPathGenerator(this.scales())\n * newBranches.append(\"path\")\n .attr(\"class\", \"branch-path\")\n .attr(\"d\", (e,i) => branchPath(e,i));\n * @param scales\n * @param branchCurve\n * @return {function(*, *)}\n */\n\nexport function branchPathGenerator({scales,curveRadius,curve}) {\n    const branchPath = (e, i) => {\n        const branchLine = line()\n            .x((v) => v.x)\n            .y((v) => v.y)\n            .curve(curve);\n        const factor = e.v0.y - e.v1.y > 0 ? 1 : -1;\n        const dontNeedCurve = e.v0.y - e.v1.y === 0 ? 0 : 1;\n        const output = curveRadius > 0 ?\n            branchLine(\n                [{x: 0, y: scales.y(e.v0.y) - scales.y(e.v1.y)},\n                    {x: 0, y: dontNeedCurve * factor * curveRadius},\n                    {x: 0 + dontNeedCurve * curveRadius, y: 0},\n                    {x: scales.x(e.v1.x + scales.xOffset) - scales.x(e.v0.x + scales.xOffset), y: 0}\n                ]) :\n            branchLine(\n                [{x: 0, y: scales.y(e.v0.y) - scales.y(e.v1.y)},\n                    {x: scales.x(e.v1.x + scales.xOffset) - scales.x(e.v0.x + scales.xOffset), y: 0}\n                ]);\n        return (output)\n\n    };\n    return branchPath;\n}\n\n\nexport function branches(){\n   return new BaubleManager()\n        .class(\"branch\")\n        .data(d=>d[\"edges\"])\n        .layer(\"branches-layer\")\n}\n/**\n * branch is a helper function that returns a new branch instance.\n * @returns {BaubleManager|*}\n */\nexport function branch(){\n   return new Branch();\n}","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {mean} from \"d3\";\nimport {Type} from \"../tree\";\nimport p from \"../_privateConstants.js\";\n\nfunction getVertexClassesFromNode(node){\n    let classes = [(!node.children ? \"external-node\" : \"internal-node\")];\n    const tree = node.tree;\n    if (node.annotations) {\n        classes = [\n            ...classes,\n            ...Object.entries(node.annotations)\n                .filter(([key]) => {\n                    return tree.annotations[key] &&\n                        (tree.annotations[key].type === Type.DISCRETE ||\n                            tree.annotations[key].type === Type.BOOLEAN ||\n                            tree.annotations[key].type === Type.INTEGER);\n                })\n                .map(([key, value]) =>{\n                    if(tree.annotations[key].type===Type.DISCRETE || tree.annotations[key].type === Type.INTEGER){\n                        return `${key}-${value}`;\n                    }else if(tree.annotations[key].type === Type.BOOLEAN && value ){\n                        return `${key}`\n                    }\n                })];\n    }\n    return classes;\n}\n\n// TODO update this to handel location for other layouts that aren't left to right\n/**\n * Makes a vertex from a node in a tree.\n * anatomy of a vertex\n * {\n        name:node.name,\n        length:node.length,\n        height:node.height,\n        divergence:node.divergence,\n        level:node.level,\n        label:node.label,\n        annotations:node.annotations,\n        key: node.id,\n        id:node.id,\n        parent:node.parent?node.parent.id:null,\n        children:node.children?node.children.map(child=>child.id):null,\n        degree: (node.children ? node.children.length + 1 : 1),// the number of edges (including stem)\n        textLabel:{\n            labelBelow:labelBelow,\n            x:leftLabel?\"-6\":\"12\",\n            y:leftLabel?(labelBelow ? \"-8\": \"8\" ):\"0\",\n            alignmentBaseline: leftLabel?(labelBelow ? \"bottom\": \"hanging\" ):\"middle\",\n            textAnchor:leftLabel?\"end\":\"start\",\n        },\n\n\n        classes: getVertexClassesFromNode(node),\n        [p.node]:node,\n    };\n *\n * @param node\n* @returns vertex\n */\nexport function makeVertexFromNode(node){\n    const leftLabel= !!node.children;\n    const labelBelow= (!!node.children && (!node.parent || node.parent.children[0] !== node));\n\n    return {\n        name:node.name,\n        length:node.length,\n        height:node.height,\n        divergence:node.divergence,\n        level:node.level,\n        label:node.label,\n        annotations:node.annotations,\n        key: node.id,\n        id:node.id,\n        parent:node.parent?node.parent.id:null,\n        children:node.children?node.children.map(child=>child.id):null,\n        degree: (node.children ? node.children.length + 1 : 1),// the number of edges (including stem)\n        textLabel:{\n            labelBelow:labelBelow,\n            x:leftLabel?\"-6\":\"12\",\n            y:leftLabel?(labelBelow ? \"-8\": \"8\" ):\"0\",\n            alignmentBaseline: leftLabel?(labelBelow ? \"bottom\": \"hanging\" ):\"middle\",\n            textAnchor:leftLabel?\"end\":\"start\",\n        },\n\n\n        classes: getVertexClassesFromNode(node),\n        [p.node]:node,\n    };\n}\n\n/**\n * Makes edges from an array of vertices.\n *\n * Edge {\n            v0: parent vertex,\n            v1: target vertex,\n            key: vertex.key,\n            id:vertex.id,\n            classes:vertex.classes,\n            x:x position,\n            y:y.position,\n            textLabel:{ label postions\n                x:,\n                y: -6,\n                alignmentBaseline: \"bottom\",\n                textAnchor:\"middle\",\n            },\n * @param vertices\n * @returns {*}\n */\nexport function makeEdges(vertices){\n    const nodeMap = new Map(vertices.map(v=>[v[p.node],v]));\n    return vertices.filter(v=>v[p.node].parent).map(v=>{\n        return {\n            v0: nodeMap.get(v[p.node].parent),\n            v1: v,\n            key: v.key,\n            id:v.id,\n            classes:v.classes,\n            x:nodeMap.get(v[p.node].parent).x,\n            y:v.y,\n            textLabel:{\n                x:mean([v.x,nodeMap.get(v[p.node].parent).x]),\n                y: -6,\n                alignmentBaseline: \"bottom\",\n                textAnchor:\"middle\",\n            },\n        }\n    })\n}\n\nexport const layoutFactory=makeVertices=>tree=>{\n    const vertices = makeVertices(tree);\n    const edges = makeEdges(vertices);\n    return {vertices,edges}\n};","import {mean} from \"d3\";\nimport {layoutFactory, makeVertexFromNode} from \"./layoutHelpers\";\n\n\n\n\nexport function rectangularVertices(tree){\n    let currentY=0;\n    const vertices=[];\n\n    const traverse = function(node,siblingPositions=[]){\n        const myChildrenPositions=[];\n\n        if(node.children){\n\n            for(const child of node.children){\n                traverse(child,myChildrenPositions);\n            }\n            siblingPositions.push(mean(myChildrenPositions));\n            const vertex = {...makeVertexFromNode(node),\n                y:mean(myChildrenPositions),\n                x:node.divergence};\n            vertices.push(vertex);\n        }else{\n            currentY+=1;\n            siblingPositions.push(currentY);\n            const vertex = {...makeVertexFromNode(node), y:currentY, x:node.divergence};\n            vertices.push(vertex);\n        }\n    };\n\n    traverse(tree.rootNode);\n    //slow!\n    return vertices;\n}\n\nexport const rectangularLayout = layoutFactory(rectangularVertices);","\nimport {mean, min} from \"d3-array\";\nimport {layoutFactory, makeVertexFromNode} from \"./layoutHelpers\";\n\n\nfunction getRelatives(node){return [(node.parent&&node.parent)].concat((node.children&&node.children)).filter(n=>n)};// to remove null\n\n\nfunction * pseudoRerootPreorder(node, visited=[]) {\n    const traverse = function* (node) {\n        visited.push(node);\n        yield node;\n        const relatives = [(node.parent&&node.parent)].concat((node.children&&node.children)).filter(n=>n);// to remove null\n        let pseudoChildren = relatives.filter(n => !visited.includes(n));\n        if (pseudoChildren) {\n            for (const child of pseudoChildren) {\n                yield* traverse(child);\n            }\n\n        }\n    };\n    yield* traverse(node);\n}\n\n\nexport function equalAngleVertices(startNode=null){\n\n\n    let tipRank;\n    if(startNode){\n        tipRank=[...pseudoRerootPreorder(startNode,[])].filter(n=>!n.children)\n    }\n    return function layout(tree){\n\n        startNode =startNode?startNode:tree.rootNode;\n\n        const numberOfTips= tree.externalNodes.length;\n        const rPerTip = 2*Math.PI/numberOfTips;\n\n\n        function *traverse(node,start,visited=[],parentVertex={x:0,y:0}){\n\n            // for children pass start and end\n            // set angle as middle\n            // call children passing start and end\n            if(node===startNode){\n                const vertex = makeVertexFromNode(node);\n                vertex.x =0;\n                vertex.y =0;\n                yield vertex;\n            }\n            let relatives = getRelatives(node).filter(n=>!visited.includes(n));\n            // Node order is not really want we want we need to see past the interal nodes to the tips\n            if(tipRank.length>0){\n                relatives = relatives.sort((a,b)=>{\n\n                    const aRank = min( [...pseudoRerootPreorder(a,[node])].filter(n=>!n.children).map(n=>tipRank.indexOf(n)));\n                    const bRank = min ([...pseudoRerootPreorder(b,[node])].filter(n=>!n.children).map(n=>tipRank.indexOf(n)));\n                    return bRank-aRank\n                })\n            }\n            for(const relative of relatives){\n                const vertex = makeVertexFromNode(relative);\n                const allocation =[...pseudoRerootPreorder(relative,[...visited,...relatives])].filter(n=>!n.children).length*rPerTip;\n                vertex.angle = (start+(start+allocation))/2;\n                vertex.x = Math.sin(vertex.angle)* Math.abs(node.height-relative.height)+parentVertex.x;\n                vertex.y = Math.cos(vertex.angle)* Math.abs(node.height-relative.height)+parentVertex.y;\n                yield vertex;\n                yield *traverse(relative,start,[node,...relatives],vertex);\n                start+=allocation;\n            }\n        }\n\n        return [...traverse(startNode,0)];\n    }\n}\n\n/**\n * The equal angle layout. This function returns a layout function. It take and optional internal node, which if provided acts\n * as the starting node and fixes the order nodes are visited. This means the tree not update. The root position will\n * still change in response to rerooting.\n * @param startingNode optional\n * @return {function(*=): {vertices: *, edges: *}}\n */\nexport const equalAngleLayout=(startingNode) => layoutFactory(equalAngleVertices(startingNode));\n","import {select} from \"d3\";\nimport {Bauble} from \"./bauble\";\n\n/**\n * Bauble class for labels\n */\nexport class Label extends Bauble{\n    constructor() {\n        super();\n        this._text=()=>\"\";\n        this._scaleX=false;\n        this._scaleY=false;\n        return this;\n    }\n    update(selection){\n        return selection\n            .selectAll(`.${this.id}`)\n            .data(d => [d].filter(this.filter()),d=>`label-${this.id}`)\n            .join(\n                enter => enter\n                    .append(\"text\")\n                    .attr(\"class\",`label ${this.id}`)\n                    .attrs(this._attrs)\n                    .each((d,i,n)=>{\n                        const element = select(n[i]);\n                        for( const [key,func] of Object.entries(this._interactions)){\n                            element.on(key,(d,i,n)=>func(d,i,n))\n                        }\n                    })\n                    .text(d=>this._text(d)),\n                update => update\n                    .call(update => update.transition()\n                        .duration(this.transitions().transitionDuration)\n                        .ease(this.transitions().transitionEase)\n                        .attrs(this._attrs)\n                        .each((d,i,n)=>{\n                            const element = select(n[i]);\n                            for( const [key,func] of Object.entries(this._interactions)){\n                                element.on(key,(d,i,n)=>func(d,i,n))\n                            }\n                        })\n                        .text(d=>this._text(d))\n                    )\n            );\n    };\n\n    text(f){\n        if(f==null){\n            return this._text;\n        }else{\n            if(f instanceof String||typeof f===\"string\"){\n                this._text = ()=>f;\n            }else{\n                this._text=f;\n            }\n            return this;\n        }\n    }\n\n}\n\n\n//((this.scales.x(e.v1.x+this.xScaleOffset) - this.scales.x(e.v0.x+this.xScaleOffset)) / 2))\n/**\n * Helper function for making labels. Sets position and alignment based on\n * vertex or edge object.\n * @param text - text to be displayed\n * @return {*}\n */\nexport function label(text){\n\nreturn new Label()\n        .attr(\"x\",d=>d.textLabel.x)\n        .attr(\"y\",d=> d.textLabel.y)\n        .attr(\"alignment-baseline\",d=>d.textLabel.alignmentBaseline)\n        .attr(\"text-anchor\",d=>d.textLabel.textAnchor)\n        .text(text)\n\n\n}\n\n/**\n * Helper function filters label to just work on tips\n * @param text - string or function for assigning label (will be passed vertex or edge)\n * @return {*}\n */\nexport function tipLabel(text){\n    return label(text)\n        .filter(d=>d.degree===1);\n}\n/**\n * Helper function filters label to just work on internal nodes\n * @param text\n * @return {*}\n */\nexport function internalNodeLabel(text){\n    return label(text)\n        .filter(d=>d.degree>1);\n}\n\n/**\n * Helper function that puts label in the middle of a curveStepBefore branch\n * @param text\n * @return {Bauble|*|null|undefined}\n */\nexport function branchLabel(text){\n   return label(text)\n        .scaledX(d=>(d.v1.x-d.v0.x)/2);\n    // const setX = obj => d=>{\n    //     // console.log((obj.scales().x(d.v1.x)-obj.scales().x(d.v0.x)/2));\n    //     return (obj.scales().x(d.v1.x)-obj.scales().x(d.v0.x))/2\n    // };\n    // return l.attr(\"x\",setX(l))\n}","import {makeVertexFromNode} from \"./layoutHelpers\";\nimport {max, min} from \"d3\";\n\nexport const rootToTipVertices=(tree)=>{\n\n\n    if(!tree.annotations.date){\n        console.warn(\"tree must be annotated with dates to use the root to tip layout\")\n        return [];\n    }\n    return tree.externalNodes.map(n=>({...makeVertexFromNode(n),x:n.annotations.date,y:n.divergence}));\n}\n// TODO add edges from tips to parent on trendline to compare outliers.\nconst makeTrendlineEdge=predicate=>(vertices)=>{\n\n    const usedVertices = vertices.filter(predicate);\n    const regression  = leastSquares(usedVertices);\n\n    let x1 = min(vertices, d => d.x);\n    let x2 = max(vertices, d => d.x);\n    let y1 = 0.0;\n    let y2 = max(usedVertices, d => d.y);\n    if (usedVertices.length > 1 && regression.slope > 0.0) {\n        x1 = regression.xIntercept;\n        y2 =regression.y(x2)\n    }else if(usedVertices> 1 && regression.slope < 0.0 ){\n        x2 = regression.xIntercept;\n        y1= regression.y(x1);\n        y2=0;\n    }\n\n    const startPoint = {key:\"startPoint\",x:x1,y:y1};\n    const endPoint = {key:\"endPoint\",x:x2,y:y2};\n\n    return {edges:[{\n        v0: startPoint,\n        v1: endPoint,\n        key: \"trendline\",\n        id:\"trendline\",\n        classes:[\"trendline\"],\n        x:startPoint.x,\n        y:endPoint.y,\n        textLabel:{ // TODO update this for regression labeling\n            dx:[endPoint.x,startPoint.x],\n            dy: -6,\n            alignmentBaseline: \"hanging\",\n            textAnchor:\"middle\",\n        },\n    }],regression:regression}\n};\n\n\nexport const rootToTipLayout = (predicate =()=>true) => tree =>{\n    const vertices = rootToTipVertices(tree);\n    const {edges,regression} = makeTrendlineEdge(predicate)(vertices);\n    return {vertices,edges,regression};\n};\n/**\n * returns slope, intercept and r-square of the line\n * @param data\n * @returns {{slope: number, xIntercept: number, yIntercept: number, rSquare: number, y: (function(*): number)}}\n */\nfunction leastSquares(data) {\n\n    const xBar = data.reduce((a, b) => (a + b.x), 0.0) / data.length;\n    const yBar = data.reduce((a, b) => (a + b.y), 0.0) / data.length;\n\n    const ssXX = data.map((d) => Math.pow(d.x - xBar, 2))\n        .reduce((a, b) => a + b, 0.0);\n\n    const ssYY = data.map((d) => Math.pow(d.y - yBar, 2))\n        .reduce((a, b) => a + b, 0.0);\n\n    const ssXY = data.map((d) => (d.x - xBar) * (d.y - yBar))\n        .reduce((a, b) => a + b, 0.0);\n\n    const slope = ssXY / ssXX;\n    const yIntercept = yBar - (xBar * slope);\n    const xIntercept = -(yIntercept / slope);\n    const rSquare = Math.pow(ssXY, 2) / (ssXX * ssYY);\n\n    return {\n        slope, xIntercept, yIntercept, rSquare, y: function (x) {\n            return x * slope + yIntercept\n        }\n    };\n}","import uuid from \"uuid\";\n\n/**\n * The base Decoration class. Decorations are elements in the figure that can update but don't map directly\n * to nodes and branches.\n */\n\n\nexport class Decoration {\n    constructor() {\n        this._created = false;\n        this._title={\n            text:\"\",\n            xPadding:0,\n            yPadding:0,\n            rotation:0\n        };\n        this._id= `s${uuid.v4()}`;\n        this._interactions=[];\n    }\n    /**\n     * Get or set svg layer elements will be added to.\n     * @param l\n     * @return {BaubleManager|*}\n     */\n    figure(f = null) {\n        if (f === null) {\n            return this._figure;\n        } else {\n            this._figure = f;\n            return this;\n        }\n    }\n    /**\n     * Get or set the figtree instance this manager works for. This allows the manager to access the figure's scale ect.\n     * @param f\n     * @return {BaubleManager|*}\n     */\n    layer(l=null){\n        if(l===null){\n            return this._layer\n        }else{\n            this._layer=l;\n            return this\n        }\n    }\n\n    /**{\n     * Getter, setter for Decoration title. The options are below and are passed to the d3 text element.\n     * @param options\n     * @return {Decoration|{rotation: number, text: string, xPadding: number, yPadding: number}}\n     */\n    title(options = null) {\n        if (!options) {\n            return this._title;\n        } else {\n            this._title = {...this._title, ...options};\n            return this;\n        }\n    }\n\n    /**\n     * Set a call back to be fired when the event listener is triggered.\n     * @param eventListener - a string that defines the event listener\n     * @param value -  call back that will be passed d,i,n\n     * @return {Decoration}\n     */\n    on(string, value) {\n        this._interactions[string] = value;\n        return this;\n    }\n\n    /**\n     * Get or set the transition duration and ease. Defualts to the figtree instance.\n     * @param t - {Object} [t={tranmsissionDuration: transmissionEase:}]\n     * @return {Bauble|BaubleManager|*|Bauble}\n     */\n    transitions(t = null) {\n        if (t === null) {\n            if (this._transitions) {\n                return this._transitions;\n            } else {\n                return this.figure().transitions();\n            }\n\n        } else {\n            this._transitions = t;\n            return this;\n        }\n    }\n    /**\n     * Get or set the scales used in the element defaults to the figtree instance.\n     * @param scales\n     * @return {Bauble.scales|*}\n     */\n    scales(scales = null) {\n        if (scales) {\n            this._scales = scales\n        } else {\n            if (this._scales) {\n                return this._scales;\n            } else {\n                return this.figure().scales\n            }\n        }\n    }\n\n    /**\n     * Decorations have a create method which enters them onto a selection and an updateCycle method\n     * that updated the already existing object. These are all handled by the update method which\n     * @param selection\n     */\n    create(selection) {\n        throw new Error(\"Don't call the base class method\")\n    };\n    /**\n     * Decorations have a create method which enters them onto a selection and an updateCycle method\n     * that updated the already existing object. These are all handled by the update method which\n     * @param selection\n     */\n    update(selection) {\n        if (!this._created) {\n            this.create(selection);\n            this._created = true;\n        }\n        this.updateCycle();\n    }\n    /**\n     * Decorations have a create method which enters them onto a selection and an updateCycle method\n     * that updated the already existing object. These are all handled by the update method which\n     * @param selection\n     */\n    updateCycle(selection) {\n        throw new Error(\"Don't call the base class method\")\n    }\n\n    /**\n     * get or set the x position for the decorations\n     * @param d\n     * @return {*|Decoration}\n     */\n    x(d = null) {\n        if (d !== null) {\n            this._x = d;\n            return this;\n        } else {\n            return this._x;\n        }\n    }\n    /**\n     * get or set the y position for the decorations\n     * @param d\n     * @return {*|Decoration}\n     */\n    y(d = null) {\n        if (d !== null) {\n            this._y = d;\n            return this;\n        } else {\n            return this._y;\n        }\n    }\n}\n\n","import {axisBottom, axisLeft, axisRight, axisTop,format} from \"d3\";\nimport {Decoration} from \"./decoration\";\n\n/**\n * The axis class\n */\n//TODO fix scales\nclass Axis extends Decoration {\n    constructor(){\n        super();\n        this._ticks=5;\n        this._tickFormat=format(\".1f\");\n        this._title={\n            text:\"\",\n            xPadding:0,\n            yPadding:0,\n            rotation:0\n        };\n        this._location=\"bottom\";\n        this._x=0;\n        this._y=0;\n        super.layer(\"axes-layer\")\n        this._reverse = false;\n        this._origin=null;\n        this._scale = null;\n\n    }\n\n    /**\n     * Get or set the location of the ticks on the axis. \"bottom\", \"top\",\"left\",'right\"\n     * @param string\n     * @return {string|Axis}\n     */\n    location(string=null){\n        if(!string){\n            return this._location\n        }else{\n            this._location=string;\n            return this;\n        }\n    }\n\n    origin(x=null){\n        if(x===null){\n            return this._origin;\n        }else{\n            this._origin=x;\n            return this;\n        }\n    }\n\n   reverse(){\n        this._reverse=!this._reverse;\n        return this;\n   }\n   scale(s=null){\n        if(s===null){\n            return this_scale;\n        }\n        else{\n            this._scale = s;\n            return this;\n        }\n   }\n\n    updateScales(){\n        this.d3Axis = getD3Axis(this._location);\n        const length = [\"top\",\"bottom\"].indexOf(this._location)>-1?\n            this.scales().width - this.figure()._margins.left - this.figure()._margins.right:\n            this.scales().height -this.figure()._margins.top - this.figure()._margins.bottom;\n\n\n        if(this.scale()===null){\n            this.scale(([\"top\",\"bottom\"].indexOf(this._location)>-1?this.scales().x:this.scales().y).copy())\n\n        }\n\n        if(this.origin()!==null){\n            this.scale(this.scale().domain(this.scale().domain().reverse().map((d,i)=>(i===0?this.origin()-d:this.origin()))));\n        }\n        if(this._reverse){\n            this.scale(this.scale().domain(this.scale().domain().reverse()));\n        }\n        //TODO add options to change scales and all that jazz\n\n        const axis = this.d3Axis(this.scale())\n            .ticks(this.ticks()).tickFormat(this.tickFormat());\n        return {length,axis}\n    }\n\n    create() {\n        const {length,axis} = this.updateScales();\n        const selection = this.figure().svgSelection.select(`.${this.layer()}`);\n\n        selection\n            .append(\"g\")\n            .attr(\"id\", this._id)\n            .attr(\"class\", \"axis\")\n            .attr(\"transform\", `translate(${this._x}, ${this._y})`)\n            .call(axis);\n\n        const pos={x:0,y:0};\n        if(this.location().toLowerCase() === \"bottom\" || this.location().toLowerCase() === \"top\"){\n            pos.x = length/2\n        }else{\n            pos.y=length/2\n        }\n\n        selection\n            .append(\"g\")\n            .attr(\"id\", `${this._id}-label`)\n            .attr(\"class\", \"axis-label\")\n            .attr(\"transform\", `translate(${this._x}, ${this._y})`)\n            .append(\"text\")\n            .attr(\"transform\", `translate(${pos.x+this._title.xPadding}, ${pos.y+this._title.yPadding}) rotate(${this._title.rotation})`)\n            .attr(\"alignment-baseline\", \"hanging\")\n            .style(\"text-anchor\", \"middle\")\n            .text(this._title.text);\n    };\n\n    /**\n     * Get or set the tick format used. This is passed to the d3 Axis.\n     * @param d\n     * @return {Axis|*}\n     */\n    tickFormat(d){\n        if(d){\n            this._tickFormat=d;\n            return this;\n        }else{\n            return this._tickFormat;\n        }\n    }\n\n    /**\n     * Get or set the number of ticks. This is passed to the d3 axis and is a suggestion not a demand.\n     * @param d\n     * @return {Axis|number}\n     */\n    ticks(d){\n        if(d){\n            this._ticks=d;\n            return this;\n        }else{\n            return this._ticks;\n        }\n    }\n\n    updateCycle() {\n\n        const {length,axis} = this.updateScales();\n\n        const selection = this.figure().svgSelection.select(`.${this.layer()}`);\n\n\n        selection\n            .select(`g#${this._id}`)\n            .transition()\n            // .duration()\n            .attr(\"id\", this._id)\n            .attr(\"class\", \"axis\")\n            .attr(\"transform\", `translate(${this._x}, ${this._y})`)\n            .call(axis);\n\n        const pos={x:0,y:0};\n        if(this._location.toLowerCase() === \"bottom\" || this._location.toLowerCase() === \"top\"){\n            pos.x = length/2\n        }else{\n            pos.y=length/2\n        }\n        selection\n            .select(`g#${this._id}-axis-label`)\n            .transition()\n            // .duration()\n            .attr(\"transform\", `translate(${this._x}, ${this._y})`)\n            .select(\"text\")\n            .transition()\n            // .duration()\n            .attr(\"transform\", `translate(${pos.x+this._title.xPadding}, ${pos.y+this._title.yPadding}) rotate(${this._title.rotation})`)\n            .attr(\"alignment-baseline\", \"hanging\")\n            .style(\"text-anchor\", \"middle\")\n            .text(this._title.text);\n\n    };\n\n\n}\n\n\nfunction getD3Axis(location) {\n    switch (location.toLowerCase()) {\n        case \"bottom\":\n            return axisBottom;\n        case \"left\":\n            return axisLeft;\n        case \"top\":\n            return axisTop;\n        case \"right\":\n            return axisRight;\n        default:\n            throw new Error(`Unknown location type ${this.location}`);\n    }\n}\n\nexport function axis(){\n    return new Axis();\n}","import {Decoration} from \"./decoration\";\n\n/**\n * Scale bar decorator\n */\nclass ScaleBar extends Decoration {\n    constructor(){\n        super();\n        this._title={\n            text:\"\",\n            xPadding:0,\n            yPadding:0,\n            rotation:0\n        };\n        this._length=1;\n        this._direction=\"x\"\n        this._x=0;\n        this._y=0;\n        super.layer(\"axes-layer\")\n    }\n\n    /**\n     * Set or get the length of the scale bar in the same units on the branches of the tree\n     * @param d\n     * @return {ScaleBar|number}\n     */\n    length(d=null){\n        if(!d){\n            return this._length\n        }else{\n            this._length=d;\n            return this;\n        }\n    }\n\n    /**\n     * Get or set the direction of the scaleBar \"x\" or \"y\". This also determines which scale is used to convert the length\n     * to pixels.\n     * @param string\n     * @return {string|ScaleBar}\n     */\n    direction(string=null){\n        if(!string){\n        return this._direction\n    }else{\n        this._direction=string;\n        return this;\n    }\n    }\n\n    create() {\n\n        const selection = this.figure().svgSelection.select(`.${this.layer()}`);\n\n        const group =selection\n            .append(\"g\")\n            .attr(\"id\", this._id)\n            .attr(\"class\", \"scale-bar\")\n            .attr(\"transform\", `translate(${this._x}, ${this._y})`)\n\n            group\n            .append(\"line\")\n                .attr(\"x1\",0)\n                .attr(\"y1\",0)\n                .attr(\"x2\",(this.direction()===\"x\"?this.scales().x(this._length): 0))\n                .attr(\"y2\",(this.direction()===\"y\"?this.scales().y(this._length): 0))\n                .attr(\"stroke\",\"black\")\n\n        const pos={x:0,y:0};\n        if(this.direction() === \"x\"){\n            pos.x = this.scales().x(this._length)/2\n        }else{\n            pos.y=this.scales().y(this._length)/2\n        }\n        group\n            .append(\"text\")\n            .attr(\"transform\", `translate(${pos.x+this._title.xPadding}, ${pos.y+this._title.yPadding}) rotate(${this._title.rotation})`)\n            .attr(\"alignment-baseline\", \"hanging\")\n            .style(\"text-anchor\", \"middle\")\n            .text(this._title.text);\n\n\n    };\n\n    updateCycle() {\n\n        const selection = this.figure().svgSelection.select(`.${this.layer()}`);\n\n        const group =selection\n            .select(`g#${this._id}`)\n            .transition()\n            .attr(\"transform\", `translate(${this._x}, ${this._y})`)\n            .select(\"line\")\n                .attr(\"x1\",0)\n                .attr(\"y1\",0)\n                .attr(\"x2\",(this.direction()===\"x\"?this.scales().x(this._length): 0))\n                .attr(\"y2\",(this.direction()===\"y\"?this.scales().y(this._length): 0))\n                .attr(\"stroke\",\"black\")\n\n\n        const pos={x:0,y:0};\n        if(this.direction() === \"x\"){\n            pos.x = this.scales().x(this._length)/2\n        }else{\n            pos.y=this.scales().y(this._length)/2\n        }\n\n        group\n            .select(\"text\")\n            .attr(\"transform\", `translate(${pos.x+this._title.xPadding}, ${pos.y+this._title.yPadding}) rotate(${this._title.rotation})`)\n            .attr(\"alignment-baseline\", \"hanging\")\n            .style(\"text-anchor\", \"middle\")\n            .text(this._title.text);\n\n    };\n\n\n}\n\n/**\n * Helper function that returns a new scalebar instance.\n * @return {ScaleBar}\n */\nexport function scaleBar(){\n    return new ScaleBar();\n}","import {Decoration} from \"./decoration\";\nimport {select} from \"d3\";\nimport p from \"../_privateConstants\";\n\n/**\n * A discrete legend for displaying traits\n */\nclass Legend extends Decoration {\n    constructor() {\n        super();\n        this._title = {\n            text: \"\",\n            xPadding: 0,\n            yPadding: 0,\n            rotation: 0\n        };\n        this._x = 0;\n        this._y = 0;\n        super.layer(\"axes-layer\")\n        this._size=20;\n        this._scale=null;\n    }\n\n    /**\n     * The size of the square used to display the color\n     * @param d\n     * @return {Legend|number}\n     */\n    size(d = null) {\n        if (!d) {\n            return this._size\n        } else {\n            this._size = d;\n            return this;\n        }\n    }\n\n    /**\n     * get or set the ordinal color scale the legend displays\n     * @param scale\n     * @return {null|Legend}\n     */\n    scale(scale = null) {\n        if (scale===null) {\n            return this._scale\n        } else {\n            this._scale = scale;\n            return this;\n        }\n    }\n\n    create() {\n\n        if(this.scale()===null){\n            return;\n        }\n        const selection = this.figure().svgSelection.select(`.${this.layer()}`);\n\n        const group = selection\n            .append(\"g\")\n            .attr(\"id\", this._id)\n            .attr(\"class\", \"legend\")\n            .attr(\"transform\", `translate(${this._x}, ${this._y})`);\n//https://www.d3-graph-gallery.com/graph/custom_legend.html#cont1\n// Add one dot in the legend for each name.\n        group.selectAll(\"rect\")\n            .data(this.scale().domain())\n            .enter()\n            .append(\"rect\")\n            .attr(\"x\", 0)\n            .attr(\"y\",  (d, i) =>{\n                return i * (this.size() + 5)\n            }) // 100 is where the first dot appears. 25 is the distance between dots\n            .attr(\"width\", this.size())\n            .attr(\"height\", this.size())\n            .attr(\"fill\",  (d) =>{\n                return this.scale()(d)\n            })\n            .each((d,i,n)=>{\n                const element = select(n[i]);\n                for( const [key,func] of Object.entries(this._interactions)){\n                    element.on(key,(d,i,n)=>func(d,i,n))\n                }\n            });\n\n\n// Add one dot in the legend for each name.\n        group.selectAll(\"text\")\n            .data(this.scale().domain())\n            .enter()\n            .append(\"text\")\n            .attr(\"x\", this.size() * 1.2)\n            .attr(\"y\",  (d, i)=> {\n                return i * (this.size() + 5) + (this.size() / 2)\n            }) // 100 is where the first dot appears. 25 is the distance between dots\n            .text(function (d) {\n                return d\n            })\n            .attr(\"text-anchor\", \"left\")\n            .attr(\"alignment-baseline\", \"middle\");\n    };\n\n    updateCycle() {\n        if(this.scale()===null){\n            return;\n        }\n        const selection = this.figure().svgSelection.select(`.${this.layer()}`);\n\n        const group = selection\n            .select(`g#${this._id}`)\n            .transition()\n            .attr(\"transform\", `translate(${this._x}, ${this._y})`);\n//https://www.d3-graph-gallery.com/graph/custom_legend.html#cont1\n// Add one dot in the legend for each name.\n        group.selectAll(\"rect\")\n            .transition()\n            .attr(\"x\", 0)\n            .attr(\"y\",  (d, i)=> {\n                return i * (this.size() + 5)\n            }) // 100 is where the first dot appears. 25 is the distance between dots\n            .attr(\"width\", this.size())\n            .attr(\"height\", this.size())\n            .attr(\"fill\",(d) =>{\n                return this.scale()(d)\n            })\n            .each((d,i,n)=>{\n                const element = select(n[i]);\n                for( const [key,func] of Object.entries(this._interactions)){\n                    element.on(key,(d,i,n)=>func(d,i,n))\n                }\n            });\n\n// Add one dot in the legend for each name.\n        group.selectAll(\"text\")\n            .transition()\n            .attr(\"x\", this.size() * 1.2)\n            .attr(\"y\",  (d, i) =>{\n                return i * (this.size() + 5) + (this.size() / 2)\n            }) // 100 is where the first dot appears. 25 is the distance between dots\n            .text(function (d) {\n                return d\n            })\n            .attr(\"text-anchor\", \"left\")\n            .attr(\"alignment-baseline\", \"middle\");\n\n\n    }\n\n\n}\n\n/**\n * helper function that returns a new legend instance\n * @return {Legend}\n */\nexport function legend(){\n    return new Legend();\n}","import {BaubleManager} from \"./baubleManager\";\nimport {CircleBauble} from \"../baubles/circlebauble\";\nimport {select} from \"d3\";\nimport p from \"../_privateConstants\"\nclass NodeFactory extends BaubleManager {\n    constructor(type) {\n        super();\n    }\n//TODO move onHover to super class and take an _attrs object to update;\n\n\n}\n\nexport const nodes = ()=>{\n    return new BaubleManager()\n        .class(\"node\")\n        .layer(\"nodes-layer\")\n\n};\n\nexport const nodeBackground = () =>{\n    return new BaubleManager()\n        .class(\"node-background\")\n        .layer(\"nodes-background-layer\")\n};\n\n\n","import {mean} from \"d3\";\nimport {layoutFactory, makeVertexFromNode} from \"./layoutHelpers\";\nimport {rectangularVertices} from \"./rectangularLayout.f\";\nimport {equalAngleVertices} from \"./equaleanglelayout.f\";\n\n\n\n\nexport function rectangularVerticesHighlight(predicate,compressionFactor) {\n    return function rectangularHighlightedLayout(tree)\n    {\n        let currentY = 0;\n        const vertices = [];\n        let previousTip=null;\n\n        const traverse = function (node, siblingPositions = []) {\n            const myChildrenPositions = [];\n\n            if (node.children) {\n\n                for (const child of node.children) {\n                    traverse(child, myChildrenPositions);\n                }\n                siblingPositions.push(mean(myChildrenPositions));\n                const vertex = {\n                    ...makeVertexFromNode(node),\n                    y: mean(myChildrenPositions),\n                    x: node.divergence\n                };\n                vertices.push(vertex);\n            } else {\n                if(previousTip!==null &&(predicate(previousTip)|| predicate(node))){\n                    currentY += 1;\n                }\n                else{\n                    currentY+=compressionFactor;\n                }\n                previousTip=node;\n                siblingPositions.push(currentY);\n                const vertex = {...makeVertexFromNode(node), y: currentY, x: node.divergence};\n                vertices.push(vertex);\n            }\n        };\n\n        traverse(tree.rootNode);\n        //slow!\n        return vertices;\n    }\n}\n\n/**\n *\n * This layout highlights parts of the tree and compresses others. The layout factory takes a predicate function that is called\n * on each node and returns true or false. true == more space around node.\n * @param predicate - {Function} a function (node)=> boolean. True == more space around the node.\n * @param compressionFactor - factor to compress space around node that are not highlighted. 1 = no compression 0=no space.\n * @returns {Function}\n */\nexport const rectangularHilightedLayout=(predicate, compressionFactor) => layoutFactory(rectangularVerticesHighlight(predicate,compressionFactor));\n"],"names":["_typeof2","obj","Symbol","iterator","constructor","prototype","_typeof","module","arr","Array","isArray","i","Object","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","arrayWithHoles","iterableToArrayLimit","nonIterableRest","runtime","exports","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","arg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","Promise","resolve","reject","invoke","result","__await","then","unwrapped","error","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","keys","object","key","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","arr2","from","arrayWithoutHoles","iterableToArray","nonIterableSpread","defineProperty","enumerable","configurable","writable","instance","Constructor","_defineProperties","target","props","descriptor","protoProps","staticProps","getRandomValues","crypto","bind","window","msCrypto","rnds8","Uint8Array","rnds","r","Math","random","byteToHex","substr","_nodeId","_clockseq","buf","offset","bth","join","_lastMSecs","_lastNSecs","options","b","node","clockseq","seedBytes","rng","msecs","Date","getTime","nsecs","dt","tl","tmh","n","bytesToUuid","ii","uuid","v4","v1","a","NaN","compare","f","ascending","d","x","valueof","max","m","sum","number","min","translateX","translateY","y","scale","center","bandwidth","round","entering","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","k","transform","ticks","apply","domain","format","identity","spacing","range","range0","range1","position","copy","selection","path","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","transition","isFinite","getAttribute","p","parentNode","remove","filter","each","_","arguments","tickSize","axisTop","axisRight","axisBottom","axisLeft","noop","dispatch","t","Dispatch","parseTypenames","typenames","types","trim","split","map","indexOf","get","c","set","callback","concat","on","typename","T","that","args","xhtml","svg","xlink","xml","xmlns","prefix","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","empty","querySelectorAll","matches","update","EnterNode","parent","datum","_next","_parent","__data__","appendChild","child","insertBefore","bindIndex","group","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","list","add","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","constantNull","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","splice","contains","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","__on","o","j","removeEventListener","capture","onAdd","addEventListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","Selection","groups","parents","_groups","_parents","source","current","sourceEvent","changedTouches","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","factory","extend","definition","Color","subgroups","subnode","subgroup","selectorAll","match","matcher","size","constant","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","groups0","groups1","m0","m1","merges","group0","group1","sort","compareNode","sortgroups","sortgroup","nodes","getAttributeNS","property","classed","html","creator","before","clone","deep","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color","toLowerCase","exec","Rgb","parseInt","rgbn","rgba","hsla","g","rgbConvert","rgb","opacity","hex","h","s","l","Hsl","hslConvert","hsl2rgb","m2","define","displayable","brighter","pow","darker","deg2rad","PI","rad2deg","t1","t2","labConvert","Lab","Hcl","cos","sin","z","rgb2lrgb","xyz2lab","lab2xyz","lrgb2rgb","hclConvert","atan2","sqrt","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","gamma","nogamma","exponential","linear","cosh","sinh","rgbGamma","start","end","colorRgb","nb","na","setTime","reA","reB","am","bm","bs","bi","lastIndex","q","one","zero","date","array","valueOf","cssNode","cssRoot","cssView","svgNode","degrees","rotate","skewX","scaleX","scaleY","e","atan","interpolateTransform","parse","pxComma","pxParen","degParen","xa","ya","xb","yb","translate","taskHead","taskTail","interpolateTransformCss","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","emptyOn","emptyTween","id","timing","schedules","__transition","tween","duration","ease","init","schedule","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","Transition","_name","newId","selection_prototype","cubicInOut","children","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","removeFunction","cancel","interrupt","defaultTiming","easeCubicInOut","active","ascendingComparator","bisector","pi","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","abs","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","dx","dy","cw","da","w","Map","Set","has","clear","entries","proto","toExponential","coefficient","formatDecimal","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","symbol","width","comma","precision","exponent","%","toFixed","toPrecision","formatRounded","floor","X","toUpperCase","locale","formatPrefix","prefixes","grouping","thousands","Number","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","replace","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","padding","formatLocale","bisectRight","lo","hi","mid","right","e10","e5","e2","tickIncrement","count","step","power","log","LN10","initRange","unit","normalize","clamper","bimap","d0","d1","r0","r1","polymap","bisect","clamp","unknown","continuous","untransform","piecewise","output","input","interpolateValue","rescale","invert","rangeRound","interpolateRound","u","transformer","step0","step1","tickStep","precisionPrefix","precisionRound","precisionFixed","linearish","ceil","nice","newInterval","floori","offseti","field","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","thursday","year","setMonth","setFullYear","getFullYear","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","localDate","H","M","S","L","utcDate","UTC","newDate","timeFormat","timeParse","pads","-","0","numberRe","percentRe","requoteRe","pad","requote","formatRe","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","getHours","formatHour12","formatDayOfYear","timeDay","timeYear","formatMilliseconds","getMilliseconds","formatMicroseconds","formatMonthNumber","getMonth","formatMinutes","getMinutes","formatSeconds","getSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","timeSunday","formatWeekNumberISO","timeThursday","formatWeekdayNumberSunday","formatWeekNumberMonday","timeMonday","formatYear","formatFullYear","formatZone","formatUTCDayOfMonth","formatUTCHour24","getUTCHours","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","getUTCMonth","formatUTCMinutes","getUTCMinutes","formatUTCSeconds","getUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","Linear","_context","Step","_t","stepBefore","maxIndex","isObject","item","mergeDeep","assign","leapYear","dateToDecimal","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","I","Y","utcFormats","parses","parseSpecifier","newParse","week","utcFormat","utcParse","defaultLocale","areaStart","_line","areaEnd","lineStart","_point","lineEnd","_x","_y","Type","DISCRETE","BOOLEAN","INTEGER","FLOAT","PROBABILITIES","Tree","rootNode","settings","DEFAULT_SETTINGS","heightsKnown","lengthsKnown","makeNode","level","setUpNodes","annotations","_nodeList","preorder","label","startsWith","newAnnotations","_this","addAnnotations","_nodeMap","nodeList","_tipMap","externalNodes","tip","nodesUpdated","treeUpdateCallback","find","nodeMap","tipMap","height","startNode","traverse","_this2","toNewick","proportion","rootLength","node0","lineage","nodeAtTop","rootChild1","rootChild2","oldLength","_children","_this3","sibling","getSibling","_length","internalNodes","recursive","increasing","factor","orderNodes","nodeA","countA","nodeB","countB","ordering","node1","node2","path1","pathToRoot","path2","sharedAncestors","n1","n2","mrca","lastCommonAncestor","chosenNodes","sharedNodes","_toConsumableArray","reduce","acc","curr","all","includes","subtree","toJS","removeNode","_this4","rootToTipLength","splits","splitNode","_this5","splitBranch","splitLocation","insertedNode","postorder","descendent","getExternalNode","annotateNode","getNode","addValues","annotation","parseFloat","isInteger","isExtensible","acctran","fitchParsimony","reconstructInternalStates","func","currentCallback","tipNameMap","getClade","setUpArraysAndMaps","newickString","labelName","datePrefix","dateFormat","annotationKey","tokens","currentNode","nodeStack","labelNext","lengthNext","inAnnotation","annotationKeyNext","isAnnotationARange","token","annotationToken","endsWith","decimalDate","parts","dateBit","externalNode","nexus","trees","nexusTokens","firstToken","shift","section","workingSection","sectionTitle","inTaxaMap","taxaData","treeString","thisTree","parseNewick","counts","calculateHeights","maxRTT","rootToTipLengths","_height","_this6","calculateLengths","childStates","parentStates","nodeStates","stateCounts","nodeData","Node","tree","childrenNodes","childNode","_this7","DEFAULT_NODE","_divergence","divergence","_annotations","_tree","_label","newNode","_level","clade","_clade","bits","nodeNumericId","_this8","Bauble","_attrs","_interactions","_filter","manager","_manager","eventListener","_transitions","figure","transitions","scales","_scales","unscaledValue","attrsFunction","attrsObject","stylesFunction","stylesObject","propertiesFunction","propertiesObject","attrs","styles","properties","ReferenceError","assertThisInitialized","_getPrototypeOf","_setPrototypeOf","subClass","superClass","VertexStyle","layoutInterface","vertex","currentY","currentX","visibility","newSettings","annotationName","layoutKnown","layout","_edges","INCLUDED","HIDDEN","MASKED","IGNORED","makeVerticesFromNodes","setVertexClassesFromNode","setVertexLabels","makeEdgesFromNodes","setupEdge","setEdgeTermini","setEdgeClasses","setEdgeLabels","getMostAncestralCartoons","AbstractLayout","_edgeMap","_vertices","_cartoonStore","_ignoredNodes","subscribeCallback","updateCallback","lengthFormat","branchLabelAnnotationName","internalNodeLabelAnnotationName","externalNodeLabelAnnotationName","treeNodes","_getTreeNodes","setInitialY","setInitialX","setYPosition","setXPosition","edge","reroot","hideNode","console","groupEnd","middlewares","middleware","nextLayout","_this9","_this10","degree","classes","isSelected","_this11","leftLabel","rightLabel","labelBelow","_this12","v0","_this13","cartoons","cartoonNodes","mostAncestralNode","some","xPositions","extent","cartoonNodeDecedents","_this14","cartoonVertex","cartoonVertexDecedents","newTopVertex","newBottomVertex","mean","parentVertex","getChildVertices","vertices","GeoLayout","projection","locationKey","BaubleManager","_baubleHelpers","_layer","_figure","_class","svgLayer","svgSelection","layer","transitionDuration","transitionEase","warn","addXAxis","addYAxis","updateXAxis","updateYAxis","updateAnnotations","updateCartoons","updateBranches","updateNodeBackgrounds","updateNodes","updateBranchStyles","updateNodeStyles","updateNodeBackgroundStyles","updateCartoonStyles","branchPathGenerator","pointToPoint","setUpScales","edges","baubleMap","branchMap","updateVerticesAndEdges","branch","nodeBackground","vertexFactory","edgeFactory","backgroundNodesFactory","updateBackgroundNodes","legend","FigTree","margins","bottom","_margins","easeCubic","setupSVG","axes","_features","nodeManager","nodeBackgroundManager","branchManager","xScale","scaleLinear","revisions","origin","reverseAxis","branchScale","hedge","yScale","svgId","updateNodePositions","updateBranchPositions","elements","element","selected","tooltip","getElementById","display","pageX","pageY","xdomain","ydomain","_get","receiver","Reflect","base","superPropBase","desc","getOwnPropertyDescriptor","CircleBauble","oldR","RectangularBauble","rx","ry","Branch","_curve","curveStepBefore","_curveRadius","curveRadius","branchPath","branchLine","pointX","pointY","defined","curve","curveLinear","buffer","defined0","dontNeedCurve","oldStrokeWidth","strokeWidth","distance","mouse","mx","my","toLocaleLowerCase","getVertexClassesFromNode","makeVertexFromNode","textLabel","alignmentBaseline","textAnchor","layoutFactory","makeVertices","makeEdges","rectangularLayout","siblingPositions","myChildrenPositions","pseudoRerootPreorder","getRelatives","visited","relatives","pseudoChildren","Label","_text","_scaleX","_scaleY","rootToTipVertices","makeTrendlineEdge","predicate","xBar","yBar","ssXX","ssYY","ssXY","slope","yIntercept","xIntercept","rSquare","usedVertices","regression","startPoint","endPoint","Decoration","_created","_title","xPadding","yPadding","rotation","updateCycle","Axis","_ticks","_tickFormat","_location","_reverse","_origin","_scale","this_scale","d3Axis","location","getD3Axis","updateScales","pos","ScaleBar","_direction","direction","Legend","_size","scaledX","trunc","totalNumberOfDays","startingNode","tipRank","numberOfTips","rPerTip","aRank","relative","allocation","angle","equalAngleVertices","compressionFactor","previousTip","rectangularVerticesHighlight"],"mappings":"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"}