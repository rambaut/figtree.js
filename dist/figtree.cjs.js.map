{"version":3,"file":"figtree.cjs.js","sources":["../node_modules/uuid/lib/bytesToUuid.js","../node_modules/uuid/lib/rng-browser.js","../node_modules/uuid/v1.js","../node_modules/uuid/v4.js","../node_modules/uuid/index.js","../node_modules/d3/node_modules/d3-array/src/ascending.js","../node_modules/d3/node_modules/d3-array/src/bisector.js","../node_modules/d3/node_modules/d3-array/src/bisect.js","../node_modules/d3/node_modules/d3-array/src/number.js","../node_modules/d3/node_modules/d3-array/src/extent.js","../node_modules/d3/node_modules/d3-array/src/max.js","../node_modules/d3/node_modules/d3-array/src/mean.js","../node_modules/d3/node_modules/d3-array/src/min.js","../node_modules/d3-axis/src/array.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-interpolate/src/cubehelix.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-ease/src/linear.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-ease/src/sin.js","../node_modules/d3-ease/src/elastic.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-chord/node_modules/d3-array/src/ascending.js","../node_modules/d3-chord/node_modules/d3-array/src/bisector.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-chord/node_modules/d3-array/src/bisect.js","../node_modules/d3-chord/src/math.js","../node_modules/d3-path/src/path.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-contour/node_modules/d3-array/src/ascending.js","../node_modules/d3-contour/node_modules/d3-array/src/bisector.js","../node_modules/d3-contour/node_modules/d3-array/src/bisect.js","../node_modules/d3-dsv/src/dsv.js","../node_modules/d3-dsv/src/csv.js","../node_modules/d3-dsv/src/tsv.js","../node_modules/d3-quadtree/src/add.js","../node_modules/d3-quadtree/src/cover.js","../node_modules/d3-quadtree/src/data.js","../node_modules/d3-quadtree/src/extent.js","../node_modules/d3-quadtree/src/quad.js","../node_modules/d3-quadtree/src/find.js","../node_modules/d3-quadtree/src/remove.js","../node_modules/d3-quadtree/src/root.js","../node_modules/d3-quadtree/src/size.js","../node_modules/d3-quadtree/src/visit.js","../node_modules/d3-quadtree/src/visitAfter.js","../node_modules/d3-quadtree/src/x.js","../node_modules/d3-quadtree/src/y.js","../node_modules/d3-quadtree/src/quadtree.js","../node_modules/d3-force/src/simulation.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-geo/src/adder.js","../node_modules/d3-geo/src/math.js","../node_modules/d3-geo/src/area.js","../node_modules/d3-geo/src/bounds.js","../node_modules/d3-geo/src/polygonContains.js","../node_modules/d3-geo/node_modules/d3-array/src/ascending.js","../node_modules/d3-geo/node_modules/d3-array/src/bisector.js","../node_modules/d3-geo/node_modules/d3-array/src/bisect.js","../node_modules/d3-geo/src/length.js","../node_modules/d3-geo/src/path/area.js","../node_modules/d3-geo/src/path/measure.js","../node_modules/d3-scale/node_modules/d3-array/src/ascending.js","../node_modules/d3-scale/node_modules/d3-array/src/bisector.js","../node_modules/d3-scale/node_modules/d3-array/src/bisect.js","../node_modules/d3-scale/node_modules/d3-array/src/ticks.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/array.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../node_modules/d3-scale-chromatic/src/colors.js","../node_modules/d3-scale-chromatic/src/ramp.js","../node_modules/d3-scale-chromatic/src/categorical/category10.js","../node_modules/d3-scale-chromatic/src/categorical/Accent.js","../node_modules/d3-scale-chromatic/src/categorical/Dark2.js","../node_modules/d3-scale-chromatic/src/categorical/Paired.js","../node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","../node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","../node_modules/d3-scale-chromatic/src/categorical/Set1.js","../node_modules/d3-scale-chromatic/src/categorical/Set2.js","../node_modules/d3-scale-chromatic/src/categorical/Set3.js","../node_modules/d3-scale-chromatic/src/diverging/BrBG.js","../node_modules/d3-scale-chromatic/src/diverging/PRGn.js","../node_modules/d3-scale-chromatic/src/diverging/PiYG.js","../node_modules/d3-scale-chromatic/src/diverging/PuOr.js","../node_modules/d3-scale-chromatic/src/diverging/RdBu.js","../node_modules/d3-scale-chromatic/src/diverging/RdGy.js","../node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","../node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","../node_modules/d3-scale-chromatic/src/diverging/Spectral.js","../node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","../node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","../node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","../node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","../node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","../node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","../node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","../node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","../node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","../node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","../node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","../node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/curve/monotone.js","../node_modules/d3-shape/src/curve/step.js","../node_modules/d3-array/src/extent.js","../node_modules/d3-array/src/maxIndex.js","../src/tree.js","../src/layout/layoutInterface.js","../src/utilities.js","../src/layout/abstractLayout.js","../src/layout/rectangularlayout.js","../src/layout/transmissionlayout.js","../src/layout/explodedlayout.js","../src/baubles/bauble.js","../node_modules/d3-selection-multi/src/selection/attrs.js","../node_modules/d3-selection-multi/src/selection/styles.js","../node_modules/d3-selection-multi/src/selection/properties.js","../node_modules/d3-selection-multi/src/transition/attrs.js","../node_modules/d3-selection-multi/src/transition/styles.js","../node_modules/d3-selection-multi/index.js","../src/baubles/circlebauble.js","../node_modules/roughjs/dist/rough.umd.js","../src/baubles/roughcirclebauble.js","../src/figtree/figtree.js","../src/layout/roottotipplot.js","../src/baubles/branchbauble.js","../src/figtree/roughfigtree.js","../src/baubles/rectanglebauble.js","../src/baubles/roughbranchbauble.js"],"sourcesContent":["/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i(t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i(t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i(t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\nimport transition_end from \"./end\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","export function linear(t) {\n  return +t;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows\n  };\n}\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","import {dispatch} from \"d3-dispatch\";\nimport {map} from \"d3-collection\";\nimport {timer} from \"d3-timer\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.each(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import adder from \"./adder\";\nimport {areaStream, areaRingSum} from \"./area\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport {abs, degrees, epsilon, radians} from \"./math\";\nimport stream from \"./stream\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import adder from \"./adder\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian\";\nimport {asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sin, tau} from \"./math\";\n\nvar sum = adder();\n\nexport default function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import adder from \"./adder\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import adder from \"../adder\";\nimport {abs} from \"../math\";\nimport noop from \"../noop\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import adder from \"../adder\";\nimport {sqrt} from \"../math\";\nimport noop from \"../noop\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationSecond} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","import colors from \"../colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","\"use strict\";\n\n/** @module tree */\n\nimport uuid from \"uuid\";\nimport {max,} from \"d3\";\nimport {maxIndex,minIndex} from \"d3-array\";\n// for unique node ids\nexport const Type = {\n    DISCRETE : Symbol(\"DISCRETE\"),\n    BOOLEAN : Symbol(\"BOOLEAN\"),\n    INTEGER : Symbol(\"INTEGER\"),\n    FLOAT: Symbol(\"FLOAT\"),\n    PROBABILITIES: Symbol(\"PROBABILITIES\"),\n};\n\nexport const CollapseStyles = {\n    TRIANGLE : Symbol(\"TRIANGLE\"),\n    BRANCH : Symbol(\"BRANCH\"),\n};\n\n/**\n * The Tree class\n */\nexport class Tree {\n\n    static DEFAULT_SETTINGS() {\n        return {\n            lengthsKnown:true,\n            heightsKnown:false,\n        }\n    }\n    /**\n     * The constructor takes an object for the root node. The tree structure is\n     * defined as nested node objects.\n     *\n     * @constructor\n     * @param {object} rootNode - The root node of the tree as an object.\n     */\n    constructor(rootNode = {},settings={}) {\n\n        this.settings = {...Tree.DEFAULT_SETTINGS(), ...settings};\n\n        this.heightsKnown = this.settings.heightsKnown;\n        this.lengthsKnown = this.settings.lengthsKnown;\n        this.root = makeNode.call(this,{...rootNode,...{length:0,level:0}});\n        // This converts all the json objects to Node instances\n        setUpNodes.call(this,this.root);\n\n        this.annotations = {};\n        this._nodeList = [...this.preorder()];\n        this._nodeList.forEach( (node) => {\n            if (node.label && node.label.startsWith(\"#\")) {\n                // an id string has been specified in the newick label.\n                node._id = node.label.substring(1);\n            }\n            const newAnnotations ={};\n            if(node.label){\n                newAnnotations.label=node.label;\n            }\n            if(node.name){\n                newAnnotations.name=node.name\n            }\n            node.annotations = node.annotations?{...newAnnotations,...node.annotations,}:newAnnotations;\n            this.addAnnotations(node.annotations);\n        });\n        this._nodeMap = new Map(this.nodeList.map( (node) => [node.id, node] ));\n        this._tipMap = new Map(this.externalNodes.map( (tip) => [tip.name, tip] ));\n\n        this.nodesUpdated = false;\n        // a callback function that is called whenever the tree is changed\n        this.treeUpdateCallback = () => {};\n    };\n\n    /**\n     * Gets the root node of the Tree\n     *\n     * @returns {Object|*}\n     */\n    get rootNode() {\n        return this.root;\n    };\n\n    /**\n     * Gets an array containing all the node objects\n     *\n     * @returns {*}\n     */\n    get nodes() {\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n        }\n        return [...this.preorder()];\n    };\n    get nodeList(){\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n\n        }\n        return this.nodes\n    }\n\n    /**\n     * Gets an array containing all the external node objects\n     *\n     * @returns {*}\n     */\n    get externalNodes() {\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n        }\n        return this.nodes.filter((node) => !node.children);\n    };\n\n\n\n    /**\n     * Gets an array containing all the internal node objects\n     *\n     * @returns {*}\n     */\n    get internalNodes() {\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n        }\n        return this.nodes.filter((node) => node.children );\n    };\n\n    get nodeMap(){\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n        }\n        return this._nodeMap ;\n    }\n    get tipMap(){\n        if(this.nodesUpdated){\n            setUpArraysAndMaps.call(this);\n        }\n        return this._tipMap ;\n    }\n\n    /**\n     * Returns the sibling of a node (i.e., the first other child of the parent)\n     *\n     * @param node\n     * @returns {object}\n     */\n    getSibling(node) {\n        if (!node.parent) {\n            return null;\n        }\n        return node.parent.children.find((child) => child !== node);\n    }\n\n    /**\n     * Returns a node from its id stored.\n     *\n     * @param id\n     * @returns {object}\n     */\n    getNode(id) {\n        return this.nodeMap.get(id);\n    }\n\n    /**\n     * Returns an external node (tip) from its name.\n     *\n     * @param name\n     * @returns {object}\n     */\n    getExternalNode(name) {\n        return this.tipMap.get(name);\n    }\n\n    /**\n     * If heights are not currently known then calculate heights for all nodes\n     * then return the height of the specified node.\n     * @param node\n     * @returns {number}\n     */\n    getHeight(node) {\n        return node.height;\n    }\n\n    /**\n     * A generator function that returns the nodes in a pre-order traversal.\n     *\n     * @returns {IterableIterator<IterableIterator<*|*>>}\n     */\n    *preorder(startNode=this.root,filter=()=>true) {\n        const traverse = function *(node,filter) {\n            if(filter(node)) {\n                yield node;\n                if (node.children) {\n                    for (const child of node.children) {\n                        yield* traverse(child, filter);\n                    }\n                }\n            }\n        };\n\n        yield* traverse(startNode,filter);\n    }\n\n    /**\n     * A generator function that returns the nodes in a post-order traversal\n     *\n     * @returns {IterableIterator<IterableIterator<*|*>>}\n     */\n    *postorder(startNode=this.root,filter=()=>true) {\n        const traverse = function *(node,filter) {\n            if(filter(node)) {\n                if (node.children) {\n                    for (const child of node.children) {\n                        yield* traverse(child, filter);\n                    }\n                }\n                yield node;\n            }\n        };\n\n        yield* traverse(startNode,filter);\n    }\n\n    /**\n     * A generator function that returns the nodes in a path to the root\n     *\n     * @returns {IterableIterator<IterableIterator<*|*>>}\n     */\n    static* pathToRoot(node) {\n        while (node) {\n            yield node;\n            node = node.parent;\n        }\n    }\n\n    /**\n     * An instance method to return a Newick format string for the Tree. Can be called without a parameter to\n     * start at the root node. Providing another node will generate a subtree. Labels and branch lengths are\n     * included if available.\n     *\n     * @param {object} node - The node of the tree to be written (defaults as the rootNode).\n     * @returns {string}\n     */\n    toNewick(node = this.rootNode) {\n        return (node.children ? `(${node.children.map(child => this.toNewick(child)).join(\",\")})${node.label ? node.label : \"\"}` : node.name) + (node.length ? `:${node.length}` : \"\");\n    };\n\n    /**\n     * Re-roots the tree at the midway point on the branch above the given node.\n     *\n     * @param {object} node - The node to be rooted on.\n     * @param proportion - proportion along the branch to place the root (default 0.5)\n     */\n    reroot(node, proportion = 0.5) {\n        if (node === this.rootNode) {\n            // the node is the root - nothing to do\n            return;\n        }\n\n\n        const rootLength = this.rootNode.children[0].length + this.rootNode.children[1].length;\n\n        if (node.parent !== this.rootNode) {\n            // the node is not a child of the existing root so the root is actually changing\n\n            let node0 = node;\n            let parent = node.parent;\n\n            let lineage = [ ];\n\n            // was the node the first child in the parent's children?\n            const nodeAtTop = parent.children[0] === node;\n\n            const rootChild1 = node;\n            const rootChild2 = parent;\n\n            let oldLength = parent.length;\n\n            while (parent.parent) {\n\n                // remove the node that will becoming the parent from the children\n                parent.children = parent.children.filter((child) => child !== node0);\n\n                if (parent.parent === this.rootNode) {\n                    const sibling = this.getSibling(parent);\n                    parent.children.push(sibling);\n                    sibling._length = rootLength;\n                } else {\n                    // swap the parent and parent's parent's length around\n                    [parent.parent.length, oldLength] = [oldLength, parent.parent.length];\n\n                    // add the new child\n                    parent.children.push(parent.parent);\n                }\n\n                lineage = [parent, ...lineage];\n\n                node0 = parent;\n                parent = parent.parent;\n            }\n\n            // Reuse the root node as root...\n\n            // Set the order of the children to be the same as for the original parent of the node.\n            // This makes for a more visually consistent rerooting graphically.\n            this.rootNode.children = nodeAtTop ? [rootChild1, rootChild2] : [rootChild2, rootChild1];\n\n            // connect all the children to their parents\n            this.internalNodes\n                .forEach((node) => {\n                    node.children.forEach((child) => {\n                        child.parent = node;\n                    })\n                });\n\n            const l = rootChild1.length * proportion;\n            rootChild2._length = l;\n            rootChild1._length = rootChild1.length - l;\n\n        } else {\n            // the root is staying the same, just the position of the root changing\n            const l = node.length * (1.0 - proportion);\n            node._length = l;\n            this.getSibling(node)._length = rootLength - l;\n        }\n\n        this.heightsKnown = false;\n\n\n        this.treeUpdateCallback();\n    };\n\n    /**\n     * Reverses the order of the children of the given node. If 'recursive=true' then it will\n     * descend down the subtree reversing all the sub nodes.\n     *\n     * @param node\n     * @param recursive\n     */\n    rotate(node, recursive = false) {\n        if (node.children) {\n            if (recursive) {\n                for (const child of node.children) {\n                    this.rotate(child, recursive);\n                }\n            }\n            node.children.reverse();\n        }\n\n        this.treeUpdateCallback();\n    };\n\n    /**\n     * Sorts the child branches of each node in order of increasing or decreasing number\n     * of tips. This operates recursively from the node given.\n     *\n     * @param node - the node to start sorting from\n     * @param {boolean} increasing - sorting in increasing node order or decreasing?\n     * @returns {number} - the number of tips below this node\n     */\n\n\n    orderByNodeDensity(increasing = true, node = this.rootNode) {\n        const factor = increasing ? 1 : -1;\n        orderNodes.call(this, node, (nodeA, countA, nodeB, countB) => {\n            return (countA - countB) * factor;\n        });\n        this.treeUpdateCallback();\n        return this;\n    }\n\n    /**\n     * Sorts the child branches of each node in order given by the function. This operates\n     * recursively from the node given.\n     *\n     * @param node - the node to start sorting from\n     * @param {function} ordering - provides a pairwise sorting order.\n     *  Function signature: (nodeA, childCountNodeA, nodeB, childCountNodeB)\n     * @returns {number} - the number of tips below this node\n     */\n    order(ordering, node = this.rootNode) {\n\n        orderNodes.call(this, node, ordering);\n\n        this.treeUpdateCallback();\n        return this;\n    }\n    _order(ordering, node = this.rootNode) {\n\n        orderNodes.call(this, node, ordering);\n\n        return this;\n    }\n\n    lastCommonAncestor(node1, node2) {\n\n        const path1 = [...Tree.pathToRoot(node1)];\n        const path2 = [...Tree.pathToRoot(node2)];\n      \n        const sharedAncestors = path1.filter(n1=>path2.map(n2=>n2.id).indexOf(n1.id)>-1);\n        const lastSharedAncestor = sharedAncestors[maxIndex(sharedAncestors,node=>node.level)];\n        return lastSharedAncestor;\n      \n    }\n\n    pathLength(node1, node2) {\n\n        let sum = 0;\n        \n        const mrca = this.lastCommonAncestor(node1,node2);\n        for(let node of [node1,node2]){\n            while(node!=mrca){\n              sum+=node.length;\n              node=node.parent;\n            }\n        }\n        \n        return sum;\n    }\n\n    /**\n     * Returns a new tree instance with  only the nodes provided and the path to their MRCA. After this traversal, unspecified\n     * degree two nodes will be removed. The subtree will consist of the root and then the last common ancestor.\n     * The nodes of the new tree will be copies of the those in the original, but they will share\n     * ids, annotations, and names.\n     * @param chosenNodes\n     * @return {Tree}\n     */\n    subTree(chosenNodes){\n\n        const sharedNodes = [...chosenNodes.map(node=>[...Tree.pathToRoot(node)])] // get all the paths to the root\n            .reduce((acc,curr)=> [...acc,...curr],[]) // unpack the paths\n            .filter((node,i,all)=> all.filter(x=>x===node).length===chosenNodes.length)        // filter to nodes that appear in every path\n            .reduce((acc,curr)=> { // reduce to the unique set.\n                if(!acc.includes(curr)){\n                    acc.push(curr)\n                }\n                return acc;\n            },[]);\n\n        const mrca = sharedNodes[maxIndex(sharedNodes,n=>n.level)];\n\n        // intermediate nodes with show up as\n        const subtree = new Tree(mrca.toJSON());\n\n\n        subtree.externalNodes.forEach(node=>{\n                    if(!chosenNodes.map(n=>n.id).includes(node.id)){\n                        subtree.removeNode(node);\n                    }\n                });\n\n        return subtree;\n    }\n\n\n    /**\n     * Gives the distance from the root to a given tip (external node).\n     * @param tip - the external node\n     * @returns {number}\n     */\n    rootToTipLength(tip) {\n        let length = 0.0;\n        for (const node of Tree.pathToRoot(tip)) {\n            if (node.length) {\n                length += node.length;\n            }\n        }\n        return length;\n    }\n\n    /**\n     * Returns an array of root-to-tip distances for each tip in the tree.\n     * @returns {*}\n     */\n    rootToTipLengths() {\n        return this.externalNodes.map((tip) => this.rootToTipLength(tip));\n    }\n\n    /**\n     * Splits each branch in multiple segments inserting a new degree 2 nodes. If splitLocations is\n     * null then it splits each in two at the mid-point\n     * @param splits\n     */\n    splitBranches(splits = null) {\n        // split each branch into sections, with a node of\n        // degree two in the middle. This allows annotation\n        // of part of a branch.\n        [...this.preorder()]\n            .filter((node) => node.parent)\n            .forEach((node) => {\n                if (splits !== null) {\n                    if (splits[node.id]) {\n                        let splitNode = node;\n                        splits[node.id].forEach(([time, id]) => {\n                            splitNode = this.splitBranch(splitNode, time);\n                            splitNode._id = id;\n                        })\n                    }\n                } else {\n                    // if no splitLocations are given then split it in the middle.\n                    this.splitBranch(node, 0.5);\n                }\n            });\n        this.nodesUpdated=true;\n        this.treeUpdateCallback();\n\n    }\n\n    /**\n     * Splits a branch in two inserting a new degree 2 node. The splitLocation should be less than\n     * the orginal branch length.\n     * @param node\n     * @param splitLocation - proportion of branch to split at.\n     */\n    splitBranch(node, splitLocation=0.5) {\n        const oldLength = node.length;\n\n        const splitNode = makeNode.call(this,\n            {\n            parent: node.parent,\n            children: [node],\n            length: oldLength*splitLocation,\n            annotations: {\n                insertedNode: true\n            }\n        });\n        if (node.parent) {\n            node.parent.children[node.parent.children.indexOf(node)] = splitNode;\n        } else {\n            // node is the root so make splitNode the root\n            this.root = splitNode;\n        }\n        node.parent = splitNode;\n        node._length = oldLength-splitNode.length;\n        this.nodesUpdated=true;\n        this.heightsKnown=false;\n        return splitNode;\n    }\n\n    /**\n     * Deletes a node from the tree. if the node had children the children are linked to the\n     * node's parent. This could result in a multifurcating tree.\n     * The root node can not be deleted.\n     * @param node\n     */\n    removeNode(node){\n        if(node===this.root){\n            return;\n        }\n        // remove the node from it's parent's children\n        node.parent._children=node.parent._children.filter(n=>n!==node);\n        //update child lengths\n        if(node._children){\n        node._children.forEach(child=>{\n            child._length += node.length;\n            child.parent = node.parent;// This also updates parent's children array;\n            })\n        }\n        // else if(node.parent._children.length===1){\n        //     console.log(\"removing parent\")\n        //     this.removeNode(node.parent); // if it's a tip then remove it's parent which is now degree two;\n        // }\n        this.nodesUpdated = true;\n        return this;\n    }\n\n    /**\n     * deletes a node and all it's descendents from the tree;\n     * @param node\n     * @return {*}\n     */\n    removeClade(node) {\n        if(node===this.root){\n            return;\n        }\n        for(const descendent of this.postorder(node)){\n            this.removeNode(descendent)\n        }\n        this.nodesUpdated=true;\n        this.treeUpdateCallback();\n        return this;\n    }\n\n    /**\n     * Set one or more annotations for the tips.\n     *\n     * See annotateNode for a description of the annotation structure.\n     *\n     * @param annotations a dictionary of annotations keyed by tip label\n     */\n    annotateTips(annotations) {\n        for (let [key, values] of Object.entries(annotations)) {\n            const tip = this.getExternalNode(key);\n            if (!tip) {\n                throw new Error(`tip with label ${key} not found in tree`);\n            }\n\n            this.annotateNode(tip, values);\n        }\n        this.treeUpdateCallback();\n    }\n\n    /**\n     * This is similar to annotateTips but the annotation objects are keyed by node\n     * keys (Symbols).\n     *\n     * @param annotations a dictionary of annotations keyed by node key\n     */\n    annotateNodes(annotations) {\n        for (let [key, values] of Object.entries(annotations)) {\n            const node = this.getNode(key);\n            if (!node) {\n                throw new Error(`tip with key ${key} not found in tree`);\n            }\n\n            this.annotateNode(node, values);\n        }\n        this.treeUpdateCallback();\n\n    }\n\n    /**\n     * Adds the given annotations to a particular node object.\n     *\n     * The annotations is an object with properties keyed by external node labels each\n     * of which is an object with key value pairs for the annotations. The\n     * key value pairs will be added to a property called 'annotations' in the node.\n     *\n     * Boolean or Numerical traits are given as a single value.\n     * Sets of values with probabilities should be given as an object.\n     * Discrete values should be given as an array (even if containing only one value)\n     * or an object with booleans to give the full set of possible trait values.\n     *\n     * For example:\n     *\n     * {\n     *     'tip_1': {\n     *         'trait_1' : true,\n     *         'trait_4' : 3.141592,\n     *         'trait_2' : [1, 2], // discrete trait\n     *         'trait_3' : [\"London\", \"Paris\", \"New York\"], // discrete trait\n     *         'trait_3' : {\"London\" : true, \"Paris\" : false, \"New York\": false], // discrete trait with full set of values\n     *         'trait_4' : {\"London\" : 0.75, \"Paris\" : 0.20, \"New York\": 0.05} // probability set\n     *     },\n     *     'tip_2': {...}\n     * }\n     *\n     * The annotation labels, type and possible values are also added to the tree in a property called 'annotations'.\n     *\n     * A reconstruction method such as annotateNodesFromTips can then be used to provide reconstructed values\n     * for internal nodes. Or annotateNodes can provide annotations for any node in the tree.\n     *\n     * @param node\n     * @param annotations a dictionary of annotations keyed by the annotation name.\n     */\n    annotateNode(node, annotations) {\n        this.addAnnotations(annotations);\n\n        // add the annotations to the existing annotations object for the node object\n        node.annotations = {...(node.annotations === undefined ? {} : node.annotations), ...annotations};\n    }\n\n    /**\n     * Adds the annotation information to the tree. This stores the type and possible values\n     * for each annotation seen in the nodes of the tree.\n     *\n     * This methods also checks the values are correct and conform to previous annotations\n     * in type.\n     *\n     * @param annotations\n     */\n    addAnnotations(annotations) {\n        for (let [key, addValues] of Object.entries(annotations)) {\n            let annotation = this.annotations[key];\n            if (!annotation) {\n                annotation = {};\n                this.annotations[key] = annotation;\n            }\n\n            if (Array.isArray(addValues)) {\n                // is a set of  values\n                let type;\n                if(addValues.map(v=>isNaN(v)).reduce((acc,curr)=>acc&&curr,true)) {\n                    type = Type.DISCRETE;\n                    annotation.type = type;\n                    if (!annotation.values) {\n                        annotation.values = new Set();\n                    }\n                    annotation.values.add(...addValues);\n                }else if(addValues.map(v=>parseFloat(v)).reduce((acc,curr)=>acc&&Number.isInteger(curr),true)){\n                    type =Type.INTEGER;\n                }else if(addValues.map(v=>parseFloat(v)).reduce((acc,curr)=>acc&&!Number.isInteger(curr),true)){\n                    type = Type.FLOAT;\n                }\n\n                if (annotation.type && annotation.type !== type) {\n                    if ((type === Type.INTEGER && annotation.type === Type.FLOAT) ||\n                        (type === Type.FLOAT && annotation.type === Type.INTEGER)) {\n                        // upgrade to float\n                        type = Type.FLOAT;\n                        annotation.type = Type.FLOAT;\n                        if(annotation.values){\n                            delete annotation.values;\n                    }else{\n                            throw Error(`existing values of the annotation, ${key}, in the tree is discrete.`);\n                        }\n                    }\n                }\n\n                // annotation.values = annotation.values? [...annotation.values, ...addValues]:[...addValues]\n            } else if (Object.isExtensible(addValues)) {\n                // is a set of properties with values\n                let type = null;\n\n                let sum = 0.0;\n                let keys = [];\n                for (let [key, value] of Object.entries(addValues)) {\n                    if (keys.includes(key)) {\n                        throw Error(`the states of annotation, ${key}, should be unique`);\n                    }\n                    if (typeof value === typeof 1.0) {\n                        // This is a vector of probabilities of different states\n                        type = (type === undefined) ? Type.PROBABILITIES : type;\n\n                        if (type === Type.DISCRETE) {\n                            throw Error(`the values of annotation, ${key}, should be all boolean or all floats`);\n                        }\n\n                        sum += value;\n                        if (sum > 1.01) {\n                            throw Error(`the values of annotation, ${key}, should be probabilities of states and add to 1.0`);\n                        }\n                    } else if (typeof value === typeof true) {\n                        type = (type === undefined) ? Type.DISCRETE : type;\n\n                        if (type === Type.PROBABILITIES) {\n                            throw Error(`the values of annotation, ${key}, should be all boolean or all floats`);\n                        }\n                    } else {\n                        throw Error(`the values of annotation, ${key}, should be all boolean or all floats`);\n                    }\n                    keys.push(key);\n                }\n\n                if (annotation.type && annotation.type !== type) {\n                    throw Error(`existing values of the annotation, ${key}, in the tree is not of the same type`);\n                }\n\n                annotation.type = type;\n                annotation.values = annotation.values? [...annotation.values, addValues]:[addValues]\n            } else {\n                let type = Type.DISCRETE;\n\n                if (typeof addValues === typeof true) {\n                    type = Type.BOOLEAN;\n                } else if (!isNaN(addValues)) {\n                    type = (addValues % 1 === 0 ? Type.INTEGER : Type.FLOAT);\n                }\n\n                if (annotation.type && annotation.type !== type) {\n                    if ((type === Type.INTEGER && annotation.type === Type.FLOAT) ||\n                        (type === Type.FLOAT && annotation.type === Type.INTEGER)) {\n                        // upgrade to float\n                        type = Type.FLOAT;\n                    } else {\n                        throw Error(`existing values of the annotation, ${key}, in the tree is not of the same type`);\n                    }\n                }\n\n                if (type === Type.DISCRETE) {\n                    if (!annotation.values) {\n                        annotation.values = new Set();\n                    }\n                    annotation.values.add(addValues);\n                }\n\n                annotation.type = type;\n            }\n\n            // overwrite the existing annotation property\n            this.annotations[key] = annotation;\n        }\n    }\n\n    /**\n     * Uses parsimony to label internal nodes to reconstruct the internal node states\n     * for the annotation 'name'.\n     *\n     * @param name\n     * @param acctrans Use acctrans reconstruction if true, deltrans otherwise\n     * @param node\n     */\n    annotateNodesFromTips(name, acctran = true) {\n        fitchParsimony(name, this.rootNode);\n\n        reconstructInternalStates(name, [], acctran, this.rootNode);\n\n        this.treeUpdateCallback();\n\n    }\n\n    /**\n     * A class function that subscribes a to be called when the tree updates.\n     * @param func - function to be called when the tree updates\n     */\n    subscribeCallback(func){\n        const currentCallback = this.treeUpdateCallback;\n        this.treeUpdateCallback = () =>{\n            currentCallback();\n            func();\n        }\n    }\n\n    /**\n     * A class method to create a Tree instance from a Newick format string (potentially with node\n     * labels and branch lengths). Taxon labels should be quoted (either \" or ') if they contain whitespace\n     * or any of the tree definitition characters '(),:;' - the quotes (and any whitespace immediately within)\n     * will be removed.\n     * @param newickString - the Newick format tree as a string\n     * @param labelName\n     * @param datePrefix\n     * @returns {Tree} - an instance of the Tree class\n     */\n    static parseNewick(newickString, labelName = \"label\", datePrefix = undefined ) {\n        const tokens = newickString.split(/\\s*('[^']+'|\"[^\"]+\"|;|\\(|\\)|,|:|=|\\[&|\\]|\\{|\\})\\s*/);\n        let level = 0;\n        let currentNode = null;\n        let nodeStack = [];\n        let labelNext = false;\n        let lengthNext = false;\n        let inAnnotation = false;\n        let annotationKeyNext = true;\n        let annotationKey;\n        let isAnnotationARange=false;\n\n        for (const token of tokens.filter(token => token.length > 0)) {\n            // console.log(`Token ${i}: ${token}, level: ${level}`);\n            if(inAnnotation){\n                if(token===\"=\"){\n                    annotationKeyNext=false;\n                }else if(token===\",\"){\n                    if(!isAnnotationARange){\n                        annotationKeyNext=true;\n                    }\n                }else if (token===\"{\"){\n                    isAnnotationARange=true\n                    currentNode.annotations[annotationKey]=[];\n                }else if (token===\"}\"){\n                    isAnnotationARange=false\n                }\n                else if(token ===\"]\"){\n                    // close BEAST annotation\n                    inAnnotation = false;\n                    annotationKeyNext = true;\n                } else{\n                    // must be annotation\n                    // remove any quoting and then trim whitespace\n                    let annotationToken = token;\n                    if (annotationToken.startsWith(\"\\\"\") || annotationToken.startsWith(\"'\")) {\n                        annotationToken = annotationToken.substr(1);\n                    }\n                    if (annotationToken.endsWith(\"\\\"\") || annotationToken.endsWith(\"'\")) {\n                        annotationToken = annotationToken.substr(0, annotationToken.length - 1);\n                    }\n                    if(annotationKeyNext) {\n                        annotationKey = annotationToken.replace(\".\",\"_\");\n                    }else{\n                        if(isAnnotationARange){\n                            currentNode.annotations[annotationKey].push(annotationToken);\n                        }else{\n                            if(isNaN(annotationToken)){\n                                currentNode.annotations[annotationKey]=annotationToken;\n\n                            }else{\n                                currentNode.annotations[annotationKey] = parseFloat((annotationToken));\n                            }\n                        }\n                    }\n                }\n\n            } else if (token === \"(\") {\n                // an internal node\n\n                if (labelNext) {\n                    // if labelNext is set then the last bracket has just closed\n                    // so there shouldn't be an open bracket.\n                    throw new Error(\"expecting a comma\");\n                }\n\n                let node = {\n                    level: level,\n                    parent: currentNode,\n                    children: [],\n                    annotations: {}\n                };\n                level += 1;\n                if (currentNode) {\n                    nodeStack.push(currentNode);\n                }\n                currentNode = node;\n\n            } else if (token === \",\") {\n                // another branch in an internal node\n\n                labelNext = false; // labels are optional\n                if (lengthNext) {\n                    throw new Error(\"branch length missing\");\n                }\n\n                let parent = nodeStack.pop();\n                parent.children.push(currentNode);\n\n                currentNode = parent;\n            } else if (token === \")\") {\n                // finished an internal node\n\n                labelNext = false; // labels are optional\n                if (lengthNext) {\n                    throw new Error(\"branch length missing\");\n                }\n\n                // the end of an internal node\n                let parent = nodeStack.pop();\n                parent.children.push(currentNode);\n\n                level -= 1;\n                currentNode = parent;\n\n                labelNext = true;\n            } else if (token === \":\") {\n                labelNext = false; // labels are optional\n                lengthNext = true;\n            } else if (token === \";\") {\n                // end of the tree, check that we are back at level 0\n                if (level > 0) {\n                    throw new Error(\"unexpected semi-colon in tree\")\n                }\n                break;\n            } else if(token ===\"[&\") {\n                inAnnotation=true;\n            }\n            else {\n                // not any specific token so may be a label, a length, or an external node name\n                if (lengthNext) {\n                    currentNode.length = parseFloat(token);\n                    lengthNext = false;\n                } else if (labelNext) {\n                    currentNode.label = token;\n                    if (!currentNode.label.startsWith(\"#\")) {\n                        let value = parseFloat(currentNode.label);\n                        if (isNaN(value)) {\n                            value = currentNode.label;\n                        }\n                        currentNode.annotations[labelName] = value;\n                    } else {\n                        currentNode.id = currentNode.label.substring(1);\n                    }\n                    labelNext = false;\n                } else {\n                    // an external node\n                    if (!currentNode.children) {\n                        currentNode.children = []\n                    }\n\n                    let name = token;\n\n                    // remove any quoting and then trim whitespace\n                    if (name.startsWith(\"\\\"\") || name.startsWith(\"'\")) {\n                        name = name.substr(1);\n                    }\n                    if (name.endsWith(\"\\\"\") || name.endsWith(\"'\")) {\n                        name = name.substr(0, name.length - 1);\n                    }\n                    name = name.trim();\n\n                    let date = undefined;\n                    if (datePrefix) {\n                        const parts = name.split(datePrefix);\n                        if (parts.length === 0) {\n                            throw new Error(`the tip, ${name}, doesn't have a date separated by the prefix, '${datePrefix}'`);\n                        }\n                        date = parseFloat(parts[parts.length - 1]);\n                    }\n\n                    const externalNode = {\n                        name: name,\n                        parent: currentNode,\n                        annotations: { date: date }\n                    };\n\n                    if (currentNode) {\n                        nodeStack.push(currentNode);\n                    }\n                    currentNode = externalNode;\n                }\n            }\n        }\n\n        if (level > 0) {\n            throw new Error(\"the brackets in the newick file are not balanced\")\n        }\n        return new Tree(currentNode);\n    };\n\n    /*\n\n     */\n   static  parseNexus(nexus){\n\n        const trees=[];\n\n\n        const nexusTokens = nexus.split(/\\s*Begin|begin|end|End|BEGIN|END\\s*/);\n        const firstToken = nexusTokens.shift().trim();\n        if(firstToken.toLowerCase()!=='#nexus'){\n            throw Error(\"File does not begin with #NEXUS is it a nexus file?\")\n        }\n\n        for(const section of nexusTokens){\n            const workingSection = section.replace(/^\\s+|\\s+$/g, '').split(/\\n/);\n            const sectionTitle = workingSection.shift();\n            if(sectionTitle.toLowerCase().trim() ===\"trees;\"){\n                let inTaxaMap=false;\n                const tipNameMap = new Map();\n                for(const token of workingSection){\n                    if(token.trim().toLowerCase()===\"translate\"){\n                        inTaxaMap=true;\n                    }else{\n                        if(inTaxaMap){\n                            if(token.trim()===\";\"){\n                                inTaxaMap=false;\n                            }else{\n                                const taxaData = token.trim().replace(\",\",\"\").split(/\\s*\\s\\s*/);\n                                tipNameMap.set(taxaData[0],taxaData[1]);\n                            }\n                        }else{\n                            // if(tipNameMap.size>0) {\n                                const treeString = token.substring(token.indexOf(\"(\"));\n                                const thisTree = Tree.parseNewick(treeString);\n                                if(tipNameMap.size>0) {\n                                    thisTree.externalNodes.forEach(tip => tip.name = tipNameMap.get(tip.name));\n                                }\n                                trees.push(thisTree);\n\n                        }\n                    }\n                }\n            }\n\n        }\n        return trees;\n    }\n\n}\n\n/*\n * Private methods, called by the class using the <function>.call(this) function.\n */\n\n/**\n * A private recursive function that rotates nodes to give an ordering provided\n * by a function.\n * @param node\n * @param ordering function that takes (a,number of tips form a, b, number of tips from b) and sorts a and be by the output.\n * @param callback an optional callback that is called each rotate\n * @returns {number}\n */\nfunction orderNodes(node, ordering, callback = null) {\n    let count = 0;\n    if (node.children) {\n        // count the number of descendents for each child\n        const counts = new Map();\n        for (const child of node.children) {\n            const value = orderNodes(child, ordering, callback);\n            counts.set(child, value);\n            count += value;\n        }\n\n        // sort the children using the provided function\n        node.children.sort((a, b) => {\n            return ordering(a, counts.get(a), b, counts.get(b),node)\n        });\n\n        if (callback) callback();\n    } else {\n        count = 1\n    }\n    return count;\n}\n\n/**\n * A private recursive function that calculates the height of each node (with the most\n * diverged tip from the root having height given by origin).\n */\nfunction calculateHeights() {\n\n    const maxRTT = max(this.rootToTipLengths());\n    this.nodeList.forEach((node) => node._height =  maxRTT - this.rootToTipLength(node));\n    this.heightsKnown = true;\n    this.treeUpdateCallback();\n}\n\n/**\n * A private recursive function that calculates the length of the branch below each node\n */\nfunction calculateLengths(){\n\n    this.nodeList.forEach((node)=> node._length =node.parent? node.parent.height- node.height:0);\n    this.lengthsKnown=true;\n    this.treeUpdateCallback();\n\n}\n\nfunction calculateDivergence(node, divergence, maxDivergence) {\n    let d = divergence + node.length;\n    if (node.children) {\n        // count the number of descendents for each child\n        for (const child of node.children) {\n            calculateDivergence(child, d, maxDivergence);\n        }\n    }\n    if (d > maxDivergence[0]) {\n        maxDivergence[0] = d;\n    }\n    node.divergence = d;\n}\n\n\n/**\n * A private recursive function that uses the Fitch algorithm to assign\n * states to nodes using parsimony. An acctrans or deltrans algorithm can\n * then be used to reconstruct internal node states.\n * @param name\n * @param node\n * @returns {*}\n */\nfunction fitchParsimony(name, node) {\n\n    if (!node.children) {\n        if (!node.annotations[name]) {\n            return []; // annotation not defined so return an empty set\n        }\n        return (Array.isArray(node.annotations[name]) ? node.annotations[name] : [node.annotations[name]]);\n    }\n\n    let I;\n    let U = [];\n    node.children.forEach( (child) => {\n        const childStates = fitchParsimony(name, child);\n        U = [...U, ...childStates.filter( (state) => !U.includes(state) )]; // take the union\n        I = (I === undefined ? childStates : childStates.filter( (state) => I.includes(state) )); // take the intersection\n    });\n\n    node.annotations = (node.annotations === undefined ? {} : node.annotations);\n\n    // set the node annotation to the intersection if not empty, the union otherwise\n    node.annotations[name] = [...(I.length > 0 ? I : U)];\n\n    return node.annotations[name];\n}\n\nfunction reconstructInternalStates(name, parentStates, acctran, node ) {\n    let nodeStates = node.annotations[name];\n    if (!Array.isArray(nodeStates)) {\n        nodeStates = [nodeStates];\n    }\n\n    if (node.children) {\n\n        let stateCounts = {};\n\n        nodeStates\n            .forEach((state) => stateCounts[state] = (stateCounts[state] ? stateCounts[state] += 1 : 1) );\n\n        parentStates\n            .forEach((state) => stateCounts[state] = (stateCounts[state] ? stateCounts[state] += 1 : 1) );\n\n        node.children.forEach((child) => {\n            reconstructInternalStates(name, nodeStates, acctran, child)\n                .forEach((state) => stateCounts[state] = (stateCounts[state] ? stateCounts[state] += 1 : 1) );\n        });\n\n        const max = Object.entries(stateCounts).reduce((prev, current) => (prev[1] > current[1]) ? prev : current)[1];\n        nodeStates = Object.entries(stateCounts).filter(([state, count]) => count === max).map(([state, count]) => state );\n\n        node.annotations[name] = (nodeStates.length === 1 ? nodeStates[0] : nodeStates);\n    }\n\n    return nodeStates;\n}\nfunction makeNode(nodeData){\n    return new Node({...nodeData, tree:this});\n}\n\n/**\n * A private function that sets up the tree by traversing from the root Node and sets all heights and lenghts\n * @param node\n */\nfunction setUpNodes(node){\n    if(node.children){\n        const childrenNodes=[]\n        for(const child of node.children){\n            const childNode = makeNode.call(this,{...child,parent:node,level:node.level+1})\n            childrenNodes.push(childNode);\n            setUpNodes.call(this,childNode);\n        }\n        node.children = childrenNodes;\n    }\n}\n\nfunction setUpArraysAndMaps() {\n    this._nodeList = [...this.preorder()];\n    this.nodesUpdated=false;\n    this._nodeList.forEach((node) => {\n        if (node.label && node.label.startsWith(\"#\")) {\n            // an id string has been specified in the newick label.\n            node._id = node.label.substring(1);\n        }\n        if (node.annotations) {\n            this.addAnnotations(node.annotations);\n        }\n    });\n    this._nodeMap = new Map(this.nodeList.map((node) => [node.id, node]));\n    this._tipMap = new Map(this.externalNodes.map((tip) => [tip.name, tip]));\n}\n\nclass Node{\n\n\n\n    static DEFAULT_NODE(){\n        return{\n            height:undefined,\n            length:undefined,\n            name:null,\n            annotations:{},\n            parent:undefined,\n            children:null,\n            label:undefined,\n            id:`node-${uuid.v4()}`\n        }\n\n\n    }\n    constructor(nodeData ={}){\n        const data = {...Node.DEFAULT_NODE(),...nodeData};\n\n        this._id = data.id;\n        this._height = data.height;\n        this._length = data.length;\n        this._name = data.name;\n        this._annotations= data.annotations;\n        this._parent = data.parent;\n        this._children = data.children;\n        this._tree = data.tree;\n        this._label = data.label;\n\n    }\n    get level() {\n        let level=0;\n        let node=this;\n        while(node.parent){\n            node=node.parent;\n            level+=1\n        }\n        return level;\n    }\n    get name() {\n        return this._name;\n    }\n    set name(value){\n        this._tree.nodesUpdated=true;\n        this._name = value;\n    }\n\n    set level(value) {\n        this._level = value;\n    }\n    get label() {\n        return this._label;\n    }\n\n    set label(value) {\n        this._label = value;\n    }\n    get height() {\n        if(!this._tree.heightsKnown){\n            calculateHeights.call(this._tree);\n        }\n        return this._height;\n    }\n\n    set height(value) {\n        this._height = value;\n        this._tree.lengthsKnown=false;\n        this._tree.treeUpdateCallback();\n    }\n\n    get length() {\n        if(!this._tree.lengthsKnown){\n            calculateLengths.call(this._tree);\n        }\n        return this._length;\n    }\n\n    set length(value) {\n        this._length = value;\n        this._tree.heightsKnown = false;\n        this._tree.treeUpdateCallback();\n    }\n\n    get annotations() {\n        return this._annotations;\n    }\n\n    set annotations(value) {\n        this._annotations = value;\n    }\n\n    get children() {\n        return this._children;\n    }\n\n    set children(value) {\n        this._children = value;\n        for(const child of this._children){\n            child.parent=this;\n        }\n        this._tree.nodesUpdated = true;\n    }\n    addChild(node){\n        const newNode = new Node({...node,tree:this._tree,level:this._level+1});\n        this.children = [...this._children,newNode];\n        setUpNodes.call(this._tree,newNode);\n        this._tree.addAnnotations(newNode.annotations);\n        this._tree.nodesUpdated = true;\n    }\n    get parent() {\n        return this._parent;\n    }\n    set parent(node) {\n        this._parent = node;\n        if(this._parent.children.filter(c=>c===this).length===0){\n            this._parent.children.push(this)\n        }\n    }\n    get id(){\n        return this._id;\n    }\n    set id(value){\n        this._tree.nodesUpdated=true;\n        this._id = value;\n    }\n\n    toJSON(){\n        return ({\n                id: this.id,\n                name:this.name,\n                length:this.length,\n                height:this.height,\n                label:this.label,\n                level:this.level,\n                annotations:this.annotations,\n                children: this.children && this.children.length>0? this.children.map(child=>child.toJSON()):null,\n                });\n}\n\n\n}\n\n","\"use strict\";\nimport {format,curveStepBefore,max,min,line,mean,scaleLinear,curveLinear} from \"d3\";\nimport {Type} from \"../tree\";\nimport uuid from \"uuid\";\n\n/** @module layout */\n\nexport const  VertexStyle = {\n    INCLUDED:Symbol(\"INCLUDED\"),// Only included nodes are sent to the figtree class\n    IGNORED:Symbol('IGNORED'), // Ignored nodes are just that ignored in everyway\n    HIDDEN:Symbol(\"HIDDEN\"), // The only difference between hidden and included nodes is that hidden nodes are not sent to the figtree class\n    MASKED:Symbol(\"MASKED\") // Masked nodes have an x and y coordinate but are then ignored. They don't count towards their parent's x and y and are not visualized.\n}\n\n/**\n * The interface for the layout class this defines the api\n *\n */\nexport class layoutInterface {\n\n    /**\n     * The constructor\n     * @param tree\n     * @param settings\n     */\n\n\n    /**\n     * The layout function is called to make the edges, vertrices, and cartoons that make up the graph and set or update\n     * their positions on a custom x and y scale. It also should update the _horizontialScale, the _veriticalRange so that\n     * these positions can be converted to a [0,1] scale to be consumed by the figtree class.\n     * \n     */\n    layout() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A getter to return the horizontal range spanned by the vertices in the graph\n     */\n    get horizontalDomain() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    /**\n     * A getter to return the vertical range spanned by the vertices in the graph\n     */\n    get verticalDomain() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n\n    /**\n     * A setter for setting the branchScale factor. Should trigger and update\n     * @param value\n     */\n    set branchScale(value){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n\n    }\n\n    /**\n     * A getter for the branchScaling factor\n     * @return {number}\n     */\n    get branchScale(){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * Sets the annotation to use as the node labels for internal nodes. It should trigger and update.\n     *\n     * @param annotationName\n     */\n    set internalNodeLabelAnnotationName(annotationName) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n\n    }\n\n    /**\n     * Getter for internal node annotation name\n     * @return {*}\n     */\n    get internalNodeLabelAnnotationName() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n\n\n    /**\n     * Sets the annotation to use as the node labels for external nodes.It should trigger and update\n     *\n     * @param annotationName\n     */\n    set externalNodeLabelAnnotationName(annotationName) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n\n    }\n\n    /**\n     * getter for external node label name.\n     * @return {*}\n     */\n    get externalNodeLabelAnnotationName() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * Sets the annotation to use as the branch labels. It should trigger an update\n     *\n     * @param annotationName\n     */\n    set branchLabelAnnotationName(annotationName) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    get branchLabelAnnotationName() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * Updates the tree when it has changed\n     */\n    update() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    /**\n     * A utility function for rotating a node\n     * @returns {*}\n     */\n    rotate() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function for ordering a subtree with increasing tip density\n     * @returns {orderIncreasing}\n     */\n    orderIncreasing() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function for ordering a subtree with decreasing tip density\n     * @returns {orderIncreasing}\n     */\n    orderDecreasing() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function for rerooting the tree\n     * @returns {reroot}\n     */\n    reroot() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function to mark a clade as a triangle cartoon\n     * @param vertex\n     */\n    cartoon(vertex) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utitlity function to collapse a clade into a single branch and tip.\n     * @param vertex\n     */\n    collapse(vertex) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function to mask a node so that it's vertex will be assigned an x and y but these values will not be used\n     * to calculate the position of parent nodes.\n     * @param node\n     */\n    maskNode(node){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function to hide a node so that it is not sent to the figtree class for visualization.\n     * @param node\n     */\n    hideNode(node){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function to ignore a node so that it does not get an x or y coordinate and is not sent to figtree.js\n     * for visualization.\n     * @param node\n     */\n    ignoreNode(node){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n\n    }\n\n    /**\n     * A unitlity function to mark a node as included. This is the default.\n     * @param node\n     */\n    includeNode(node){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function that will return a HTML string about the node and its\n     * annotations. Can be used with the addLabels() method.\n     *\n     * @param node\n     * @returns {string}\n     */\n    nodeInfo(node) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A getter function that updates the layout if needed and then returns edges whose target node is \"included\"\n     * @return {T[]}\n     */\n    get edges() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._edges.filter(e => e.v1.visibility===VertexStyle.INCLUDED);\n    }\n\n    /**\n     * A getter function that updates the layout if needed and returns included vertices.\n     * @return {T[]}\n     */\n    get vertices() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A getter function that updates the layout if needed, determines the most ancestral cartoons, hides the appropriate vertices\n     * and then returns a array of  cartoon objects defined as {vertices[{x:,y}...{x:,y:}], classes:[string,...],id:string,node:NODE:starting node }\n     * @return {[]}\n     */\n    get cartoons() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function that updates the layout if needed then returns the nodeMap.\n     * @return {*|Map|Map|Map|Map<any, any>}\n     */\n    get nodeMap() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A utility function that updates the layout if needed then returns the edgeMap.\n     * @return {*|Map|Map|Map|Map<any, any>}\n     */\n    get edgeMap() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n\n    /**\n     * sets the initial Y value for the first node returned from the getTreeNodes().\n     * @return {number}\n     */\n    setInitialY() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * Set the y position of a vertex and return the Y position. This function is called on each node in the order returns from the getTreeNodes() method.\n     * The currentY represent the Y position of the previous node at each iteration. These y values will be converted to pixels by the figtree instance.\n     * range.\n     * @param vertex\n     * @param currentY\n     * @return {number}\n     */\n    setYPosition(vertex, currentY) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    /**\n     * sets the initial x value for the first node returned from the getTreeNodes().\n     * @return {number}\n     */\n    setInitialX() {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    /**\n     * Set the x position of a vertex and return the X position. This function is called on each node in the order returns from the getTreeNodes() method.\n     * The currentX represent the x position of the previous node at each iteration. These x values will be mapped to a [0,1]\n     * range. In the 'normal' left to right tree this method would ignore the currentX and set the x based on the horizontal scale.\n     * @param vertex\n     * @param currentX\n     * @return {number}\n     */\n    setXPosition(vertex, currentX) {\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n\n    /**\n     * A private method which returns the nodes of the tree in the order in which they will be assigned Y and X coordinates.\n     * This function is passed to getTreeNodes() methods which filters out the ignoredNodes. This funciton should be overwritten\n     * but only called if the ignored nodes are needed.\n     * @return {Array[]}\n     */\n    _getTreeNodes(){\n    throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A helper function that returns an array of verticies corresponding to a vertex's node's children. This method is useful\n     * because it handles the logic determining whether or not a vertex is included, hidden, masked ect.\n     *\n     * @param vertex\n     * @return {*}\n     */\n    getChildVertices(vertex){\n        return vertex.node.children.map(child=>this._nodeMap.get(child)).filter(child=>child.visibility===VertexStyle.INCLUDED||child.visibility===VertexStyle.HIDDEN);\n    }\n\n\n    /**\n     * A utility function that replaces the aspects of the settins provided here then calls update.\n     * @param newSettings\n     */\n    updateSettings(newSettings){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n\n    /**\n     * A method that updates a layout's layout function. middlewares should take one parameter which will be this layout.\n     * They can then use this parameter to access the methods and state of the layout.\n     * @param middlewares - function to be called after the original layout function\n     * @return {layout}\n     */\n    extendLayout(...middlewares){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n    }\n    /**\n     * A method that subscribes the function to be called when the layout updates.\n     * @param func - function to be called when the layout updates\n     */\n    subscribeCallback(func){\n        throw  new Error(\"Don't call this method from the parent layoutInterface class. It must be implemented in the child class\")\n\n    }\n\n\n}\n\n\n","//https://stackoverflow.com/questions/27936772/how-to-deep-merge-instead-of-shallow-merge\n\nexport function isObject(item) {\n    return (item && typeof item === 'object' && !Array.isArray(item));\n}\n\nexport  function mergeDeep(target, source) {\n    let output = Object.assign({}, target);\n    if (isObject(target) && isObject(source)) {\n        Object.keys(source).forEach(key => {\n            if (isObject(source[key])) {\n                if (!(key in target))\n                    Object.assign(output, { [key]: source[key] });\n                else\n                    output[key] = mergeDeep(target[key], source[key]);\n            } else {\n                Object.assign(output, { [key]: source[key] });\n            }\n        });\n    }\n    return output;\n}","\"use strict\";\nimport {format,curveStepBefore,max,min,line,mean,scaleLinear,curveLinear} from \"d3\";\nimport {Tree, Type} from \"../tree\";\nimport {layoutInterface} from \"./layoutInterface\";\nimport extent from \"d3-array/src/extent\";\nimport {mergeDeep} from \"../utilities\";\n\n/** @module layout */\n\nexport const  VertexStyle = {\n    INCLUDED:Symbol(\"INCLUDED\"),// Only included nodes are sent to the figtree class\n    HIDDEN:Symbol(\"HIDDEN\"), // The only difference between hidden and included nodes is that hidden nodes are not sent to the figtree class\n    MASKED:Symbol(\"MASKED\") // Masked nodes have an x and y coordinate but are then ignored. They don't count towards their parent's x and y\n}\n\n\nexport const  makeVerticesFromNodes=Symbol(\"makeVerticesFromNodes\");\nexport const setVertexClasses = Symbol(\"setVertexClasses\");\nexport const setVertexLabels=Symbol(\"setVertexLabels\");\nexport const makeEdgesFromNodes = Symbol(\"makeEdgesFromNodes\");\nexport const setupEdge=Symbol(\"setupEdge\");\nexport const setEdgeTermini = Symbol(\"setEdgeTermini\");\nexport const setEdgeClasses = Symbol(\"setEdgeClasses\");\nexport const setEdgeLabels = Symbol(\"setEdgeLabels\");\nexport const getMostAncestralCartoons=Symbol(\"getMostAncestralCartoons\");\n\n/**\n * The AbstractLayout class\n *\n */\nexport class  AbstractLayout extends layoutInterface {\n\n    /**\n     * The default layout settings\n     * @return {{lengthFormat: *, horizontalScale: null}}\n     * @constructor\n     */\n    static DEFAULT_SETTINGS() {\n        return {\n            lengthFormat: format(\".2f\"),\n            branchLabelAnnotationName:null,\n            internalNodeLabelAnnotationName:null,\n            externalNodeLabelAnnotationName:\"name\",\n        }\n    }\n\n    /**\n     * The constructor\n     * @param tree\n     * @param settings\n     */\n    constructor(tree, settings = {}) {\n        super();\n\n        this.tree = tree;\n        this.settings = {...AbstractLayout.DEFAULT_SETTINGS(), ...settings};\n\n        this._edges = [];\n        this._edgeMap = new Map();\n\n        this._vertices = [];\n        this._nodeMap = new Map();\n\n        this._cartoonStore = [];\n        this._ignoredNodes=[];\n\n        this.layoutKnown = false;\n\n        // called whenever the tree changes...\n        this.tree.subscribeCallback( () => {\n                                    this.layoutKnown = false;\n                                     this.update();\n        });\n\n        // create an empty callback function\n        this.updateCallback = () => {\n        };\n\n    }\n\n    layout() {\n        // this._horizontalScale = this.updateHorizontalScale();\n\n        const treeNodes = this._getTreeNodes();\n        this[makeVerticesFromNodes](treeNodes);\n        this[makeEdgesFromNodes](treeNodes);\n        // get the nodes\n\n        let currentY = this.setInitialY();\n        let currentX = this.setInitialX();\n\n\n        // update the node locations (vertices)\n        treeNodes.forEach((n) => {\n            const v = this._nodeMap.get(n);\n                currentY = this.setYPosition(v, currentY);\n                currentX = this.setXPosition(v, currentX);\n        });\n\n        //Update edge locations\n        this._edges\n            .forEach((e) => {\n                this[setupEdge](e);\n            });\n        this.layoutKnown = true;\n\n    }\n\n    get horizontalDomain() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        const xPositions = [...this._vertices.map(d=>d.x),min(this._vertices.map(d=>d.x))];\n        return [max(xPositions),min(xPositions)];\n    }\n\n    get verticalDomain() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return extent(this._vertices,d=>d.y);\n    }\n    \n\n    update() {\n        this.updateCallback();\n    }\n\n\n    rotate() {\n        return (vertex) => {\n            this.tree.rotate(vertex.node);\n            this.update();\n        };\n    }\n\n\n    orderIncreasing() {\n        return (vertex) => {\n            this.tree.rotate(vertex.node);\n            this.update();\n        };\n    }\n\n\n    orderDecreasing() {\n        return (vertex) => {\n            this.tree.rotate(vertex.node);\n            this.update();\n        };\n    }\n\n\n    reroot() {\n        this.layoutKnown=false;\n        return (edge, position) => {\n            this.tree.reroot(edge.v1.node, position);\n            this.update();\n        };\n    }\n\n\n    cartoon(vertex) {\n        const node = vertex.node;\n        if (node.children) {\n            if (this._cartoonStore.filter(c => c.format === \"cartoon\").find(c => c.node === node)) {\n                this._cartoonStore = this._cartoonStore.filter(c => !(c.format === \"cartoon\" && c.node === node));\n\n                [...this.tree.postorder(node)]\n                    .filter(n=>n!==node)\n                    .map(n=>this._nodeMap.get(n))\n                    .forEach(v=>v.visibility = v.visibility===VertexStyle.HIDDEN?VertexStyle.INCLUDED:v.visibility);\n\n            } else {\n                this._cartoonStore.push({\n                    node: node,\n                    format: \"cartoon\"\n                })\n            }\n            // hide children vertices\n            this._cartoonStore.forEach(c=>{\n                [...this.tree.postorder(c.node)]\n                    .filter(n=>n!==c.node)\n                    .forEach(n=>this.hideNode(n))\n            });\n\n            this.layoutKnown = false;\n            this.update();\n        }\n    }\n\n    maskNode(node) {\n        const vertex = this.nodeMap.get(node);\n        vertex.visibility = VertexStyle.MASKED;\n        this.layoutKnown = false;\n    }\n\n    hideNode(node) {\n        const vertex = this.nodeMap.get(node);\n        vertex.visibility = VertexStyle.HIDDEN;\n        this.layoutKnown = false;\n    }\n\n    ignoreNode(node) {\n        this._ignoredNodes.push(node);\n        this.layoutKnown = false;\n    }\n\n    includeNode(node) {\n        this._ignoredNodes = this._ignoredNodes.filter(n=>n!==node);\n\n        const vertex = this.nodeMap.get(node);\n        vertex.visibility = VertexStyle.INCLUDED;\n        this.layoutKnown = false;\n    }\n\n    getChildVertices(vertex){\n\n        // return vertex.node.children.map(child=>this._nodeMap.get(child)).filter(child=>child.visibility===VertexStyle.INCLUDED||child.visibility===VertexStyle.HIDDEN);\n        const children =  vertex.node.children.filter(n=>!this._ignoredNodes.includes(n)).map(child=>this._nodeMap.get(child));\n\n\n        try{\n            return children.filter(child=>child.visibility!==VertexStyle.MASKED);\n        }catch{\n            console.group(`${vertex.node.id}`);\n            console.log(vertex);\n            console.log(children);\n            console.groupEnd();\n        }\n\n    }\n\n\n    nodeInfo(node) {\n        let text = `${node.name ? node.name : node.id}`;\n        Object.entries(node.annotations).forEach(([key, value]) => {\n            text += `<p>${key}: ${value}</p>`;\n        });\n        return text;\n    }\n\n    get edges() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._edges.filter(e => e.v1.visibility === VertexStyle.INCLUDED);\n    }\n\n    get vertices() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._vertices.filter(v => v.visibility === VertexStyle.INCLUDED);\n    }\n\n    get cartoons() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n\n        // Handle cartoons\n        // here we handle what's active and what isn't.\n        const cartoons = [];\n        const ancestralCartoons = this[getMostAncestralCartoons](this._cartoonStore);\n        ancestralCartoons\n            .forEach(c => {\n\n\n            const cartoonNodeDecedents = [...this.tree.postorder(c.node)].filter(n => n !== c.node);\n            const cartoonVertex = this._nodeMap.get(c.node);\n            const cartoonVertexDecedents = cartoonNodeDecedents.map(n => this._nodeMap.get(n));\n            const newTopVertex = {\n                x: min(cartoonVertexDecedents, d => d.x),\n                y: max(cartoonVertexDecedents, d => d.y),\n                id: `${cartoonVertex.id}-top`,\n                node: cartoonVertex.node,\n                classes: cartoonVertex.classes\n            };\n            const newBottomVertex = {\n                ...newTopVertex, ...{y: min(cartoonVertexDecedents, d => d.y), id: `${cartoonVertex.id}-bottom`}\n            };\n            // place in middle of tips.\n            cartoonVertex.y = mean([newTopVertex, newBottomVertex], d => d.y)\n            let currentNode = cartoonVertex.node;\n            while (currentNode.parent) {\n                const parentVertex = this._nodeMap.get(currentNode.parent);\n                if (!parentVertex.node.children ) {\n                    parentVertex.y = mean(this.getChildVertices(parentVertex), (child) => this._nodeMap.get(child).y)\n                }\n                currentNode = parentVertex.node;\n\n            }\n\n            cartoons.push({\n                vertices: [cartoonVertex, newTopVertex, newBottomVertex],\n                classes: cartoonVertex.classes,\n                id: `${cartoonVertex.id}-cartoon`, node: c.node\n            })\n        });\n        return cartoons;\n\n    }\n\n    get nodeMap() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._nodeMap;\n    }\n\n    get edgeMap() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._edgeMap;\n    }\n\n\n    updateSettings(settings){\n        this.settings = mergeDeep(this.settings,settings);\n        this.update();\n    }\n\n// inspired by redux naive implementation https://redux.js.org/advanced/middleware\n    extendLayout(...middlewares){\n        middlewares = middlewares.slice();\n        middlewares.reverse();\n        let layout = this.layout.bind(this);\n        middlewares.forEach(middleware => {\n            const wrappedMiddleware = nextLayout=>(context)=>()=>\n            {\n                nextLayout(context);\n                middleware(context);\n            };\n            layout = wrappedMiddleware(layout)(this);\n        });\n        this.layout = layout;\n        this.layoutKnown=false;\n        return this;\n    }\n\n    setInitialY() {\n        return -0.5;\n    }\n    setInitialX() {\n        return 0;\n    }\n    setXPosition(vertex,currentX){\n        vertex.x = vertex.node.height;\n        return 0;\n    }\n\n    /**\n     * A class function that subscribes a to be called when the tree updates.\n     * @param func - function to be called when the tree updates\n     */\n    subscribeCallback(func){\n        const currentCallback = this.updateCallback;\n        this.updateCallback = () =>{\n            currentCallback();\n            func();\n        }\n    }\n\n    /*\n    *\n     */\n    [makeVerticesFromNodes](nodes){\n        nodes.forEach((n, i) => {\n\n            if(!this._nodeMap.has(n)&&!this._ignoredNodes.includes(n)){\n                const vertex = {\n                    node: n,\n                    key: n.id,\n                    visibility:VertexStyle.INCLUDED,\n                    degree : (n.children ? n.children.length + 1 : 1) ,// the number of edges (including stem)\n                    id :n.id\n                };\n                this[setVertexClasses](vertex);\n                this[setVertexLabels](vertex);\n                this._vertices.push(vertex);\n                this._nodeMap.set(n, vertex);\n            }\n        });\n\n        //remove vertices not in nodes\n        for(const n of this._nodeMap.keys()){\n            if(!nodes.includes(n)){\n                this._vertices=this._vertices.filter(v=>v!==this._nodeMap.get(n));\n                this._nodeMap.delete(n);\n            }\n        }\n\n    }\n\n    [setVertexClasses](v){\n        v.classes = [\n            (!v.node.children ? \"external-node\" : \"internal-node\"),\n            (v.node.isSelected ? \"selected\" : \"unselected\")];\n\n        if (v.node.annotations) {\n            v.classes = [\n                ...v.classes,\n                ...Object.entries(v.node.annotations)\n                    .filter(([key]) => {\n                        return this.tree.annotations[key] &&\n                            (this.tree.annotations[key].type === Type.DISCRETE ||\n                                this.tree.annotations[key].type === Type.BOOLEAN ||\n                                this.tree.annotations[key].type === Type.INTEGER);\n                    })\n                    .map(([key, value]) => `${key}-${value}`)];\n        }\n\n    }\n    [setVertexLabels](v){\n        // either the tip name or the internal node label\n        if (v.node.children) {\n            v.leftLabel = (this.settings.internalNodeLabelAnnotationName?\n                v.node.annotations[this.settings.internalNodeLabelAnnotationName]:\n                \"\");\n            v.rightLabel = \"\";\n\n            // should the left node label be above or below the node?\n            v.labelBelow = (!v.node.parent || v.node.parent.children[0] !== v.node);\n        } else {\n            v.leftLabel = \"\";\n            v.rightLabel = (this.settings.externalNodeLabelAnnotationName?\n                v.node.annotations[this.settings.externalNodeLabelAnnotationName]:\n               \"\");\n        }\n    }\n\n    [makeEdgesFromNodes](nodes){\n        // create the edges (only done if the array is empty)\n        nodes\n            .filter((n) => n.parent) // exclude the root\n            .forEach((n, i) => {\n                if(!this._edgeMap.has(this._nodeMap.get(n))) {\n                    const edge = {\n                        v0: this._nodeMap.get(n.parent),\n                        v1: this._nodeMap.get(n),\n                        key: n.id\n                    };\n                    this._edges.push(edge);\n                    this._edgeMap.set(edge.v1, edge);\n                }\n            })\n\n        //remove edges not in nodes\n        for(const v1 of this._edgeMap.keys()){\n            if(!nodes.includes(v1.node)){\n                this._edges=this._edges.filter(e=>e!==this._edgeMap.get(v1))\n                this._edgeMap.delete(v1);\n            }\n        }\n    }\n    [setupEdge](e){\n        this[setEdgeTermini](e);\n        this[setEdgeClasses](e);\n        this[setEdgeLabels](e);\n    }\n    [setEdgeTermini](e){\n        e.v1 = this._nodeMap.get(e.v1.node);\n        e.v0 = this._nodeMap.get(e.v1.node.parent);\n        e.length = length;\n    }\n\n    [setEdgeClasses](e){\n        e.classes = [];\n\n        if (e.v1.node.annotations) {\n            e.classes = [\n                ...e.classes,\n                ...Object.entries(e.v1.node.annotations)\n                    .filter(([key]) => {\n                        return this.tree.annotations[key] &&\n                            (this.tree.annotations[key].type === Type.DISCRETE ||\n                                this.tree.annotations[key].type === Type.BOOLEAN ||\n                                this.tree.annotations[key].type === Type.INTEGER);\n                    })\n                    .map(([key, value]) => `${key}-${value}`)];\n        }\n    }\n    [setEdgeLabels](e){\n        e.label = (this.settings.branchLabelAnnotationName ?\n            (this.settings.branchLabelAnnotationName === 'length' ?\n                this.settings.lengthFormat(length) :\n                e.v1.node.annotations[this.settings.branchLabelAnnotationName]) :\n            null );\n        e.labelBelow = e.v1.node.parent.children[0] !== e.v1.node;\n    }\n\n    [getMostAncestralCartoons](cartoons){\n    const cartoonNodes = cartoons.map(c=>c.node);\n    const mostAncestralNode = cartoonNodes.filter(n=>![...Tree.pathToRoot(n)].filter(m=>m!==n).some(n=>cartoonNodes.includes(n)));\n\n    return cartoons.filter(c=>mostAncestralNode.includes(c.node));\n\n    }\n}\n\n\n\n/**\n * This is a helper function that updates a vertices y position by a specified amount. The function is meant to open a gap\n * in the tree around vertices that are moved. A side effect of the function is\n * that vertices not listed are moved up (if they are above the selected vertices and the vertices are moved up) and\n * down if they are below the selected vertices and the vertices are moved down. It is meant to be called with this\n * referring to the layout. Remember that the top of plot has y position 0. So positive numbers move the vertices to\n * positions lower on the screen.\n * @param delta\n * @param vertices\n */\n\nexport function updateVerticesY(delta,...vertices){\n\n    if(delta>0){\n        this._vertices.filter(v=>v.y>max(vertices,v=>v.y))\n            .forEach(v=>v.y+=2*delta);\n    }\n    else if(delta<0){\n        this._vertices.filter(v=>v.y<min(vertices,v=>v.y))\n            .forEach(v=>v.y+=2*delta);\n    }\n    vertices.forEach(v=>v.y+=delta);\n}","\"use strict\";\n\n/** @module layout */\n\nimport { AbstractLayout } from \"./abstractLayout.js\";\nimport {mean} from \"d3\";\nimport {VertexStyle} from \"./abstractLayout\";\n\n/**\n * The rectangular layout class\n *\n */\nexport class RectangularLayout extends AbstractLayout {\n\n\n    /**\n     * The constructor.\n     * @param tree\n     * @param settings\n     */\n    constructor(tree, settings = { }) {\n        super(tree,settings);\n\n    }\n\n    _getTreeNodes() {\n        return [...this.tree.postorder()]\n    }\n\n    setYPosition(vertex, currentY) {\n\n        const includedInVertical = !vertex.node.children;\n        if(!includedInVertical) {\n\n            const vertexChildren = this.getChildVertices(vertex);\n            vertex.y = mean(vertexChildren, (child) => child.y);\n        }else{\n            currentY += 1;\n            vertex.y = currentY;\n        }\n        return currentY;\n    }\n\n\n\n\n\n}\n\n\n\n","\"use strict\";\n\n/** @module layout */\n\nimport {mean,extent} from \"d3\";\nimport {AbstractLayout, updateVerticesY, VertexStyle} from \"./abstractLayout\";\n\n\nexport const Direction = {\n    UP : Symbol(\"UP\"),\n    DOWN : Symbol(\"DOWN\")\n};\n\n/**\n * The TransmissionLayout class\n * up orders the tree in increasing node density and puts transmission up\n * down orders tree in decreasing node density and puts the transmissions down\n *\n */\nexport class TransmissionLayout extends AbstractLayout {\n\n    static DEFAULT_SETTINGS() {\n        return {\n            groupingAnnotation:\"host\",\n            direction:\"up\",\n            groupGap: 5,\n        }\n    };\n\n    /**\n     * The constructor.\n     * @param tree\n     * @param settings\n     */\n    constructor(tree, settings = {}) {\n        // Rotate the tree so that jumps are always on top/bottom depending on settings\n        // defined here so we can use the groupingAnnotation key\n        super(tree, {...TransmissionLayout.DEFAULT_SETTINGS(), ...settings});\n        this.extendLayout(transmissionMiddleWare)\n    }\n\n    setYPosition(vertex, currentY) {\n            const includedInVertical = !vertex.node.children;\n            if(!includedInVertical){\n                const vertexChildren = this.getChildVertices(vertex);\n                vertex.y = mean(vertexChildren,(child) => child.y);\n            }\n            else{\n                currentY += 1;\n                vertex.y = currentY;\n            }\n            return currentY;\n        }\n        _getTreeNodes() {\n\n            // this.tree._order(orderTreeNodes.bind(this));\n\n            return [...this.tree.postorder()]\n        }\n}\n\nfunction transmissionMiddleWare(context){\n    // If direction is up start at bottom if direction is down start at top\n    let sorting =(a,b)=>-1;\n    let gap = context.settings.groupGap;\n    if(context.settings.direction.toLowerCase()===\"up\"){\n        sorting = (a,b) => a.y-b.y;\n        gap*=-1;\n    }else if(context.settings.direction.toLowerCase()===\"down\"){\n        sorting=(a,b)=>b.y-a.y;\n    }\n    context._vertices.sort(sorting)\n        .forEach(vertex=>{\n            //We don't touch the root\n            if(vertex.node.parent){\n                //Is there a state change\n                if(vertex.node.annotations[context.settings.groupingAnnotation]!==vertex.node.parent.annotations[context.settings.groupingAnnotation]){\n                    //Get descendent vertices\n                    const vertices =[...context.tree.postorder(vertex.node)].map(n=>context._nodeMap.get(n));\n                        updateVerticesY.call(context,gap,...vertices);\n                }\n            }\n        });\n\n    context._verticalRange =extent(context._vertices,v=>v.y);\n\n}\n\n\n\n\n","\"use strict\";\n\n/** @module layout */\n\nimport { AbstractLayout,VertexStyle } from \"./abstractLayout.js\";\nimport {min,mean} from \"d3\";\n\n/**\n * The TransmissionLayout class\n * Only works for 'up' directions\n *\n */\nexport class ExplodedLayout extends AbstractLayout {\n\n    static DEFAULT_SETTINGS() {\n        return {\n            groupingAnnotation:\"host\",\n            direction:\"up\",\n            interGroupGap:10,\n            intraGroupGap:5,\n            groupOrdering:(a,b)=>a<b?-1:1,\n        }\n    };\n\n    /**\n     * The constructor.\n     * @param tree\n     * @param settings\n     */\n    constructor(tree, settings = {}) {\n\n        super(tree, {...ExplodedLayout.DEFAULT_SETTINGS(), ...settings});\n    }\n\n\n    _getTreeNodes() {\n        // order first by grouping annotation and then by postorder\n        const postOrderNodes = [...this.tree.postorder()];\n\n        // sort by location and then by post order order but we want all import/export banches to be last\n        return([...this.tree.postorder()].sort((a,b)=>{\n            const aGroup = a.annotations[this.settings.groupingAnnotation];\n            const bGroup = b.annotations[this.settings.groupingAnnotation];\n            if(aGroup===bGroup){\n                return postOrderNodes.indexOf(a)-postOrderNodes.indexOf(b);\n            }else{\n                    return this.settings.groupOrdering(aGroup,bGroup)\n                }\n        }))\n\n\n    }\n\n    setYPosition(vertex, currentY) {\n        // check if there are children that that are in the same group and set position to mean\n        // if do something else\n        if(currentY===this.setInitialY()) {\n            this._currentGroup = vertex.node.annotations[this.settings.groupingAnnotation];\n        }\n       // First if this isn't tip like\n        if (vertex.node.children&&(vertex.node.children.length>1||vertex.node.annotations[this.settings.groupingAnnotation]!==vertex.node.parent.annotations[this.settings.groupingAnnotation])) {\n            const vertexChildren = this.getChildVertices(vertex);\n            vertex.y = mean(vertexChildren,(child) => child.y);\n            if(vertex.node.parent){\n                if(vertex.node.annotations[this.settings.groupingAnnotation]!==vertex.node.parent.annotations[this.settings.groupingAnnotation]){\n                    this._newIntraGroupNext=true;\n                }\n            }\n\n        } else {\n\n        //It's a tip or tip-like\n            if(vertex.node.annotations[this.settings.groupingAnnotation]!==this._currentGroup){\n                //This the the first time in the new group\n                currentY+=this.settings.interGroupGap;\n                //Reset this flag\n                this._newIntraGroupNext = false;\n            }\n            else if(this._newIntraGroupNext){\n                //It's a tip in a new circulation\n                currentY+=this.settings.intraGroupGap;\n                this._newIntraGroupNext = false;\n            }else{\n                //Just the same ciruclation\n                currentY += 1;\n            }\n            this._currentGroup= vertex.node.annotations[this.settings.groupingAnnotation];\n            vertex.y = currentY;\n        }\n\n        return currentY;\n    }\n\n}\n\n\n\n\n/*\n * Private methods, called by the class using the <function>.call(this) function.\n */\n\n","\"use strict\";\n\n/** @module bauble */\nimport {mergeDeep} from \"../utilities\";\n\n/**\n * The Bauble class\n *\n * This is a shape or decoration at the node of a tree or graph\n */\nexport class Bauble {\n    /**\n     * The default settings for the Bauable class. The default is ()=>true. All vertexs are assigned a bauble\n     * @return {{vertexFilter: (function(): boolean)}}\n     * @constructor\n     */\n    static DEFAULT_SETTINGS() {\n        return {\n            vertexFilter: () => true,\n            attrs:{},\n            styles:{}\n        };\n    }\n\n    /**\n     * The constructor takes a setting object. The keys of the setting object are determined by the type of bauble.\n     *\n     * @param settings\n     */\n    constructor(settings = {}) {\n        this.settings = mergeDeep(Bauble.DEFAULT_SETTINGS(),settings);\n    }\n\n    /**\n     * A getter for the vertexFilter\n     * @return {*|vertexFilter|(function(): boolean)}\n     */\n\n    get vertexFilter() {\n        return this.settings.vertexFilter;\n    }\n\n    /**\n     * A function that appends the bauble to the selection, joins the data, assigns the attributes to the svg objects\n     * updates and remove unnneed objects.\n     * @param selection\n     * @param border\n     */\n    updateShapes(selection, border = 0) {\n        throw new Error(\"don't call the base class methods\")\n    }\n\n}\n\n\n\n","import {select} from \"d3-selection\";\n\nfunction attrsFunction(selection, map) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.attr(name, x[name]);\n  });\n}\n\nfunction attrsObject(selection, map) {\n  for (var name in map) selection.attr(name, map[name]);\n  return selection;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? attrsFunction : attrsObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction stylesFunction(selection, map, priority) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.style(name, x[name], priority);\n  });\n}\n\nfunction stylesObject(selection, map, priority) {\n  for (var name in map) selection.style(name, map[name], priority);\n  return selection;\n}\n\nexport default function(map, priority) {\n  return (typeof map === \"function\" ? stylesFunction : stylesObject)(this, map, priority == null ? \"\" : priority);\n}\n","import {select} from \"d3-selection\";\n\nfunction propertiesFunction(selection, map) {\n  return selection.each(function() {\n    var x = map.apply(this, arguments), s = select(this);\n    for (var name in x) s.property(name, x[name]);\n  });\n}\n\nfunction propertiesObject(selection, map) {\n  for (var name in map) selection.property(name, map[name]);\n  return selection;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? propertiesFunction : propertiesObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction attrsFunction(transition, map) {\n  return transition.each(function() {\n    var x = map.apply(this, arguments), t = select(this).transition(transition);\n    for (var name in x) t.attr(name, x[name]);\n  });\n}\n\nfunction attrsObject(transition, map) {\n  for (var name in map) transition.attr(name, map[name]);\n  return transition;\n}\n\nexport default function(map) {\n  return (typeof map === \"function\" ? attrsFunction : attrsObject)(this, map);\n}\n","import {select} from \"d3-selection\";\n\nfunction stylesFunction(transition, map, priority) {\n  return transition.each(function() {\n    var x = map.apply(this, arguments), t = select(this).transition(transition);\n    for (var name in x) t.style(name, x[name], priority);\n  });\n}\n\nfunction stylesObject(transition, map, priority) {\n  for (var name in map) transition.style(name, map[name], priority);\n  return transition;\n}\n\nexport default function(map, priority) {\n  return (typeof map === \"function\" ? stylesFunction : stylesObject)(this, map, priority == null ? \"\" : priority);\n}\n","import {selection} from \"d3-selection\";\nimport {transition} from \"d3-transition\";\nimport selection_attrs from \"./src/selection/attrs\";\nimport selection_styles from \"./src/selection/styles\";\nimport selection_properties from \"./src/selection/properties\";\nimport transition_attrs from \"./src/transition/attrs\";\nimport transition_styles from \"./src/transition/styles\";\n\nselection.prototype.attrs = selection_attrs;\nselection.prototype.styles = selection_styles;\nselection.prototype.properties = selection_properties;\ntransition.prototype.attrs = transition_attrs;\ntransition.prototype.styles = transition_styles;\n","import {mergeDeep} from \"../utilities\";\nimport {Bauble} from \"./bauble\";\n\n/**\n * The CircleBauble class. Each vertex is assigned a circle in the svg.\n */\nexport class CircleBauble extends Bauble {\n\n    /**\n     * The default settings for the circleBauble\n     * The default is 6;\n     * @return {{radius: number}}\n     * @constructor\n     */\n    static DEFAULT_SETTINGS() {\n        return {\n            radius: 6,\n        };\n    }\n\n    /**\n     * The constructor.\n     */\n    constructor(settings = {}) {\n        super(mergeDeep(CircleBauble.DEFAULT_SETTINGS(), settings));\n    }\n\n\n    /**\n     * A function that assigns cy,cx,and r attributes to a selection. (cx and cy are set to 0 each r is the settings radius\n     * plus the border.\n     * @param selection\n     * @param border\n     * @return {*|null|undefined}\n     */\n    updateShapes(selection, border = 0) {\n\n        return selection\n            .selectAll(\"circle\")\n            .data(d => [d])\n            .join(\n                enter => enter\n                    .append(\"circle\")\n                    .attr(\"cx\", 0)\n                    .attr(\"cy\", 0)\n                    .attr(\"r\", this.settings.radius + border)\n                    .attrs((vertex) => {\n                        const attributes = this.settings.attrs;\n                        return Object.keys(attributes).reduce((acc, curr) => {\n                            // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                            return {...acc, [curr]: attributes[curr](vertex)}\n                        }, {})\n                    })\n                    .styles((vertex) => {\n                        const styles = this.settings.styles;\n                        return Object.keys(styles).reduce((acc, curr) => {\n                            // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                            return {...acc, [curr]: styles[curr](vertex)}\n                        }, {})\n                    }),\n                update => update\n                    .call(update => update.transition()\n                        .attr(\"cx\", 0)\n                        .attr(\"cy\", 0)\n                        .attr(\"r\", this.settings.radius + border)\n                        .attrs((vertex) => {\n                            const attributes = this.settings.attrs;\n                            return Object.keys(attributes).reduce((acc, curr) => {\n                                // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                                return {...acc, [curr]: attributes[curr](vertex)}\n                            }, {})\n                        })\n                        .styles((vertex) => {\n                            const styles = this.settings.styles;\n                            return Object.keys(styles).reduce((acc, curr) => {\n                                // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                                return {...acc, [curr]: styles[curr](vertex)}\n                            }, {})\n                        })\n                    )\n            )\n\n    };\n}","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=t||self).rough=e()}(this,function(){\"use strict\";const t=\"undefined\"!=typeof self;class e{constructor(t,e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:\"#000\",strokeWidth:1,curveTightness:0,curveStepCount:9,fillStyle:\"hachure\",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1},this.config=t||{},this.surface=e,this.config.options&&(this.defaultOptions=this._options(this.config.options))}_options(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_drawable(t,e,s){return{shape:t,sets:e||[],options:s||this.defaultOptions}}getCanvasSize(){const t=t=>t&&\"object\"==typeof t&&t.baseVal&&t.baseVal.value?t.baseVal.value:t||100;return this.surface?[t(this.surface.width),t(this.surface.height)]:[100,100]}computePolygonSize(t){if(t.length){let e=t[0][0],s=t[0][0],i=t[0][1],h=t[0][1];for(let n=1;n<t.length;n++)e=Math.min(e,t[n][0]),s=Math.max(s,t[n][0]),i=Math.min(i,t[n][1]),h=Math.max(h,t[n][1]);return[s-e,h-i]}return[0,0]}polygonPath(t){let e=\"\";if(t.length){e=`M${t[0][0]},${t[0][1]}`;for(let s=1;s<t.length;s++)e=`${e} L${t[s][0]},${t[s][1]}`}return e}computePathSize(e){let s=[0,0];if(t&&self.document)try{const t=\"http://www.w3.org/2000/svg\",i=self.document.createElementNS(t,\"svg\");i.setAttribute(\"width\",\"0\"),i.setAttribute(\"height\",\"0\");const h=self.document.createElementNS(t,\"path\");h.setAttribute(\"d\",e),i.appendChild(h),self.document.body.appendChild(i);const n=h.getBBox();n&&(s[0]=n.width||0,s[1]=n.height||0),self.document.body.removeChild(i)}catch(t){}const i=this.getCanvasSize();return s[0]*s[1]||(s=i),s}toPaths(t){const e=t.sets||[],s=t.options||this.defaultOptions,i=[];for(const t of e){let e=null;switch(t.type){case\"path\":e={d:this.opsToPath(t),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:\"none\"};break;case\"fillPath\":e={d:this.opsToPath(t),stroke:\"none\",strokeWidth:0,fill:s.fill||\"none\"};break;case\"fillSketch\":e=this.fillSketch(t,s);break;case\"path2Dfill\":e={d:t.path||\"\",stroke:\"none\",strokeWidth:0,fill:s.fill||\"none\"};break;case\"path2Dpattern\":{const i=t.size,h={x:0,y:0,width:1,height:1,viewBox:`0 0 ${Math.round(i[0])} ${Math.round(i[1])}`,patternUnits:\"objectBoundingBox\",path:this.fillSketch(t,s)};e={d:t.path,stroke:\"none\",strokeWidth:0,pattern:h};break}}e&&i.push(e)}return i}fillSketch(t,e){let s=e.fillWeight;return s<0&&(s=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||\"none\",strokeWidth:s,fill:\"none\"}}opsToPath(t){let e=\"\";for(const s of t.ops){const t=s.data;switch(s.op){case\"move\":e+=`M${t[0]} ${t[1]} `;break;case\"bcurveTo\":e+=`C${t[0]} ${t[1]}, ${t[2]} ${t[3]}, ${t[4]} ${t[5]} `;break;case\"qcurveTo\":e+=`Q${t[0]} ${t[1]}, ${t[2]} ${t[3]} `;break;case\"lineTo\":e+=`L${t[0]} ${t[1]} `}}return e.trim()}}function s(t,e){return t.type===e}const i={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:4,t:2,V:1,v:1,Z:0,z:0};class h{constructor(t){this.COMMAND=0,this.NUMBER=1,this.EOD=2,this.segments=[],this.parseData(t),this.processPoints()}tokenize(t){const e=new Array;for(;\"\"!==t;)if(t.match(/^([ \\t\\r\\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:this.COMMAND,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/))return console.error(\"Unrecognized segment command: \"+t),[];e[e.length]={type:this.NUMBER,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length)}return e[e.length]={type:this.EOD,text:\"\"},e}parseData(t){const e=this.tokenize(t);let h=0,n=e[h],a=\"BOD\";for(this.segments=new Array;!s(n,this.EOD);){let o;const r=new Array;if(\"BOD\"===a){if(\"M\"!==n.text&&\"m\"!==n.text)return void this.parseData(\"M0,0\"+t);h++,o=i[n.text],a=n.text}else s(n,this.NUMBER)?o=i[a]:(h++,o=i[n.text],a=n.text);if(h+o<e.length){for(let t=h;t<h+o;t++){const i=e[t];if(!s(i,this.NUMBER))return void console.error(\"Parameter type is not a number: \"+a+\",\"+i.text);r[r.length]=+i.text}if(\"number\"!=typeof i[a])return void console.error(\"Unsupported segment type: \"+a);{const t={key:a,data:r};this.segments.push(t),n=e[h+=o],\"M\"===a&&(a=\"L\"),\"m\"===a&&(a=\"l\")}}else console.error(\"Path data ended before all parameters were found\")}}get closed(){if(void 0===this._closed){this._closed=!1;for(const t of this.segments)\"z\"===t.key.toLowerCase()&&(this._closed=!0)}return this._closed}processPoints(){let t=null,e=[0,0];for(let s=0;s<this.segments.length;s++){const i=this.segments[s];switch(i.key){case\"M\":case\"L\":case\"T\":i.point=[i.data[0],i.data[1]];break;case\"m\":case\"l\":case\"t\":i.point=[i.data[0]+e[0],i.data[1]+e[1]];break;case\"H\":i.point=[i.data[0],e[1]];break;case\"h\":i.point=[i.data[0]+e[0],e[1]];break;case\"V\":i.point=[e[0],i.data[0]];break;case\"v\":i.point=[e[0],i.data[0]+e[1]];break;case\"z\":case\"Z\":t&&(i.point=[t[0],t[1]]);break;case\"C\":i.point=[i.data[4],i.data[5]];break;case\"c\":i.point=[i.data[4]+e[0],i.data[5]+e[1]];break;case\"S\":i.point=[i.data[2],i.data[3]];break;case\"s\":i.point=[i.data[2]+e[0],i.data[3]+e[1]];break;case\"Q\":i.point=[i.data[2],i.data[3]];break;case\"q\":i.point=[i.data[2]+e[0],i.data[3]+e[1]];break;case\"A\":i.point=[i.data[5],i.data[6]];break;case\"a\":i.point=[i.data[5]+e[0],i.data[6]+e[1]]}\"m\"!==i.key&&\"M\"!==i.key||(t=null),i.point&&(e=i.point,t||(t=i.point)),\"z\"!==i.key&&\"Z\"!==i.key||(t=null)}}}class n{constructor(t){this._position=[0,0],this._first=null,this.bezierReflectionPoint=null,this.quadReflectionPoint=null,this.parsed=new h(t)}get segments(){return this.parsed.segments}get closed(){return this.parsed.closed}get linearPoints(){if(!this._linearPoints){const t=[];let e=[];for(const s of this.parsed.segments){const i=s.key.toLowerCase();(\"m\"!==i&&\"z\"!==i||(e.length&&(t.push(e),e=[]),\"z\"!==i))&&(s.point&&e.push(s.point))}e.length&&(t.push(e),e=[]),this._linearPoints=t}return this._linearPoints}get first(){return this._first}set first(t){this._first=t}setPosition(t,e){this._position=[t,e],this._first||(this._first=[t,e])}get position(){return this._position}get x(){return this._position[0]}get y(){return this._position[1]}}class a{constructor(t,e,s,i,h,n){if(this._segIndex=0,this._numSegs=0,this._rx=0,this._ry=0,this._sinPhi=0,this._cosPhi=0,this._C=[0,0],this._theta=0,this._delta=0,this._T=0,this._from=t,t[0]===e[0]&&t[1]===e[1])return;const a=Math.PI/180;this._rx=Math.abs(s[0]),this._ry=Math.abs(s[1]),this._sinPhi=Math.sin(i*a),this._cosPhi=Math.cos(i*a);const o=this._cosPhi*(t[0]-e[0])/2+this._sinPhi*(t[1]-e[1])/2,r=-this._sinPhi*(t[0]-e[0])/2+this._cosPhi*(t[1]-e[1])/2;let l=0;const c=this._rx*this._rx*this._ry*this._ry-this._rx*this._rx*r*r-this._ry*this._ry*o*o;if(c<0){const t=Math.sqrt(1-c/(this._rx*this._rx*this._ry*this._ry));this._rx=this._rx*t,this._ry=this._ry*t,l=0}else l=(h===n?-1:1)*Math.sqrt(c/(this._rx*this._rx*r*r+this._ry*this._ry*o*o));const p=l*this._rx*r/this._ry,u=-l*this._ry*o/this._rx;this._C=[0,0],this._C[0]=this._cosPhi*p-this._sinPhi*u+(t[0]+e[0])/2,this._C[1]=this._sinPhi*p+this._cosPhi*u+(t[1]+e[1])/2,this._theta=this.calculateVectorAngle(1,0,(o-p)/this._rx,(r-u)/this._ry);let f=this.calculateVectorAngle((o-p)/this._rx,(r-u)/this._ry,(-o-p)/this._rx,(-r-u)/this._ry);!n&&f>0?f-=2*Math.PI:n&&f<0&&(f+=2*Math.PI),this._numSegs=Math.ceil(Math.abs(f/(Math.PI/2))),this._delta=f/this._numSegs,this._T=8/3*Math.sin(this._delta/4)*Math.sin(this._delta/4)/Math.sin(this._delta/2)}getNextSegment(){if(this._segIndex===this._numSegs)return null;const t=Math.cos(this._theta),e=Math.sin(this._theta),s=this._theta+this._delta,i=Math.cos(s),h=Math.sin(s),n=[this._cosPhi*this._rx*i-this._sinPhi*this._ry*h+this._C[0],this._sinPhi*this._rx*i+this._cosPhi*this._ry*h+this._C[1]],a=[this._from[0]+this._T*(-this._cosPhi*this._rx*e-this._sinPhi*this._ry*t),this._from[1]+this._T*(-this._sinPhi*this._rx*e+this._cosPhi*this._ry*t)],o=[n[0]+this._T*(this._cosPhi*this._rx*h+this._sinPhi*this._ry*i),n[1]+this._T*(this._sinPhi*this._rx*h-this._cosPhi*this._ry*i)];return this._theta=s,this._from=[n[0],n[1]],this._segIndex++,{cp1:a,cp2:o,to:n}}calculateVectorAngle(t,e,s,i){const h=Math.atan2(e,t),n=Math.atan2(i,s);return n>=h?n-h:2*Math.PI-(h-n)}}class o{constructor(t,e){this.sets=t,this.closed=e}fit(t){const e=[];for(const s of this.sets){const i=s.length;let h=Math.floor(t*i);if(h<5){if(i<=5)continue;h=5}e.push(this.reduce(s,h))}let s=\"\";for(const t of e){for(let e=0;e<t.length;e++){const i=t[e];s+=0===e?\"M\"+i[0]+\",\"+i[1]:\"L\"+i[0]+\",\"+i[1]}this.closed&&(s+=\"z \")}return s}distance(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}reduce(t,e){if(t.length<=e)return t;const s=t.slice(0);for(;s.length>e;){let t=-1,e=-1;for(let i=1;i<s.length-1;i++){const h=this.distance(s[i-1],s[i]),n=this.distance(s[i],s[i+1]),a=this.distance(s[i-1],s[i+1]),o=(h+n+a)/2,r=Math.sqrt(o*(o-h)*(o-n)*(o-a));(t<0||r<t)&&(t=r,e=i)}if(!(e>0))break;s.splice(e,1)}return s}}class r{constructor(t,e){this.xi=Number.MAX_VALUE,this.yi=Number.MAX_VALUE,this.px1=t[0],this.py1=t[1],this.px2=e[0],this.py2=e[1],this.a=this.py2-this.py1,this.b=this.px1-this.px2,this.c=this.px2*this.py1-this.px1*this.py2,this._undefined=0===this.a&&0===this.b&&0===this.c}isUndefined(){return this._undefined}intersects(t){if(this.isUndefined()||t.isUndefined())return!1;let e=Number.MAX_VALUE,s=Number.MAX_VALUE,i=0,h=0;const n=this.a,a=this.b,o=this.c;return Math.abs(a)>1e-5&&(e=-n/a,i=-o/a),Math.abs(t.b)>1e-5&&(s=-t.a/t.b,h=-t.c/t.b),e===Number.MAX_VALUE?s===Number.MAX_VALUE?-o/n==-t.c/t.a&&(this.py1>=Math.min(t.py1,t.py2)&&this.py1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.py2>=Math.min(t.py1,t.py2)&&this.py2<=Math.max(t.py1,t.py2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=this.px1,this.yi=s*this.xi+h,!((this.py1-this.yi)*(this.yi-this.py2)<-1e-5||(t.py1-this.yi)*(this.yi-t.py2)<-1e-5)&&(!(Math.abs(t.a)<1e-5)||!((t.px1-this.xi)*(this.xi-t.px2)<-1e-5))):s===Number.MAX_VALUE?(this.xi=t.px1,this.yi=e*this.xi+i,!((t.py1-this.yi)*(this.yi-t.py2)<-1e-5||(this.py1-this.yi)*(this.yi-this.py2)<-1e-5)&&(!(Math.abs(n)<1e-5)||!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5))):e===s?i===h&&(this.px1>=Math.min(t.px1,t.px2)&&this.px1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.px2>=Math.min(t.px1,t.px2)&&this.px2<=Math.max(t.px1,t.px2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=(h-i)/(e-s),this.yi=e*this.xi+i,!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5||(t.px1-this.xi)*(this.xi-t.px2)<-1e-5))}}function l(t,e){const s=t[1][1]-t[0][1],i=t[0][0]-t[1][0],h=s*t[0][0]+i*t[0][1],n=e[1][1]-e[0][1],a=e[0][0]-e[1][0],o=n*e[0][0]+a*e[0][1],r=s*a-n*i;return r?[Math.round((a*h-i*o)/r),Math.round((s*o-n*h)/r)]:null}class c{constructor(t,e,s,i,h,n,a,o){this.deltaX=0,this.hGap=0,this.top=t,this.bottom=e,this.left=s,this.right=i,this.gap=h,this.sinAngle=n,this.tanAngle=o,Math.abs(n)<1e-4?this.pos=s+h:Math.abs(n)>.9999?this.pos=t+h:(this.deltaX=(e-t)*Math.abs(o),this.pos=s-Math.abs(this.deltaX),this.hGap=Math.abs(h/a),this.sLeft=new r([s,e],[s,t]),this.sRight=new r([i,e],[i,t]))}nextLine(){if(Math.abs(this.sinAngle)<1e-4){if(this.pos<this.right){const t=[this.pos,this.top,this.pos,this.bottom];return this.pos+=this.gap,t}}else if(Math.abs(this.sinAngle)>.9999){if(this.pos<this.bottom){const t=[this.left,this.pos,this.right,this.pos];return this.pos+=this.gap,t}}else{let t=this.pos-this.deltaX/2,e=this.pos+this.deltaX/2,s=this.bottom,i=this.top;if(this.pos<this.right+this.deltaX){for(;t<this.left&&e<this.left||t>this.right&&e>this.right;)if(this.pos+=this.hGap,t=this.pos-this.deltaX/2,e=this.pos+this.deltaX/2,this.pos>this.right+this.deltaX)return null;const h=new r([t,s],[e,i]);this.sLeft&&h.intersects(this.sLeft)&&(t=h.xi,s=h.yi),this.sRight&&h.intersects(this.sRight)&&(e=h.xi,i=h.yi),this.tanAngle>0&&(t=this.right-(t-this.left),e=this.right-(e-this.left));const n=[t,s,e,i];return this.pos+=this.hGap,n}}return null}}function p(t){const e=t[0],s=t[1];return Math.sqrt(Math.pow(e[0]-s[0],2)+Math.pow(e[1]-s[1],2))}function u(t,e){const s=[],i=new r([t[0],t[1]],[t[2],t[3]]);for(let t=0;t<e.length;t++){const h=new r(e[t],e[(t+1)%e.length]);i.intersects(h)&&s.push([i.xi,i.yi])}return s}function f(t,e,s,i,h,n,a){return[-s*n-i*h+s+n*t+h*e,a*(s*h-i*n)+i+-a*h*t+a*n*e]}function d(t,e){const s=[];if(t&&t.length){let i=t[0][0],h=t[0][0],n=t[0][1],a=t[0][1];for(let e=1;e<t.length;e++)i=Math.min(i,t[e][0]),h=Math.max(h,t[e][0]),n=Math.min(n,t[e][1]),a=Math.max(a,t[e][1]);const o=e.hachureAngle;let r=e.hachureGap;r<0&&(r=4*e.strokeWidth),r=Math.max(r,.1);const l=o%180*(Math.PI/180),p=Math.cos(l),f=Math.sin(l),d=Math.tan(l),g=new c(n-1,a+1,i-1,h+1,r,f,p,d);let y;for(;null!=(y=g.nextLine());){const e=u(y,t);for(let t=0;t<e.length;t++)if(t<e.length-1){const i=e[t],h=e[t+1];s.push([i,h])}}}return s}function g(t,e,s,i,h,n){const a=[];let o=Math.abs(i/2),r=Math.abs(h/2);o+=t.randOffset(.05*o,n),r+=t.randOffset(.05*r,n);const l=n.hachureAngle;let c=n.hachureGap;c<=0&&(c=4*n.strokeWidth);let p=n.fillWeight;p<0&&(p=n.strokeWidth/2);const u=l%180*(Math.PI/180),d=Math.tan(u),g=r/o,y=Math.sqrt(g*d*g*d+1),M=g*d/y,x=1/y,_=c/(o*r/Math.sqrt(r*x*(r*x)+o*M*(o*M))/o);let m=Math.sqrt(o*o-(e-o+_)*(e-o+_));for(let t=e-o+_;t<e+o;t+=_){const i=f(t,s-(m=Math.sqrt(o*o-(e-t)*(e-t))),e,s,M,x,g),h=f(t,s+m,e,s,M,x,g);a.push([i,h])}return a}class y{constructor(t){this.helper=t}fillPolygon(t,e){return this._fillPolygon(t,e)}fillEllipse(t,e,s,i,h){return this._fillEllipse(t,e,s,i,h)}fillArc(t,e,s,i,h,n,a){return null}_fillPolygon(t,e,s=!1){const i=d(t,e);return{type:\"fillSketch\",ops:this.renderLines(i,e,s)}}_fillEllipse(t,e,s,i,h,n=!1){const a=g(this.helper,t,e,s,i,h);return{type:\"fillSketch\",ops:this.renderLines(a,h,n)}}renderLines(t,e,s){let i=[],h=null;for(const n of t)i=i.concat(this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],e)),s&&h&&(i=i.concat(this.helper.doubleLineOps(h[0],h[1],n[0][0],n[0][1],e))),h=n[1];return i}}class M extends y{fillPolygon(t,e){return this._fillPolygon(t,e,!0)}fillEllipse(t,e,s,i,h){return this._fillEllipse(t,e,s,i,h,!0)}}class x extends y{fillPolygon(t,e){const s=this._fillPolygon(t,e),i=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),h=this._fillPolygon(t,i);return s.ops=s.ops.concat(h.ops),s}fillEllipse(t,e,s,i,h){const n=this._fillEllipse(t,e,s,i,h),a=Object.assign({},h,{hachureAngle:h.hachureAngle+90}),o=this._fillEllipse(t,e,s,i,a);return n.ops=n.ops.concat(o.ops),n}}class _{constructor(t){this.helper=t}fillPolygon(t,e){const s=d(t,e=Object.assign({},e,{curveStepCount:4,hachureAngle:0}));return this.dotsOnLines(s,e)}fillEllipse(t,e,s,i,h){h=Object.assign({},h,{curveStepCount:4,hachureAngle:0});const n=g(this.helper,t,e,s,i,h);return this.dotsOnLines(n,h)}fillArc(t,e,s,i,h,n,a){return null}dotsOnLines(t,e){let s=[],i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.max(i,.1);let h=e.fillWeight;h<0&&(h=e.strokeWidth/2);for(const n of t){const t=p(n)/i,a=Math.ceil(t)-1,o=Math.atan((n[1][1]-n[0][1])/(n[1][0]-n[0][0]));for(let t=0;t<a;t++){const a=i*(t+1),r=a*Math.sin(o),l=a*Math.cos(o),c=[n[0][0]-l,n[0][1]+r],p=this.helper.randOffsetWithRange(c[0]-i/4,c[0]+i/4,e),u=this.helper.randOffsetWithRange(c[1]-i/4,c[1]+i/4,e),f=this.helper.ellipse(p,u,h,h,e);s=s.concat(f.ops)}}return{type:\"fillSketch\",ops:s}}}class m{constructor(t){this.helper=t}fillPolygon(t,e){const s=[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER],i=[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER];t.forEach(t=>{s[0]=Math.min(s[0],t[0]),s[1]=Math.max(s[1],t[0]),i[0]=Math.min(i[0],t[1]),i[1]=Math.max(i[1],t[1])});const h=function(t){let e=0,s=0,i=0;for(let s=0;s<t.length;s++){const i=t[s],h=s===t.length-1?t[0]:t[s+1];e+=i[0]*h[1]-h[0]*i[1]}e/=2;for(let e=0;e<t.length;e++){const h=t[e],n=e===t.length-1?t[0]:t[e+1];s+=(h[0]+n[0])*(h[0]*n[1]-n[0]*h[1]),i+=(h[1]+n[1])*(h[0]*n[1]-n[0]*h[1])}return[s/(6*e),i/(6*e)]}(t),n=Math.max(Math.sqrt(Math.pow(h[0]-s[0],2)+Math.pow(h[1]-i[0],2)),Math.sqrt(Math.pow(h[0]-s[1],2)+Math.pow(h[1]-i[1],2))),a=e.hachureGap>0?e.hachureGap:4*e.strokeWidth,o=[];if(t.length>2)for(let e=0;e<t.length;e++)e===t.length-1?o.push([t[e],t[0]]):o.push([t[e],t[e+1]]);let r=[];const c=Math.max(1,Math.PI*n/a);for(let t=0;t<c;t++){const e=t*Math.PI/c,a=[h,[h[0]+n*Math.cos(e),h[1]+n*Math.sin(e)]];o.forEach(t=>{const e=l(t,a);e&&e[0]>=s[0]&&e[0]<=s[1]&&e[1]>=i[0]&&e[1]<=i[1]&&r.push(e)})}r=this.removeDuplocatePoints(r);const p=this.createLinesFromCenter(h,r);return{type:\"fillSketch\",ops:this.drawLines(p,e)}}fillEllipse(t,e,s,i,h){return this.fillArcSegment(t,e,s,i,0,2*Math.PI,h)}fillArc(t,e,s,i,h,n,a){return this.fillArcSegment(t,e,s,i,h,n,a)}fillArcSegment(t,e,s,i,h,n,a){const o=[t,e],r=s/2,l=i/2,c=Math.max(s/2,i/2);let p=a.hachureGap;p<0&&(p=4*a.strokeWidth);const u=Math.max(1,Math.abs(n-h)*c/p);let f=[];for(let t=0;t<u;t++){const e=t*((n-h)/u)+h,s=c*Math.cos(e),i=c*Math.sin(e),a=Math.sqrt(r*r*i*i+l*l*s*s),p=r*l*s/a,d=r*l*i/a;f.push([o[0]+p,o[1]+d])}f=this.removeDuplocatePoints(f);const d=this.createLinesFromCenter(o,f);return{type:\"fillSketch\",ops:this.drawLines(d,a)}}drawLines(t,e){let s=[];return t.forEach(t=>{const i=t[0],h=t[1];s=s.concat(this.helper.doubleLineOps(i[0],i[1],h[0],h[1],e))}),s}createLinesFromCenter(t,e){return e.map(e=>[t,e])}removeDuplocatePoints(t){const e=new Set;return t.filter(t=>{const s=t.join(\",\");return!e.has(s)&&(e.add(s),!0)})}}class b{constructor(t){this.helper=t}fillPolygon(t,e){const s=d(t,e);return{type:\"fillSketch\",ops:this.dashedLine(s,e)}}fillEllipse(t,e,s,i,h){const n=g(this.helper,t,e,s,i,h);return{type:\"fillSketch\",ops:this.dashedLine(n,h)}}fillArc(t,e,s,i,h,n,a){return null}dashedLine(t,e){const s=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,i=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap;let h=[];return t.forEach(t=>{const n=p(t),a=Math.floor(n/(s+i)),o=(n+i-a*(s+i))/2;let r=t[0],l=t[1];r[0]>l[0]&&(r=t[1],l=t[0]);const c=Math.atan((l[1]-r[1])/(l[0]-r[0]));for(let t=0;t<a;t++){const n=t*(s+i),a=n+s,l=[r[0]+n*Math.cos(c)+o*Math.cos(c),r[1]+n*Math.sin(c)+o*Math.sin(c)],p=[r[0]+a*Math.cos(c)+o*Math.cos(c),r[1]+a*Math.sin(c)+o*Math.sin(c)];h=h.concat(this.helper.doubleLineOps(l[0],l[1],p[0],p[1],e))}}),h}}class w{constructor(t){this.helper=t}fillPolygon(t,e){const s=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,i=e.zigzagOffset<0?s:e.zigzagOffset,h=d(t,e=Object.assign({},e,{hachureGap:s+i}));return{type:\"fillSketch\",ops:this.zigzagLines(h,i,e)}}fillEllipse(t,e,s,i,h){const n=h.hachureGap<0?4*h.strokeWidth:h.hachureGap,a=h.zigzagOffset<0?n:h.zigzagOffset;h=Object.assign({},h,{hachureGap:n+a});const o=g(this.helper,t,e,s,i,h);return{type:\"fillSketch\",ops:this.zigzagLines(o,a,h)}}fillArc(t,e,s,i,h,n,a){return null}zigzagLines(t,e,s){let i=[];return t.forEach(t=>{const h=p(t),n=Math.round(h/(2*e));let a=t[0],o=t[1];a[0]>o[0]&&(a=t[1],o=t[0]);const r=Math.atan((o[1]-a[1])/(o[0]-a[0]));for(let t=0;t<n;t++){const h=2*t*e,n=2*(t+1)*e,o=Math.sqrt(2*Math.pow(e,2)),l=[a[0]+h*Math.cos(r),a[1]+h*Math.sin(r)],c=[a[0]+n*Math.cos(r),a[1]+n*Math.sin(r)],p=[l[0]+o*Math.cos(r+Math.PI/4),l[1]+o*Math.sin(r+Math.PI/4)];i=(i=i.concat(this.helper.doubleLineOps(l[0],l[1],p[0],p[1],s))).concat(this.helper.doubleLineOps(p[0],p[1],c[0],c[1],s))}}),i}}const k={};function P(t,e){let s=t.fillStyle||\"hachure\";if(!k[s])switch(s){case\"zigzag\":k[s]||(k[s]=new M(e));break;case\"cross-hatch\":k[s]||(k[s]=new x(e));break;case\"dots\":k[s]||(k[s]=new _(e));break;case\"starburst\":k[s]||(k[s]=new m(e));break;case\"dashed\":k[s]||(k[s]=new b(e));break;case\"zigzag-line\":k[s]||(k[s]=new w(e));break;case\"hachure\":default:k[s=\"hachure\"]||(k[s]=new y(e))}return k[s]}const v={randOffset:function(t,e){return W(t,e)},randOffsetWithRange:function(t,e,s){return N(t,e,s)},ellipse:T,doubleLineOps:function(t,e,s,i,h){return R(t,e,s,i,h)}};function S(t,e,s,i,h){return{type:\"path\",ops:R(t,e,s,i,h)}}function A(t,e,s){const i=(t||[]).length;if(i>2){let h=[];for(let e=0;e<i-1;e++)h=h.concat(R(t[e][0],t[e][1],t[e+1][0],t[e+1][1],s));return e&&(h=h.concat(R(t[i-1][0],t[i-1][1],t[0][0],t[0][1],s))),{type:\"path\",ops:h}}return 2===i?S(t[0][0],t[0][1],t[1][0],t[1][1],s):{type:\"path\",ops:[]}}function E(t,e,s,i,h){return function(t,e){return A(t,!0,e)}([[t,e],[t+s,e],[t+s,e+i],[t,e+i]],h)}function O(t,e){const s=D(t,1*(1+.2*e.roughness),e),i=D(t,1.5*(1+.22*e.roughness),e);return{type:\"path\",ops:s.concat(i)}}function T(t,e,s,i,h){const n=2*Math.PI/h.curveStepCount;let a=Math.abs(s/2),o=Math.abs(i/2);const r=$(n,t,e,a+=W(.05*a,h),o+=W(.05*o,h),1,n*N(.1,N(.4,1,h),h),h),l=$(n,t,e,a,o,1.5,0,h);return{type:\"path\",ops:r.concat(l)}}function C(t,e,s,i,h,n,a,o,r){const l=t,c=e;let p=Math.abs(s/2),u=Math.abs(i/2);p+=W(.01*p,r),u+=W(.01*u,r);let f=h,d=n;for(;f<0;)f+=2*Math.PI,d+=2*Math.PI;d-f>2*Math.PI&&(f=0,d=2*Math.PI);const g=2*Math.PI/r.curveStepCount,y=Math.min(g/2,(d-f)/2),M=G(y,l,c,p,u,f,d,1,r),x=G(y,l,c,p,u,f,d,1.5,r);let _=M.concat(x);return a&&(o?_=(_=_.concat(R(l,c,l+p*Math.cos(f),c+u*Math.sin(f),r))).concat(R(l,c,l+p*Math.cos(d),c+u*Math.sin(d),r)):(_.push({op:\"lineTo\",data:[l,c]}),_.push({op:\"lineTo\",data:[l+p*Math.cos(f),c+u*Math.sin(f)]}))),{type:\"path\",ops:_}}function z(t,e){const s=[];if(t.length){const i=e.maxRandomnessOffset||0,h=t.length;if(h>2){s.push({op:\"move\",data:[t[0][0]+W(i,e),t[0][1]+W(i,e)]});for(let n=1;n<h;n++)s.push({op:\"lineTo\",data:[t[n][0]+W(i,e),t[n][1]+W(i,e)]})}}return{type:\"fillPath\",ops:s}}function L(t,e){return P(e,v).fillPolygon(t,e)}function N(t,e,s){return s.roughness*(Math.random()*(e-t)+t)}function W(t,e){return N(-t,t,e)}function R(t,e,s,i,h){const n=I(t,e,s,i,h,!0,!1),a=I(t,e,s,i,h,!0,!0);return n.concat(a)}function I(t,e,s,i,h,n,a){const o=Math.pow(t-s,2)+Math.pow(e-i,2);let r=h.maxRandomnessOffset||0;r*r*100>o&&(r=Math.sqrt(o)/10);const l=r/2,c=.2+.2*Math.random();let p=h.bowing*h.maxRandomnessOffset*(i-e)/200,u=h.bowing*h.maxRandomnessOffset*(t-s)/200;p=W(p,h),u=W(u,h);const f=[],d=()=>W(l,h),g=()=>W(r,h);return n&&(a?f.push({op:\"move\",data:[t+d(),e+d()]}):f.push({op:\"move\",data:[t+W(r,h),e+W(r,h)]})),a?f.push({op:\"bcurveTo\",data:[p+t+(s-t)*c+d(),u+e+(i-e)*c+d(),p+t+2*(s-t)*c+d(),u+e+2*(i-e)*c+d(),s+d(),i+d()]}):f.push({op:\"bcurveTo\",data:[p+t+(s-t)*c+g(),u+e+(i-e)*c+g(),p+t+2*(s-t)*c+g(),u+e+2*(i-e)*c+g(),s+g(),i+g()]}),f}function D(t,e,s){const i=[];i.push([t[0][0]+W(e,s),t[0][1]+W(e,s)]),i.push([t[0][0]+W(e,s),t[0][1]+W(e,s)]);for(let h=1;h<t.length;h++)i.push([t[h][0]+W(e,s),t[h][1]+W(e,s)]),h===t.length-1&&i.push([t[h][0]+W(e,s),t[h][1]+W(e,s)]);return q(i,null,s)}function q(t,e,s){const i=t.length;let h=[];if(i>3){const n=[],a=1-s.curveTightness;h.push({op:\"move\",data:[t[1][0],t[1][1]]});for(let e=1;e+2<i;e++){const s=t[e];n[0]=[s[0],s[1]],n[1]=[s[0]+(a*t[e+1][0]-a*t[e-1][0])/6,s[1]+(a*t[e+1][1]-a*t[e-1][1])/6],n[2]=[t[e+1][0]+(a*t[e][0]-a*t[e+2][0])/6,t[e+1][1]+(a*t[e][1]-a*t[e+2][1])/6],n[3]=[t[e+1][0],t[e+1][1]],h.push({op:\"bcurveTo\",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]]})}if(e&&2===e.length){const t=s.maxRandomnessOffset;h.push({op:\"lineTo\",data:[e[0]+W(t,s),e[1]+W(t,s)]})}}else 3===i?(h.push({op:\"move\",data:[t[1][0],t[1][1]]}),h.push({op:\"bcurveTo\",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===i&&(h=h.concat(R(t[0][0],t[0][1],t[1][0],t[1][1],s)));return h}function $(t,e,s,i,h,n,a,o){const r=W(.5,o)-Math.PI/2,l=[];l.push([W(n,o)+e+.9*i*Math.cos(r-t),W(n,o)+s+.9*h*Math.sin(r-t)]);for(let a=r;a<2*Math.PI+r-.01;a+=t)l.push([W(n,o)+e+i*Math.cos(a),W(n,o)+s+h*Math.sin(a)]);return l.push([W(n,o)+e+i*Math.cos(r+2*Math.PI+.5*a),W(n,o)+s+h*Math.sin(r+2*Math.PI+.5*a)]),l.push([W(n,o)+e+.98*i*Math.cos(r+a),W(n,o)+s+.98*h*Math.sin(r+a)]),l.push([W(n,o)+e+.9*i*Math.cos(r+.5*a),W(n,o)+s+.9*h*Math.sin(r+.5*a)]),q(l,null,o)}function G(t,e,s,i,h,n,a,o,r){const l=n+W(.1,r),c=[];c.push([W(o,r)+e+.9*i*Math.cos(l-t),W(o,r)+s+.9*h*Math.sin(l-t)]);for(let n=l;n<=a;n+=t)c.push([W(o,r)+e+i*Math.cos(n),W(o,r)+s+h*Math.sin(n)]);return c.push([e+i*Math.cos(a),s+h*Math.sin(a)]),c.push([e+i*Math.cos(a),s+h*Math.sin(a)]),q(c,null,r)}function B(t,e,s,i,h,n,a,o){const r=[],l=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.5];let c=[0,0];for(let p=0;p<2;p++)0===p?r.push({op:\"move\",data:[a.x,a.y]}):r.push({op:\"move\",data:[a.x+W(l[0],o),a.y+W(l[0],o)]}),c=[h+W(l[p],o),n+W(l[p],o)],r.push({op:\"bcurveTo\",data:[t+W(l[p],o),e+W(l[p],o),s+W(l[p],o),i+W(l[p],o),c[0],c[1]]});return a.setPosition(c[0],c[1]),r}function X(t,e,s,i){let h=[];switch(e.key){case\"M\":case\"m\":{const s=\"m\"===e.key;if(e.data.length>=2){let n=+e.data[0],a=+e.data[1];s&&(n+=t.x,a+=t.y);const o=1*(i.maxRandomnessOffset||0);n+=W(o,i),a+=W(o,i),t.setPosition(n,a),h.push({op:\"move\",data:[n,a]})}break}case\"L\":case\"l\":{const s=\"l\"===e.key;if(e.data.length>=2){let n=+e.data[0],a=+e.data[1];s&&(n+=t.x,a+=t.y),h=h.concat(R(t.x,t.y,n,a,i)),t.setPosition(n,a)}break}case\"H\":case\"h\":{const s=\"h\"===e.key;if(e.data.length){let n=+e.data[0];s&&(n+=t.x),h=h.concat(R(t.x,t.y,n,t.y,i)),t.setPosition(n,t.y)}break}case\"V\":case\"v\":{const s=\"v\"===e.key;if(e.data.length){let n=+e.data[0];s&&(n+=t.y),h=h.concat(R(t.x,t.y,t.x,n,i)),t.setPosition(t.x,n)}break}case\"Z\":case\"z\":t.first&&(h=h.concat(R(t.x,t.y,t.first[0],t.first[1],i)),t.setPosition(t.first[0],t.first[1]),t.first=null);break;case\"C\":case\"c\":{const s=\"c\"===e.key;if(e.data.length>=6){let n=+e.data[0],a=+e.data[1],o=+e.data[2],r=+e.data[3],l=+e.data[4],c=+e.data[5];s&&(n+=t.x,o+=t.x,l+=t.x,a+=t.y,r+=t.y,c+=t.y);const p=B(n,a,o,r,l,c,t,i);h=h.concat(p),t.bezierReflectionPoint=[l+(l-o),c+(c-r)]}break}case\"S\":case\"s\":{const n=\"s\"===e.key;if(e.data.length>=4){let a=+e.data[0],o=+e.data[1],r=+e.data[2],l=+e.data[3];n&&(a+=t.x,r+=t.x,o+=t.y,l+=t.y);let c=a,p=o;const u=s?s.key:\"\";let f=null;\"c\"!==u&&\"C\"!==u&&\"s\"!==u&&\"S\"!==u||(f=t.bezierReflectionPoint),f&&(c=f[0],p=f[1]);const d=B(c,p,a,o,r,l,t,i);h=h.concat(d),t.bezierReflectionPoint=[r+(r-a),l+(l-o)]}break}case\"Q\":case\"q\":{const s=\"q\"===e.key;if(e.data.length>=4){let n=+e.data[0],a=+e.data[1],o=+e.data[2],r=+e.data[3];s&&(n+=t.x,o+=t.x,a+=t.y,r+=t.y);const l=1*(1+.2*i.roughness),c=1.5*(1+.22*i.roughness);h.push({op:\"move\",data:[t.x+W(l,i),t.y+W(l,i)]});let p=[o+W(l,i),r+W(l,i)];h.push({op:\"qcurveTo\",data:[n+W(l,i),a+W(l,i),p[0],p[1]]}),h.push({op:\"move\",data:[t.x+W(c,i),t.y+W(c,i)]}),p=[o+W(c,i),r+W(c,i)],h.push({op:\"qcurveTo\",data:[n+W(c,i),a+W(c,i),p[0],p[1]]}),t.setPosition(p[0],p[1]),t.quadReflectionPoint=[o+(o-n),r+(r-a)]}break}case\"T\":case\"t\":{const n=\"t\"===e.key;if(e.data.length>=2){let a=+e.data[0],o=+e.data[1];n&&(a+=t.x,o+=t.y);let r=a,l=o;const c=s?s.key:\"\";let p=null;\"q\"!==c&&\"Q\"!==c&&\"t\"!==c&&\"T\"!==c||(p=t.quadReflectionPoint),p&&(r=p[0],l=p[1]);const u=1*(1+.2*i.roughness),f=1.5*(1+.22*i.roughness);h.push({op:\"move\",data:[t.x+W(u,i),t.y+W(u,i)]});let d=[a+W(u,i),o+W(u,i)];h.push({op:\"qcurveTo\",data:[r+W(u,i),l+W(u,i),d[0],d[1]]}),h.push({op:\"move\",data:[t.x+W(f,i),t.y+W(f,i)]}),d=[a+W(f,i),o+W(f,i)],h.push({op:\"qcurveTo\",data:[r+W(f,i),l+W(f,i),d[0],d[1]]}),t.setPosition(d[0],d[1]),t.quadReflectionPoint=[a+(a-r),o+(o-l)]}break}case\"A\":case\"a\":{const s=\"a\"===e.key;if(e.data.length>=7){const n=+e.data[0],o=+e.data[1],r=+e.data[2],l=+e.data[3],c=+e.data[4];let p=+e.data[5],u=+e.data[6];if(s&&(p+=t.x,u+=t.y),p===t.x&&u===t.y)break;if(0===n||0===o)h=h.concat(R(t.x,t.y,p,u,i)),t.setPosition(p,u);else for(let e=0;e<1;e++){const e=new a([t.x,t.y],[p,u],[n,o],r,!!l,!!c);let s=e.getNextSegment();for(;s;){const n=B(s.cp1[0],s.cp1[1],s.cp2[0],s.cp2[1],s.to[0],s.to[1],t,i);h=h.concat(n),s=e.getNextSegment()}}}break}}return h}class U extends e{line(t,e,s,i,h){const n=this._options(h);return this._drawable(\"line\",[S(t,e,s,i,n)],n)}rectangle(t,e,s,i,h){const n=this._options(h),a=[];if(n.fill){const h=[[t,e],[t+s,e],[t+s,e+i],[t,e+i]];\"solid\"===n.fillStyle?a.push(z(h,n)):a.push(L(h,n))}return a.push(E(t,e,s,i,n)),this._drawable(\"rectangle\",a,n)}ellipse(t,e,s,i,h){const n=this._options(h),a=[];if(n.fill)if(\"solid\"===n.fillStyle){const h=T(t,e,s,i,n);h.type=\"fillPath\",a.push(h)}else a.push(function(t,e,s,i,h){return P(h,v).fillEllipse(t,e,s,i,h)}(t,e,s,i,n));return a.push(T(t,e,s,i,n)),this._drawable(\"ellipse\",a,n)}circle(t,e,s,i){const h=this.ellipse(t,e,s,s,i);return h.shape=\"circle\",h}linearPath(t,e){const s=this._options(e);return this._drawable(\"linearPath\",[A(t,!1,s)],s)}arc(t,e,s,i,h,n,a=!1,o){const r=this._options(o),l=[];if(a&&r.fill)if(\"solid\"===r.fillStyle){const a=C(t,e,s,i,h,n,!0,!1,r);a.type=\"fillPath\",l.push(a)}else l.push(function(t,e,s,i,h,n,a){const o=P(a,v).fillArc(t,e,s,i,h,n,a);if(o)return o;const r=t,l=e;let c=Math.abs(s/2),p=Math.abs(i/2);c+=W(.01*c,a),p+=W(.01*p,a);let u=h,f=n;for(;u<0;)u+=2*Math.PI,f+=2*Math.PI;f-u>2*Math.PI&&(u=0,f=2*Math.PI);const d=(f-u)/a.curveStepCount,g=[];for(let t=u;t<=f;t+=d)g.push([r+c*Math.cos(t),l+p*Math.sin(t)]);return g.push([r+c*Math.cos(f),l+p*Math.sin(f)]),g.push([r,l]),L(g,a)}(t,e,s,i,h,n,r));return l.push(C(t,e,s,i,h,n,a,!0,r)),this._drawable(\"arc\",l,r)}curve(t,e){const s=this._options(e);return this._drawable(\"curve\",[O(t,s)],s)}polygon(t,e){const s=this._options(e),i=[];if(s.fill)if(\"solid\"===s.fillStyle)i.push(z(t,s));else{const e=this.computePolygonSize(t),h=L([[0,0],[e[0],0],[e[0],e[1]],[0,e[1]]],s);h.type=\"path2Dpattern\",h.size=e,h.path=this.polygonPath(t),i.push(h)}return i.push(A(t,!0,s)),this._drawable(\"polygon\",i,s)}path(t,e){const s=this._options(e),i=[];if(!t)return this._drawable(\"path\",i,s);if(s.fill)if(\"solid\"===s.fillStyle){const e={type:\"path2Dfill\",path:t,ops:[]};i.push(e)}else{const e=this.computePathSize(t),h=L([[0,0],[e[0],0],[e[0],e[1]],[0,e[1]]],s);h.type=\"path2Dpattern\",h.size=e,h.path=t,i.push(h)}return i.push(function(t,e){t=(t||\"\").replace(/\\n/g,\" \").replace(/(-\\s)/g,\"-\").replace(\"/(ss)/g\",\" \");let s=new n(t);if(e.simplification){const t=new o(s.linearPoints,s.closed).fit(e.simplification);s=new n(t)}let i=[];const h=s.segments||[];for(let t=0;t<h.length;t++){const n=X(s,h[t],t>0?h[t-1]:null,e);n&&n.length&&(i=i.concat(n))}return{type:\"path\",ops:i}}(t,s)),this._drawable(\"path\",i,s)}}const V=\"undefined\"!=typeof document;class j{constructor(t){this.canvas=t,this.ctx=this.canvas.getContext(\"2d\")}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),i=this.ctx;for(const t of e)switch(t.type){case\"path\":i.save(),i.strokeStyle=s.stroke,i.lineWidth=s.strokeWidth,this._drawToContext(i,t),i.restore();break;case\"fillPath\":i.save(),i.fillStyle=s.fill||\"\",this._drawToContext(i,t),i.restore();break;case\"fillSketch\":this.fillSketch(i,t,s);break;case\"path2Dfill\":{this.ctx.save(),this.ctx.fillStyle=s.fill||\"\";const e=new Path2D(t.path);this.ctx.fill(e),this.ctx.restore();break}case\"path2Dpattern\":{const e=this.canvas.ownerDocument||V&&document;if(e){const i=t.size,h=e.createElement(\"canvas\"),n=h.getContext(\"2d\"),a=this.computeBBox(t.path);a&&(a.width||a.height)?(h.width=this.canvas.width,h.height=this.canvas.height,n.translate(a.x||0,a.y||0)):(h.width=i[0],h.height=i[1]),this.fillSketch(n,t,s),this.ctx.save(),this.ctx.fillStyle=this.ctx.createPattern(h,\"repeat\");const o=new Path2D(t.path);this.ctx.fill(o),this.ctx.restore()}else console.error(\"Cannot render path2Dpattern. No defs/document defined.\");break}}}computeBBox(t){if(V)try{const e=\"http://www.w3.org/2000/svg\",s=document.createElementNS(e,\"svg\");s.setAttribute(\"width\",\"0\"),s.setAttribute(\"height\",\"0\");const i=self.document.createElementNS(e,\"path\");i.setAttribute(\"d\",t),s.appendChild(i),document.body.appendChild(s);const h=i.getBBox();return document.body.removeChild(s),h}catch(t){}return null}fillSketch(t,e,s){let i=s.fillWeight;i<0&&(i=s.strokeWidth/2),t.save(),t.strokeStyle=s.fill||\"\",t.lineWidth=i,this._drawToContext(t,e),t.restore()}_drawToContext(t,e){t.beginPath();for(const s of e.ops){const e=s.data;switch(s.op){case\"move\":t.moveTo(e[0],e[1]);break;case\"bcurveTo\":t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]);break;case\"qcurveTo\":t.quadraticCurveTo(e[0],e[1],e[2],e[3]);break;case\"lineTo\":t.lineTo(e[0],e[1])}}\"fillPath\"===e.type?t.fill():t.stroke()}}class F extends j{constructor(t,e){super(t),this.gen=new U(e||null,this.canvas)}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,s,i,h){const n=this.gen.line(t,e,s,i,h);return this.draw(n),n}rectangle(t,e,s,i,h){const n=this.gen.rectangle(t,e,s,i,h);return this.draw(n),n}ellipse(t,e,s,i,h){const n=this.gen.ellipse(t,e,s,i,h);return this.draw(n),n}circle(t,e,s,i){const h=this.gen.circle(t,e,s,i);return this.draw(h),h}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s),s}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s),s}arc(t,e,s,i,h,n,a=!1,o){const r=this.gen.arc(t,e,s,i,h,n,a,o);return this.draw(r),r}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s),s}path(t,e){const s=this.gen.path(t,e);return this.draw(s),s}}const Q=\"undefined\"!=typeof document;class Z{constructor(t){this.svg=t}get defs(){const t=this.svg.ownerDocument||Q&&document;if(t&&!this._defs){const e=t.createElementNS(\"http://www.w3.org/2000/svg\",\"defs\");this.svg.firstChild?this.svg.insertBefore(e,this.svg.firstChild):this.svg.appendChild(e),this._defs=e}return this._defs||null}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,h=i.createElementNS(\"http://www.w3.org/2000/svg\",\"g\");for(const t of e){let e=null;switch(t.type){case\"path\":(e=i.createElementNS(\"http://www.w3.org/2000/svg\",\"path\")).setAttribute(\"d\",this.opsToPath(t)),e.style.stroke=s.stroke,e.style.strokeWidth=s.strokeWidth+\"\",e.style.fill=\"none\";break;case\"fillPath\":(e=i.createElementNS(\"http://www.w3.org/2000/svg\",\"path\")).setAttribute(\"d\",this.opsToPath(t)),e.style.stroke=\"none\",e.style.strokeWidth=\"0\",e.style.fill=s.fill||null;break;case\"fillSketch\":e=this.fillSketch(i,t,s);break;case\"path2Dfill\":(e=i.createElementNS(\"http://www.w3.org/2000/svg\",\"path\")).setAttribute(\"d\",t.path||\"\"),e.style.stroke=\"none\",e.style.strokeWidth=\"0\",e.style.fill=s.fill||null;break;case\"path2Dpattern\":if(this.defs){const h=t.size,n=i.createElementNS(\"http://www.w3.org/2000/svg\",\"pattern\"),a=`rough-${Math.floor(Math.random()*(Number.MAX_SAFE_INTEGER||999999))}`;n.setAttribute(\"id\",a),n.setAttribute(\"x\",\"0\"),n.setAttribute(\"y\",\"0\"),n.setAttribute(\"width\",\"1\"),n.setAttribute(\"height\",\"1\"),n.setAttribute(\"height\",\"1\"),n.setAttribute(\"viewBox\",`0 0 ${Math.round(h[0])} ${Math.round(h[1])}`),n.setAttribute(\"patternUnits\",\"objectBoundingBox\");const o=this.fillSketch(i,t,s);n.appendChild(o),this.defs.appendChild(n),(e=i.createElementNS(\"http://www.w3.org/2000/svg\",\"path\")).setAttribute(\"d\",t.path||\"\"),e.style.stroke=\"none\",e.style.strokeWidth=\"0\",e.style.fill=`url(#${a})`}else console.error(\"Cannot render path2Dpattern. No defs/document defined.\")}e&&h.appendChild(e)}return h}fillSketch(t,e,s){let i=s.fillWeight;i<0&&(i=s.strokeWidth/2);const h=t.createElementNS(\"http://www.w3.org/2000/svg\",\"path\");return h.setAttribute(\"d\",this.opsToPath(e)),h.style.stroke=s.fill||null,h.style.strokeWidth=i+\"\",h.style.fill=\"none\",h}}class H extends Z{constructor(t,e){super(t),this.gen=new U(e||null,this.svg)}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t){return this.gen.opsToPath(t)}line(t,e,s,i,h){const n=this.gen.line(t,e,s,i,h);return this.draw(n)}rectangle(t,e,s,i,h){const n=this.gen.rectangle(t,e,s,i,h);return this.draw(n)}ellipse(t,e,s,i,h){const n=this.gen.ellipse(t,e,s,i,h);return this.draw(n)}circle(t,e,s,i){const h=this.gen.circle(t,e,s,i);return this.draw(h)}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s)}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s)}arc(t,e,s,i,h,n,a=!1,o){const r=this.gen.arc(t,e,s,i,h,n,a,o);return this.draw(r)}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s)}path(t,e){const s=this.gen.path(t,e);return this.draw(s)}}return{canvas:(t,e)=>new F(t,e),svg:(t,e)=>new H(t,e),generator:(t,e)=>new U(t,e)}});\n","import rough from 'roughjs/dist/rough.umd';\nimport {mergeDeep} from \"../utilities\";\nimport {Bauble} from \"./bauble\";\n\n/**\n * The CircleBauble class. Each vertex is assigned a circle in the svg.\n */\nexport class RoughCircleBauble extends Bauble {\n\n    /**\n     * The default settings for the circleBauble\n     * The default is 6;\n     * @return {{radius: number}}\n     * @constructor\n     */\n    static DEFAULT_SETTINGS() {\n        return {\n            radius: 6,\n            fill: \"black\",\n            attrs: {\n                roughFill: {stroke: () => \"red\", fill: () => \"none\"},\n                roughStroke: {\"stroke-width\": () => 0.5, stroke: () => \"black\", fill: () => \"none\"}\n            },\n            styles: {roughFill: {}, roughStroke: {}}\n        };\n    }\n\n    /**\n     * The constructor.\n     */\n    constructor(settings = {}) {\n        super(mergeDeep(RoughCircleBauble.DEFAULT_SETTINGS(), settings));\n    }\n\n    /**\n     * A function to append the circles to the svg.\n     * @param selection\n     * @return {Bundle|MagicString|*|void}\n     */\n    updateShapes(selection, border = 0) {\n\n\n        const newPaths = [...roughFactory.circle(0, 0, this.settings.radius + border, this.settings).childNodes].map(d => d.getAttribute(\"d\"));\n        const pathNames = newPaths.length === 2 ? [\"roughFill\", \"roughStroke\"] : [\"roughStroke\"];\n        return selection.selectAll(\"path\")\n            .data(pathNames, d => d)\n            .join(\n                enter => enter\n                    .append(\"path\")\n                    .attr(\"d\", (d, i) => newPaths[i])\n                    .attr(\"class\", d => `${d} node-shape rough`)\n                    .attrs((d, i, n) => {\n                        const attributes = this.settings.attrs[d];\n                        return Object.keys(attributes).reduce((acc, curr) => {\n                            const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                            return {...acc, [curr]: attributes[curr](vertex)}\n                        }, {})\n                    })\n                    .styles((d, i, n) => {\n                        const styles = this.settings.styles[d];\n                        return Object.keys(styles).reduce((acc, curr) => {\n                            const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                            return {...acc, [curr]: styles[curr](vertex)}\n                        }, {})\n                    }),\n                update => update\n                    .call(update => update.transition()\n                        .attr(\"d\", (d, i) => newPaths[i])\n                        .attrs((d, i, n) => {\n                            const attributes = this.settings.attrs[d];\n                            return Object.keys(attributes).reduce((acc, curr) => {\n                                const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                                return {...acc, [curr]: attributes[curr](vertex)}\n                            }, {})\n                        })\n                        .styles((d, i, n) => {\n                            const styles = this.settings.styles[d];\n                            return Object.keys(styles).reduce((acc, curr) => {\n                                const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                                return {...acc, [curr]: styles[curr](vertex)}\n                            }, {})\n                        }),\n                    )\n            )\n    };\n}\n\nexport const roughFactory = rough.svg(document.createElement(\"svg\"));","\"use strict\";\nimport {select,easeLinear,scaleLinear,axisBottom,mouse,event,format,curveStepBefore,line} from \"d3\";\nimport uuid from \"uuid\";\nimport {mergeDeep} from \"../utilities\";\nimport 'd3-selection-multi';\nimport {CircleBauble} from \"../baubles/circlebauble\";\nimport {RoughCircleBauble} from \"../baubles/roughcirclebauble\";\n/** @module figtree */\n// const d3 = require(\"d3\");\n\nexport const p= {\n    addXAxis: Symbol(\"addXAxis\"),\n    addYAxis: Symbol(\"addYAxis\"),\n    updateXAxis:Symbol(\"updateXAxis\"),\n    updateYAxis:Symbol(\"updateYAxis\"),\n    updateAnnotations:Symbol(\"updateAnnotations\"),\n    updateCartoons:Symbol(\"updateCartoons\"),\n    updateBranches:Symbol(\"updateBranches\"),\n    updateNodeBackgrounds:Symbol(\"updateNodeBackgrounds\"),\n    updateNodes:Symbol(\"updateNodes\"),\n    updateBranchStyles:Symbol(\"updateBranchStyles\"),\n    updateNodeStyles:Symbol(\"updateNodeStyles\"),\n    updateNodeBackgroundStyles:Symbol(\"updateNodeBackgroundStyles\"),\n    updateCartoonStyles:Symbol(\"updateCartoonStyles\"),\n    branchPathGenerator:Symbol(\"branchPathGenerator\"),\n    pointToPoint:Symbol(\"pointToPoint\")\n}\n/**\n * The FigTree class\n *\n * A class that takes a tree and draws it into the the given SVG root element. Has a range of methods\n * for adding interactivity to the tree (e.g., mouse-over labels, rotating nodes and rerooting on branches).\n * The tree is updated with animated transitions.\n */\nexport class FigTree {\n\n    static DEFAULT_SETTINGS() {\n        return {\n            xScale: {\n                title: \"Height\",\n                axis: axisBottom,\n                gap:10,\n                tickFormat: format(\".2f\"),\n                ticks: 5,\n                scale: scaleLinear,\n                origin: null,\n                reverseAxis: false,\n                branchScale: 1,\n                offset: 0,\n            },\n            yScale: {\n                title: null,\n                axis: null,\n                scale: scaleLinear,\n                origin: null,\n                reverseAxis: false,\n                branchScale: 1,\n                offset: 0,\n                gap:10,\n                tickFormat: format(\".2f\"),\n                ticks: 5,\n            },\n            vertices: {\n                hoverBorder: 2,\n                backgroundBorder: null,\n                baubles: [new CircleBauble()],\n                cssStyles:{},\n                backgroundCssStyles:{}\n            },\n            edges: {\n                curve: curveStepBefore,\n                curveRadius: 0,\n                cssStyles: {\"fill\": d => \"none\", \"stroke-width\": d => \"2\", \"stroke\": d => \"black\"},\n            },\n            cartoons:{\n                cssStyles:{\"fill\": d => \"none\", \"stroke-width\": d => \"2\", \"stroke\": d => \"black\"}\n            },\n            transition: {\n                transitionDuration: 500,\n                transitionEase: easeLinear\n            }\n        }\n    }\n\n    /**\n     * The constructor.\n     * @param svg\n     * @param layout - an instance of class AbstractLayout\n     * @param margins\n     * @param settings\n     */\n    constructor(svg, layout, margins, settings = {}) {\n        this.layout = layout;\n        this.margins = margins;\n\n        this.settings = mergeDeep(FigTree.DEFAULT_SETTINGS(),settings);\n        this.callbacks= {nodes:[],branches:[],cartoons:[]};\n        this._annotations =[];\n\n        this.svg=svg;\n        this.drawn = false;\n        this.svgId = `g-${uuid.v4()}`;\n        this.svgSelection=null;\n\n        return this;\n    }\n    draw(){\n        \n        // get the size of the svg we are drawing on\n        let width,height;\n        if(Object.keys(this.settings).indexOf(\"width\")>-1){\n            width =this.settings.width;\n        }else{\n            width = this.svg.getBoundingClientRect().width;\n        }\n        if(Object.keys(this.settings).indexOf(\"height\")>-1){\n            height =this.settings.height;\n        }else{\n            height = this.svg.getBoundingClientRect().height;\n        }\n\n        //remove the tree if it is there already\n        select(this.svg).select(`#${this.svgId}`).remove();\n\n        // add a group which will contain the new tree\n        select(this.svg).append(\"g\")\n            .attr(\"id\",this.svgId)\n            .attr(\"transform\",`translate(${this.margins.left},${this.margins.top})`);\n\n        //to selecting every time\n        this.svgSelection = select(this.svg).select(`#${this.svgId}`);\n        this.svgSelection.append(\"g\").attr(\"class\",\"annotation-layer\");\n        this.svgSelection.append(\"g\").attr(\"class\", \"axes-layer\");\n        this.svgSelection.append(\"g\").attr(\"class\", \"cartoon-layer\");\n\n        this.svgSelection.append(\"g\").attr(\"class\", \"branches-layer\");\n        if (this.settings.vertices.backgroundBorder !==null) {\n            this.svgSelection.append(\"g\").attr(\"class\", \"nodes-background-layer\");\n        }\n        this.svgSelection.append(\"g\").attr(\"class\", \"nodes-layer\");\n\n\n        // create the scales\n        const xScale = this.settings.xScale.scale()\n            .domain([this.layout.horizontalDomain[0]+this.settings.xScale.offset,this.layout.horizontalDomain[1]])\n            .range([this.margins.left, width - this.margins.right]);\n\n        const yScale = this.settings.yScale.scale()\n            .domain([this.layout.verticalDomain[0]+this.settings.yScale.offset,this.layout.verticalDomain[1]])\n            .range([this.margins.top, height -this.margins.bottom]);\n\n        this.scales = {x:xScale, y:yScale, width, height};\n\n        if(this.settings.xScale.axis){\n           this[p.addXAxis]();\n        }\n        if(this.settings.yScale.axis){\n            this[p.addYAxis]();\n        }\n\n        // Called whenever the layout changes...\n        this.layout.subscribeCallback(()=>this.update());\n        this.drawn=true;\n        this.update();\n        return this;\n\n    }\n\n    /**\n     * Updates the tree when it has changed\n     */\n    update() {\n        if(!this.drawn){\n            return\n        }\n        let width,height;\n        if(Object.keys(this.settings).indexOf(\"width\")>-1){\n            width =this.settings.width;\n        }else{\n            width = this.svg.getBoundingClientRect().width;\n        }\n        if(Object.keys(this.settings).indexOf(\"height\")>-1){\n            height =this. settings.height;\n        }else{\n            height = this.svg.getBoundingClientRect().height;\n        }\n\n        // update the scales' domains\n        this.scales.x\n            .domain([this.layout.horizontalDomain[0]+this.settings.xScale.offset,this.layout.horizontalDomain[1]])\n            .range([this.margins.left, width - this.margins.right]);\n        this.scales.y\n            .domain([this.layout.verticalDomain[0]+this.settings.yScale.offset,this.layout.verticalDomain[1]])\n            .range([this.margins.top, height -this. margins.bottom]);\n        this.scales.width=width;\n        this.scales.height=height;\n\n        this[p.updateAnnotations]();\n        this[p.updateCartoons]();\n        this[p.updateBranches]();\n\n        if(this.settings.xScale.axis){\n            this[p.updateXAxis]();\n        }\n        if(this.settings.yScale.axis){\n            this[p.updateYAxis]();\n        }\n\n        if (this.settings.vertices.backgroundBorder !==null) {\n            this[p.updateNodeBackgrounds]();\n        }\n\n        this[p.updateNodes]();\n\n        return this;\n\n    }\n\n    /**\n     * set mouseover highlighting of branches\n     */\n    hilightBranches() {\n        this.callbacks.branches.push(()=>{\n            // need to use 'function' here so that 'this' refers to the SVG\n            // element being hovered over.\n            const selected = this.svgSelection.selectAll(\".branch\").select(\".branch-path\");\n            selected.on(\"mouseover\", function (d, i) {\n                select(this).classed(\"hovered\", true);\n\n            });\n            selected.on(\"mouseout\", function (d, i) {\n                select(this).classed(\"hovered\", false);\n\n            });\n        })\n        this.update();\n\n        return this;\n\n    }\n\n    /**\n     * Set mouseover highlighting of internal nodes\n     */\n    hilightInternalNodes() {\n        this.hilightNodes(\".internal-node\");\n        return this;\n\n    }\n\n    /**\n     * Set mouseover highlighting of internal nodes\n     */\n    hilightExternalNodes() {\n        this.hilightNodes(\".external-node\");\n\n        return this;\n\n    }\n\n    /**\n     * Set mouseover highlighting of nodes\n     */\n    hilightNodes(selection) {\n        this.callbacks.nodes.push(()=>{\n            // need to use 'function' here so that 'this' refers to the SVG\n            // element being hovered over.\n            const self = this;\n            const selected = this.svgSelection.selectAll(selection);\n            selected.on(\"mouseover\", function (d, i) {\n                const node = select(this).select(\".node-shape\");\n                self.settings.vertices.baubles.forEach((bauble) => {\n                    // if (bauble.vertexFilter(node)) {\n                    bauble.updateShapes(node, self.settings.hoverBorder);\n                    // }\n                });\n\n                node.classed(\"hovered\", true);\n            });\n            selected.on(\"mouseout\", function (d, i) {\n                const node = select(this).select(\".node-shape\");\n\n                self.settings.vertices.baubles.forEach((bauble) => {\n                    // if (bauble.vertexFilter(node)) {\n                    bauble.updateShapes(node, 0);\n                    // }\n                });\n\n                node.classed(\"hovered\", false);\n            });\n        })\n        this.update();\n\n        return this;\n\n    }\n\n    /**\n     * Registers action function to be called when an edge is clicked on. The function is passed\n     * edge object that was clicked on and the position of the click as a proportion of the edge length.\n     *\n     * Optionally a selection string can be provided - i.e., to select a particular branch by its id.\n     *\n     * @param action\n     * @param selection\n     */\n    onClickBranch(action, selection = null) {\n        this.callbacks.branches.push(()=>{\n            // We need to use the \"function\" keyword here (rather than an arrow) so that \"this\"\n            // points to the actual SVG element (so we can use d3.mouse(this)). We therefore need\n            // to store a reference to the object in \"self\".\n            const self = this;\n            const selected = this.svgSelection.selectAll(`${selection ? selection : \".branch\"}`);\n            selected.on(\"click\", function (edge) {\n                const x1 = self.scales.x(edge.v1.x+this.settings.xScale.offset);\n                const x2 = self.scales.x(edge.v0.x+this.settings.xScale.offset);\n                const mx = mouse(this)[0];\n                const proportion = Math.max(0.0, Math.min(1.0, (mx - x2) / (x1 - x2)));\n                action(edge, proportion);\n                self.update();\n            })\n        });\n        this.update();\n\n        return this;\n\n    }\n\n    /**\n     * Registers action function to be called when an internal node is clicked on. The function should\n     * take the tree and the node that was clicked on.\n     *\n     * A static method - Tree.rotate() is available for rotating the node order at the clicked node.\n     *\n     * @param action\n     */\n    onClickInternalNode(action) {\n        this.onClickNode(action, \".internal-node\");\n\n        return this;\n\n    }\n\n    /**\n     * Registers action function to be called when an external node is clicked on. The function should\n     * take the tree and the node that was clicked on.\n     *\n     * @param action\n     */\n    onClickExternalNode(action) {\n        this.onClickNode(action, \".external-node\");\n\n        return this;\n\n    }\n\n    /**\n     * Registers action function to be called when a vertex is clicked on. The function is passed\n     * the vertex object.\n     *\n     * Optionally a selection string can be provided - i.e., to select a particular node by its id.\n     *\n     * @param action\n     * @param selection\n     */\n    onClickNode(action, selection = null) {\n        const self = this;\n        this.callbacks.nodes.push(()=>{\n            const selected = this.svgSelection.selectAll(`${selection ? selection : \".node\"}`).select(\".node-shape\");\n            selected.on(\"click\", (vertex) => {\n                action(vertex);\n                self.update();\n            })\n        });\n    this.update();\n\n        return this;\n\n    }\n    /**\n     * General Nodehover callback\n     * @param {*} action and object with an enter and exit function which fire when the mouse enters and exits object\n     * @param {*} selection defualts to \".node\" will select this selection's child \".node-shape\"\n     */\n\n    onHoverNode(action,selection=null){\n        this.callbacks.nodes.push(()=>{\n            const selected = this.svgSelection.selectAll(`${selection ? selection : \".node\"}`).select(\".node-shape\");\n            selected.on(\"mouseover\", (vertex) => {\n                action.enter(vertex);\n                this.update();\n\n            });\n            selected.on(\"mouseout\", (vertex) => {\n                action.exit(vertex);\n                this.update();\n            });\n        });\n\n        return this;\n\n    }\n\n    /**\n     * General branch hover callback\n     * @param {*} action and object with an enter and exit function which fire when the mouse enters and exits object\n     * @param {*} selection defualts to .branch\n     */\n    onHoverBranch(action,selection=null){\n        this.callbacks.branches.push(()=>{\n            const self = this;\n            const selected = this.svgSelection.selectAll(`${selection ? selection : \".branch\"}`);\n            selected.on(\"mouseover\", function (d, i,n) {\n                action.enter(d,i,n);\n                self.update();\n            });\n            selected.on(\"mouseout\", function (d, i,n) {\n                action.exit(d,i,n);\n                self.update();\n            });\n        })\n        this.update();\n        return this;\n\n    }\n    /**\n     * Registers some text to appear in a popup box when the mouse hovers over the selection.\n     *\n     * @param selection\n     * @param text\n     */\n    addToolTip(selection, text) {\n        this.svgSelection.selectAll(selection).on(\"mouseover\",\n            function (selected) {\n                let tooltip = document.getElementById(\"tooltip\");\n                if (typeof text === typeof \"\") {\n                    tooltip.innerHTML = text;\n                } else {\n                    tooltip.innerHTML = text(selected.node);\n                }\n                tooltip.style.display = \"block\";\n                tooltip.style.left =event.pageX + 10 + \"px\";\n                tooltip.style.top = event.pageY + 10 + \"px\";\n            }\n        );\n        this.svgSelection.selectAll(selection).on(\"mouseout\", function () {\n            let tooltip = document.getElementById(\"tooltip\");\n            tooltip.style.display = \"none\";\n        });\n        return this;\n\n    }\n\n    set treeLayout(layout) {\n        this.layout = layout;\n        this.update();\n    }\n\n    addAnnotation(annotation){\n        this._annotations.push(annotation);\n        this.update();\n        return this;\n\n    }\n\n    updateSettings(settings){\n       this.settings = mergeDeep(this.settings,settings);\n        this.update();\n    }\n\n    updateStyles(){\n        this[p.updateBranchStyles]();\n        this[p.updateNodeStyles]();\n        this[p.updateNodeBackgroundStyles]();\n    }\n /*\n * Protected methods, called by the class using.\n */\n    /**\n     * Adds or updates nodes\n     */\n    [p.updateNodes]() {\n\n        const nodesLayer = this.svgSelection.select(\".nodes-layer\");\n\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const nodes = nodesLayer.selectAll(\".node\")\n            .data(this.layout.vertices, (v) => `n_${v.key}`);\n\n        // ENTER\n        // Create new elements as needed.\n        const newNodes = nodes.enter().append(\"g\")\n            .attr(\"id\", (v) => v.id)\n            .attr(\"class\", (v) => [\"node\", ...v.classes].join(\" \"))\n            .attr(\"transform\", (v) => {\n                return `translate(${this.scales.x(v.x+this.settings.xScale.offset)}, ${this.scales.y(v.y)})`;\n            });\n\n        // add the specific node shapes or 'baubles'\n        this.settings.vertices.baubles.forEach((bauble) => {\n            const d = bauble\n                .createShapes(newNodes.filter(bauble.vertexFilter))\n                .attr(\"class\", \"node-shape\");\n            bauble.updateShapes(d);\n        });\n\n        newNodes.append(\"text\")\n            .attr(\"class\", \"node-label name\")\n            .attr(\"text-anchor\", \"start\")\n            .attr(\"alignment-baseline\", \"middle\")\n            .attr(\"dx\", \"12\")\n            .attr(\"dy\", \"0\")\n            .text((d) => d.rightLabel);\n\n        newNodes.append(\"text\")\n            .attr(\"class\", \"node-label support\")\n            .attr(\"text-anchor\", \"end\")\n            .attr(\"dx\", \"-6\")\n            .attr(\"dy\", d => (d.labelBelow ? -8 : +8))\n            .attr(\"alignment-baseline\", d => (d.labelBelow ? \"bottom\": \"hanging\" ))\n            .text((d) => d.leftLabel);\n\n        // update the existing elements\n        nodes\n            .transition()\n            .duration(this.settings.transition.transitionDuration)\n            .ease(this.settings.transition.transitionEase)\n            .attr(\"class\", (v) => [\"node\", ...v.classes].join(\" \"))\n            .attr(\"transform\", (v) => {\n                return `translate(${this.scales.x(v.x+this.settings.xScale.offset)}, ${this.scales.y(v.y)})`;\n            });\n\n\n\n        // update all the baubles\n        this.settings.vertices.baubles.forEach((bauble) => {\n            const d = nodes.select(\".node-shape\")\n                .filter(bauble.vertexFilter)\n                .transition()\n                .duration(this.settings.transition.transitionDuration)\n                .ease(this.settings.transition.transitionEase)\n            ;\n            bauble.updateShapes(d)\n        });\n\n        nodes.select(\"text .node-label .name\")\n            .transition()\n            .duration(this.settings.transition.transitionDuration)\n            .ease(this.settings.transition.transitionEase)\n            .attr(\"class\", \"node-label name\")\n            .attr(\"text-anchor\", \"start\")\n            .attr(\"alignment-baseline\", \"middle\")\n            .attr(\"dx\", \"12\")\n            .attr(\"dy\", \"0\")\n            .text((d) => d.rightLabel);\n\n        nodes.select(\"text .node-label .support\")\n            .transition()\n            .duration(this.settings.transition.transitionDuration)\n            .ease(this.settings.transition.transitionEase)\n            .attr(\"alignment-baseline\", d => (d.labelBelow ? \"bottom\": \"hanging\" ))\n            .attr(\"class\", \"node-label support\")\n            .attr(\"text-anchor\", \"end\")\n            .attr(\"dx\", \"-6\")\n            .attr(\"dy\", d => (d.labelBelow ? -8 : +8))\n            .text((d) => d.leftLabel);\n\n        // EXIT\n        // Remove old elements as needed.\n        nodes.exit().remove();\n\n        this[p.updateNodeStyles]();\n\n\n        // add callbacks\n        for(const callback of this.callbacks.nodes){\n            callback();\n        }\n    }\n\n    [p.updateNodeBackgrounds]() {\n\n        const nodesBackgroundLayer = this.svgSelection.select(\"nodes-background-layer\");\n\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const nodes = nodesBackgroundLayer.selectAll(\".node-background\")\n            .data(this.layout.vertices, (v) => `nb_${v.key}`);\n\n        // ENTER\n        // Create new elements as needed.\n        const newNodes = nodes.enter();\n\n        // add the specific node shapes or 'baubles'\n        this.settings.vertices.baubles.forEach((bauble) => {\n            const d = bauble.createShapes(newNodes.filter(bauble.vertexFilter))\n                .attr(\"class\", \"node-background\")\n                .attr(\"transform\", (v) => {\n                    return `translate(${this.scales.x(v.x+this.settings.xScale.offset)}, ${this.scales.y(v.y)})`;\n                });\n\n            bauble.updateShapes(d, this.settings.vertices.backgroundBorder);\n        });\n\n        // update all the existing elements\n        this.settings.vertices.baubles.forEach((bauble) => {\n            const d = nodes\n                .filter(bauble.vertexFilter)\n                .transition()\n                .duration(this.settings.transition.transitionDuration)\n                .ease(this.settings.transition.transitionEase)\n                .attr(\"transform\", (v) => {\n                    return `translate(${this.scales.x(v.x+this.settings.xScale.offset)}, ${this.scales.y(v.y)})`;\n                });\n            bauble.updateShapes(d, this.settings.backgroundBorder)\n        });\n\n        // EXIT\n        // Remove old elements as needed.\n        nodes.exit().remove();\n\n        this[p.updateNodeBackgroundStyles]();\n\n    }\n\n    /**\n     * Adds or updates branch lines\n     */\n    [p.updateBranches]() {\n\n        const branchesLayer = this.svgSelection.select(\".branches-layer\");\n\n        // a function to create a line path\n        // const branchPath = d3.line()\n        //     .x((v) => v.x)\n        //     .y((v) => v.y)\n        //     .curve(this.layout.curve);\n        const branchPath = this[p.branchPathGenerator]();\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const branches = branchesLayer.selectAll(\"g .branch\")\n            .data(this.layout.edges, (e) => `b_${e.key}`);\n\n        // ENTER\n        // Create new elements as needed.\n        const newBranches = branches.enter().append(\"g\")\n            .attr(\"id\", (e) => e.id)\n            .attr(\"class\", (e) => [\"branch\", ...e.classes].join(\" \"))\n            .attr(\"transform\", (e) => {\n                return `translate(${this.scales.x(e.v0.x+this.settings.xScale.offset)}, ${this.scales.y(e.v1.y)})`;\n            });\n\n        // Make branches a thing like bauble\n        if(this.settings.edges.roughOptions){\n            newBranches.append(\"g\")\n                .attr(\"class\",\"branch-path\")\n                .append((e,i)=>roughFactory.path(`${branchPath(e,i)}`,this.settings.edges.roughOptions))\n        }else{\n            newBranches.append(\"path\")\n                .attr(\"class\", \"branch-path\")\n                .attr(\"d\", (e,i) => branchPath(e,i));\n        }\n\n\n        newBranches.append(\"text\")\n            .attr(\"class\", \"branch-label length\")\n            .attr(\"dx\", (e) => ((this.scales.x(e.v1.x+this.settings.xScale.offset) - this.scales.x(e.v0.x+this.settings.xScale.offset)) / 2))\n            .attr(\"dy\", (e) => (e.labelBelow ? +6 : -6))\n            .attr(\"alignment-baseline\", (e) => (e.labelBelow ? \"hanging\" : \"bottom\"))\n            .attr(\"text-anchor\", \"middle\")\n            .text((e) => e.label);\n\n        // update the existing elements\n        branches\n            .transition()\n            .duration(this.settings.transition.transitionDuration)\n            .ease(this.settings.transition.transitionEase)\n            .attr(\"class\", (e) => [\"branch\", ...e.classes].join(\" \"))\n            .attr(\"transform\", (e) => {\n                return `translate(${this.scales.x(e.v0.x+this.settings.xScale.offset)}, ${this.scales.y(e.v1.y)})`;\n            })\n            .select(\"path\")\n            .attr(\"d\", (e,i) => branchPath(e,i))\n\n            .select(\"text .branch-label .length\")\n            .attr(\"class\", \"branch-label length\")\n            .attr(\"dx\", (e) => ((this.scales.x(e.v1.x+this.settings.xScale.offset) - this.scales.x(e.v0.x+this.settings.xScale.offset)) / 2))\n            .attr(\"dy\", (e) => (e.labelBelow ? +6 : -6))\n            .attr(\"alignment-baseline\", (e) => (e.labelBelow ? \"hanging\" : \"bottom\"))\n            .attr(\"text-anchor\", \"middle\")\n            .text((e) => e.label);\n\n        // EXIT\n        // Remove old elements as needed.\n        branches\n            .exit().remove();\n        this[p.updateBranchStyles]();\n\n        // add callbacks\n        for(const callback of this.callbacks.branches){\n            callback();\n        }\n    }\n\n    [p.updateCartoons](){\n        const cartoonLayer = this.svgSelection.select(\".cartoon-layer\");\n\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const cartoons = cartoonLayer.selectAll(\"g .cartoon\")\n            .data(this.layout.cartoons, (c) => `c_${c.id}`);\n\n        // ENTER\n        // Create new elements as needed.\n        const newCartoons = cartoons.enter().append(\"g\")\n            .attr(\"id\", (c) => `cartoon-${c.id}`)\n            .attr(\"class\", (c) => [\"cartoon\", ...c.classes].join(\" \"))\n            .attr(\"transform\", (c) => {\n                return `translate(${this.scales.x(c.vertices[0].x+this.settings.xScale.offset)}, ${this.scales.y(c.vertices[0].y+this.settings.xScale.offset)})`;\n            })\n\n\n        newCartoons.append(\"path\")\n            .attr(\"class\", \"cartoon-path\")\n            .attr(\"d\", (e,i) => this[p.pointToPoint](e.vertices));\n\n\n\n        // update the existing elements\n        cartoons\n            .transition()\n            .duration(this.settings.transition.transitionDuration)\n            .ease(this.settings.transition.transitionEase)\n            .attr(\"class\", (c) => [\"cartoon\", ...c.classes].join(\" \"))\n            .attr(\"transform\", (c) => {\n                return `translate(${this.scales.x(c.vertices[0].x+this.settings.xScale.offset)}, ${this.scales.y(c.vertices[0].y)})`\n            })\n            .select(\"path\")\n            .attr(\"d\", (c) => this[p.pointToPoint](c.vertices));\n\n\n        // EXIT\n        // Remove old elements as needed.\n        cartoons.exit().remove();\n\n        this[p.updateCartoonStyles]();\n\n        // add callbacks\n        for(const callback of this.callbacks.cartoons){\n            callback();\n        }\n    }\n    /**\n     * Add axis\n     */\n    [p.addXAxis]() {\n        const xSettings = this.settings.xScale;\n        const reverse = xSettings.reverseAxis? -1:1;\n        const domain = xSettings.origin!==null?\n            [xSettings.origin+reverse*xSettings.branchScale*(Math.abs(this.scales.x.domain()[0]-this.scales.x.domain()[1])),xSettings.origin]:\n            this.scales.x.domain();\n        const xAxis = xSettings.axis( xSettings.scale().domain(domain).range(this.scales.x.range()))\n            .ticks(xSettings.ticks).tickFormat(xSettings.tickFormat);\n        const xAxisWidth = this.scales.width - this.margins.left - this.margins.right;\n        const axesLayer = this.svgSelection.select(\".axes-layer\");\n\n        axesLayer\n            .append(\"g\")\n            .attr(\"id\", \"x-axis\")\n            .attr(\"class\", \"axis\")\n            .attr(\"transform\", `translate(0, ${this.scales.height - this.margins.bottom +this.settings.xScale.gap})`)\n            .call(xAxis);\n\n        axesLayer\n            .append(\"g\")\n            .attr(\"id\", \"x-axis-label\")\n            .attr(\"class\", \"axis-label\")\n            .attr(\"transform\", `translate(${this.margins.left}, ${this.scales.height - this.margins.bottom})`)\n            .append(\"text\")\n            .attr(\"transform\", `translate(${xAxisWidth / 2}, 35)`)\n            .attr(\"alignment-baseline\", \"hanging\")\n            .style(\"text-anchor\", \"middle\")\n            .text(xSettings.title);\n    }\n\n    [p.addYAxis]() {\n        const ySettings = this.settings.yScale;\n        const reverse = ySettings.reverseAxis? -1:1;\n        const domain = ySettings.origin!==null?\n            [ySettings.origin+reverse*ySettings.branchScale*(Math.abs(this.scales.y.domain()[0]-this.scales.y.domain()[1])),ySettings.origin]:\n            this.scales.y.domain();\n        const yAxis = ySettings.axis( ySettings.scale().domain(domain).range(this.scales.y.range()))\n            .ticks(ySettings.ticks).tickFormat(ySettings.tickFormat);\n        const yAxisHeight = this.scales.height - this.margins.top - this.margins.bottom;\n        const axesLayer = this.svgSelection.select(\".axes-layer\");\n\n        axesLayer\n            .append(\"g\")\n            .attr(\"id\", \"y-axis\")\n            .attr(\"class\", \"axis\")\n            .attr(\"transform\", `translate(${this.margins.left-this.settings.yScale.gap}, 0)`)\n            .call(yAxis);\n\n        axesLayer\n            .append(\"g\")\n            .attr(\"id\", \"y-axis-label\")\n            .attr(\"class\", \"axis-label\")\n            .attr(\"transform\", `translate(0,${this.margins.top})`)\n            .attr(\"transform\", `translate(0,${yAxisHeight / 2})`)\n            .append(\"text\")\n            .attr(\"transform\", \"rotate(-90)\")\n            // .attr(\"alignment-baseline\", \"hanging\")\n            .style(\"text-anchor\", \"middle\")\n            .text(ySettings.title);\n    }\n\n    [p.updateXAxis](){\n        const xSettings = this.settings.xScale;\n        const reverse = xSettings.reverseAxis? -1:1;\n\n        const domain = xSettings.origin!==null?\n            [xSettings.origin+reverse*xSettings.branchScale*(Math.abs(this.scales.x.domain()[0]-this.scales.x.domain()[1])),xSettings.origin]:\n            this.scales.x.domain();\n\n        const xAxis = xSettings.axis( xSettings.scale().domain(domain).range(this.scales.x.range()))\n            .ticks(xSettings.ticks).tickFormat(xSettings.tickFormat);\n        const axesLayer = this.svgSelection.select(\".axes-layer\");\n\n        axesLayer\n            .select(\"#x-axis\")\n            .transition()\n            .duration(this.settings.transition.transitionDuration)\n            .ease(this.settings.transition.transitionEase)\n            .call(xAxis);\n\n        axesLayer\n            .select(\"#x-axis-label\")\n            .select(\"text\")\n            .transition()\n            .duration(this.settings.transition.transitionDuration)\n            .ease(this.settings.transition.transitionEase)\n            .text(xSettings.title);\n    }\n    [p.updateYAxis](){\n        const ySettings = this.settings.yScale;\n        const reverse = ySettings.reverseAxis? -1:1;\n        const domain = ySettings.origin!==null?\n            [ySettings.origin+reverse*ySettings.branchScale*(Math.abs(this.scales.y.domain()[0]-this.scales.y.domain()[1])),ySettings.origin]:\n            this.scales.y.domain();\n        const yAxis = ySettings.axis( ySettings.scale().domain(domain).range(this.scales.y.range()))\n            .ticks(ySettings.ticks).tickFormat(ySettings.tickFormat);\n        const axesLayer = this.svgSelection.select(\".axes-layer\");\n\n        axesLayer\n            .select(\"#y-axis\")\n            .transition()\n            .duration(this.settings.transition.transitionDuration)\n            .ease(this.settings.transition.transitionEase)\n            .call(yAxis);\n\n        axesLayer\n            .select(\"#y-axis-label\")\n            .select(\"text\")\n            .transition()\n            .duration(this.settings.transition.transitionDuration)\n            .ease(this.settings.transition.transitionEase)\n            .text(ySettings.title);\n    }\n\n\n\n    [p.updateNodeStyles](){\n        const nodesLayer = this.svgSelection.select(\".nodes-layer\");\n\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const nodes = nodesLayer.selectAll(\".node .node-shape\");\n        const vertexStyles = this.settings.vertices.cssStyles;\n        for(const key of Object.keys(vertexStyles)){\n            nodes\n            // .transition()\n            // .duration(this.settings.transition.transitionDuration)\n                .attr(key,v=>vertexStyles[key].call(this,v))\n        }\n\n\n    }\n\n    [p.updateNodeBackgroundStyles](){\n        const nodesBackgroundLayer = this.svgSelection.select(\"nodes-background-layer\");\n\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const nodes = nodesBackgroundLayer.selectAll(\".node-background\")\n\n        const vertexBackgroundsStyles = this.settings.vertices.backgroundCssStyles;\n        for(const key of Object.keys(vertexBackgroundsStyles)){\n            nodes\n            // .transition()\n            // .duration(this.settings.transition.transitionDuration)\n                .attr(key,v=>vertexBackgroundsStyles[key].call(this,v))\n        }\n\n    }\n\n    [p.updateBranchStyles](){\n        const branchesLayer = this.svgSelection.select(\".branches-layer\");\n\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const branches = branchesLayer.selectAll(\"g .branch .branch-path\")\n\n        const branchStyles = this.settings.edges.cssStyles;\n        for(const key of Object.keys(branchStyles)){\n            branches\n            // .transition()\n            // .duration(this.settings.transition.transitionDuration)\n                .attr(key,e=>branchStyles[key].call(this,e))\n        }\n    }\n\n    [p.updateCartoonStyles](){\n        const cartoonLayer = this.svgSelection.select(\".cartoon-layer\");\n\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const cartoons = cartoonLayer.selectAll(\".cartoon path\");\n        const CartoonStyles = this.settings.cartoons.cssStyles;\n        for(const key of Object.keys(CartoonStyles)){\n            cartoons\n            // .transition()\n            // .duration(this.settings.transition.transitionDuration)\n                .attr(key,c=>CartoonStyles[key].call(this,c))\n            // attributes are set by the \"root\" node\n        }\n    }\n\n    [p.pointToPoint](points){\n        let path = [];\n        const origin = points[0];\n        const pathPoints =points.reverse();\n        let currentPoint =origin;\n        for(const point of pathPoints){\n            const xdiff = this.scales.x(point.x+this.settings.xScale.offset)-this.scales.x(currentPoint.x+this.settings.xScale.offset);\n            const ydiff = this.scales.y(point.y)- this.scales.y(currentPoint.y);\n            path.push(`${xdiff} ${ydiff}`);\n            currentPoint = point;\n        }\n        return `M 0 0 l ${path.join(\" l \")} z`;\n    }\n\n    [p.updateAnnotations](){\n        for( const annotation of this._annotations){\n            annotation();\n        }\n    }\n\n    /**\n     * Generates a line() function that takes an edge and it's index and returns a line for d3 path element. It is called\n     * by the figtree class as\n     * const branchPath = this.layout.branchPathGenerator(this.scales)\n     * newBranches.append(\"path\")\n     .attr(\"class\", \"branch-path\")\n     .attr(\"d\", (e,i) => branchPath(e,i));\n     * @param scales\n     * @param branchCurve\n     * @return {function(*, *)}\n     */\n\n    [p.branchPathGenerator](){\n        const branchPath =(e,i)=>{\n            const branchLine = line()\n                .x((v) => v.x)\n                .y((v) => v.y)\n                .curve(this.settings.edges.curve);\n            const factor = e.v0.y-e.v1.y>0? 1:-1;\n            const dontNeedCurve = e.v0.y-e.v1.y===0?0:1;\n            const output = this.settings.edges.curveRadius>0?\n                branchLine(\n                    [{x: 0, y: this.scales.y(e.v0.y) - this.scales.y(e.v1.y)},\n                        { x:0, y:dontNeedCurve*factor * this.settings.edges.curveRadius},\n                        {x:0 + dontNeedCurve*this.settings.edges.curveRadius, y:0},\n                        {x: this.scales.x(e.v1.x+this.settings.xScale.offset) - this.scales.x(e.v0.x+this.settings.xScale.offset), y: 0}\n                    ]):\n                branchLine(\n                    [{x: 0, y: this.scales.y(e.v0.y) - this.scales.y(e.v1.y)},\n                        {x: this.scales.x(e.v1.x+this.settings.xScale.offset) - this.scales.x(e.v0.x+this.settings.xScale.offset), y: 0}\n                    ]);\n            return(output)\n\n        };\n        return branchPath;\n    }\n\n\n}\n\n\n\n\n\n\n\n\n\n\n","\"use strict\";\n\n/** @module roottotipplot */\n\nimport {Tree, Type} from \"../tree.js\";\nimport {min,max,axisBottom,axisLeft,format,select,event,scaleLinear,line,mean} from \"d3\";\nimport {\n    AbstractLayout,\n    makeEdgesFromNodes,\n    VertexStyle,\n    setVertexClasses,\n    setVertexLabels,\n    makeVerticesFromNodes\n} from \"./abstractLayout\";\nimport extent from \"d3-array/src/extent\";\n\n/**\n * The RootToTipPlot class\n */\nexport class RootToTipPlot extends AbstractLayout{\n\n\n    /**\n     * The constructor.\n     * @param tree\n     * @param settings\n     */\n    constructor(tree, settings = {}) {\n        super(tree,{externalNodeLabelAnnotationName:null,...settings})\n\n    }\n\n    layout() {\n        const treeNodes = this._getTreeNodes();\n\n        this[makeVerticesFromNodes](treeNodes);\n\n        // update the node locations (vertices)\n        treeNodes.forEach((n) => {\n            const v = this._nodeMap.get(n);\n\n            this.setYPosition(v, null);\n            this.setXPosition(v, null);\n\n        });\n\n        const regression  = this.leastSquares(this._vertices.filter(v=>v.visibility===VertexStyle.INCLUDED));\n\n        let x1 = min(this._vertices, d => d.x);\n        let x2 = max(this._vertices, d => d.x);\n        let y1 = 0.0;\n        let y2 = max(this._vertices, d => d.y);\n        if (this._vertices.filter(v=>v.visibility===VertexStyle.INCLUDED).length > 1 && regression.slope > 0.0) {\n            x1 = regression.xIntercept;\n            y2 = max([regression.y(x2), y2]);\n        }\n        const startPoint = {key:\"startPoint\",visibility:VertexStyle.HIDDEN,x:x1,y:y1};\n        const endPoint = {key:\"EndPoint\",visibility:VertexStyle.HIDDEN,x:x2,y:y2};\n        this._vertices.push(startPoint);\n        this._vertices.push(endPoint);\n        this._edges=[{v0:startPoint,v1:endPoint,key:\"line\",classes:[]}];\n        this.layoutKnown = true;\n\n    }\n\n\n    _getTreeNodes() {\n        return this.tree.externalNodes;\n    }\n    setInitialY() {\n        return 0;\n    }\n    setInitialX() {\n        return 0;\n    }\n    setXPosition(vertex,currentX){\n        vertex.x = vertex.node.annotations.date;\n        return 0;\n    }\n\n    setYPosition(vertex,currentY){\n        vertex.y = this.tree.rootToTipLength(vertex.node);\n        return vertex.y;\n    }\n\n    get horizontalDomain() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        const xPositions = [...this._vertices.map(d=>d.x),min(this._vertices.map(d=>d.x))];\n        return [min(xPositions),max(xPositions)];\n    }\n\n    get verticalDomain() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        const yPositions = [...this._vertices.map(d=>d.y),min(this._vertices.map(d=>d.y))];\n        return [max(yPositions),min(yPositions)];\n    }\n    get edges() {\n        if (!this.layoutKnown) {\n            this.layout();\n        }\n        return this._edges;\n    }\n\n    /**\n     * returns slope, intercept and r-square of the line\n     * @param data\n     * @returns {{slope: number, xIntercept: number, yIntercept: number, rSquare: number, y: (function(*): number)}}\n     */\n    leastSquares(data) {\n\n        const xBar = data.reduce((a, b) => (a + b.x), 0.0) / data.length;\n        const yBar = data.reduce((a, b) => (a + b.y), 0.0) / data.length;\n\n        const ssXX = data.map((d) => Math.pow(d.x - xBar, 2))\n            .reduce((a, b) => a + b, 0.0);\n\n        const ssYY = data.map((d) => Math.pow(d.y - yBar, 2))\n            .reduce((a, b) => a + b, 0.0);\n\n        const ssXY = data.map((d) => (d.x - xBar) * (d.y - yBar))\n            .reduce((a, b) => a + b, 0.0);\n\n        const slope = ssXY / ssXX;\n        const yIntercept = yBar - (xBar * slope);\n        const xIntercept = -(yIntercept / slope);\n        const rSquare = Math.pow(ssXY, 2) / (ssXX * ssYY);\n\n        return {\n            slope, xIntercept, yIntercept, rSquare, y: function (x) {\n                return x * slope + yIntercept\n            }\n        };\n    }\n\n    linkWithTree(treeSVG) {\n        const self = this;\n\n        const mouseover = function(d) {\n            select(self.svg).select(`#${d.node.id}`).select(`.node-shape`).attr(\"r\", self.settings.hoverNodeRadius);\n            select(treeSVG).select(`#${d.node.id}`).select(`.node-shape`).attr(\"r\", self.settings.hoverNodeRadius);\n        };\n        const mouseout = function(d) {\n            select(self.svg).select(`#${d.node.id}`).select(`.node-shape`).attr(\"r\", self.settings.nodeRadius);\n            select(treeSVG).select(`#${d.node.id}`).select(`.node-shape`).attr(\"r\", self.settings.nodeRadius);\n        };\n        const clicked = function(d) {\n            // toggle isSelected\n            let tip = d;\n            if (d.node) {\n                tip = d.node;\n            }\n            tip.isSelected = !tip.isSelected;\n\n            const node1 = select(self.svg).select(`#${tip.id}`).select(`.node-shape`);\n            const node2 = select(treeSVG).select(`#${tip.id}`).select(`.node-shape`);\n\n            if (tip.isSelected) {\n                node1.attr(\"class\", \"node-shape selected\");\n                node2.attr(\"class\", \"node-shape selected\");\n            } else {\n                node1.attr(\"class\", \"node-shape unselected\");\n                node2.attr(\"class\", \"node-shape unselected\");\n            }\n\n            self.update();\n        };\n\n        const tips = select(this.svg).selectAll(`.external-node`).selectAll(`.node-shape`);\n        tips.on(\"mouseover\", mouseover);\n        tips.on(\"mouseout\", mouseout);\n        tips.on(\"click\", clicked);\n\n        const points = select(treeSVG).selectAll(`.node-shape`);\n        points.on(\"mouseover\", mouseover);\n        points.on(\"mouseout\", mouseout);\n        points.on(\"click\", clicked);\n    }\n}\n\n\n","import {curveStepBefore, line} from \"d3-shape\";\nimport {mergeDeep} from \"../utilities\";\nimport {Bauble} from \"./bauble\";\n\nexport class BranchBauble extends Bauble {\n    static DEFAULT_SETTINGS() {\n        return {\n            curve: curveStepBefore,\n            curveRadius: 0,\n            attrs: {\"fill\": d => \"none\", \"stroke-width\": d => \"2\", \"stroke\": d => \"black\"},\n            vertexFilter: null,\n            edgeFilter: () => true\n        }\n\n\n    }\n\n    constructor(settings) {\n        super(mergeDeep(BranchBauble.DEFAULT_SETTINGS(), settings));\n    }\n\n    get edgeFilter() {\n        return this.settings.edgeFilter\n    }\n\n    setup(scales = {}) {\n        scales = mergeDeep({x: null, y: null, xOffset: 0, yOffset: 0}, scales);\n        this.branchPath = branchPathGenerator.call(this, scales)\n    }\n\n    updateShapes(selection) {\n\n        return selection.selectAll(\"path\")\n            .data(d => [d])\n            .join(\n                enter => enter\n                    .append(\"path\")\n                    .attr(\"d\", edge => this.branchPath(edge))\n                    .attr(\"class\", \"branch-path\")\n                    .attrs((edge) => {\n                        const attributes = this.settings.attrs;\n                        return Object.keys(attributes).reduce((acc, curr) => {\n                            // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                            return {...acc, [curr]: attributes[curr](edge)}\n                        }, {})\n                    })\n                    .styles((edge) => {\n                        const styles = this.settings.styles;\n                        return Object.keys(styles).reduce((acc, curr) => {\n                            // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                            return {...acc, [curr]: styles[curr](edge)}\n                        }, {})\n                    }),\n                update => update\n                    .call(update => update.transition()\n                        .attr(\"d\", edge => this.branchPath(edge))\n                        .attrs((edge) => {\n                            const attributes = this.settings.attrs;\n                            return Object.keys(attributes).reduce((acc, curr) => {\n                                // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                                return {...acc, [curr]: attributes[curr](edge)}\n                            }, {})\n                        })\n                        .styles((edge) => {\n                            const styles = this.settings.styles;\n                            return Object.keys(styles).reduce((acc, curr) => {\n                                // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                                return {...acc, [curr]: styles[curr](edge)}\n                            }, {})\n                        }),\n                    )\n            )\n    };\n}\n\n/**\n * Generates a line() function that takes an edge and it's index and returns a line for d3 path element. It is called\n * by the figtree class as\n * const branchPath = this.layout.branchPathGenerator(this.scales)\n * newBranches.append(\"path\")\n .attr(\"class\", \"branch-path\")\n .attr(\"d\", (e,i) => branchPath(e,i));\n * @param scales\n * @param branchCurve\n * @return {function(*, *)}\n */\n\nexport function branchPathGenerator(scales) {\n    const branchPath = (e, i) => {\n        const branchLine = line()\n            .x((v) => v.x)\n            .y((v) => v.y)\n            .curve(this.settings.curve);\n        const factor = e.v0.y - e.v1.y > 0 ? 1 : -1;\n        const dontNeedCurve = e.v0.y - e.v1.y === 0 ? 0 : 1;\n        const output = this.settings.curveRadius > 0 ?\n            branchLine(\n                [{x: 0, y: scales.y(e.v0.y) - scales.y(e.v1.y)},\n                    {x: 0, y: dontNeedCurve * factor * this.settings.curveRadius},\n                    {x: 0 + dontNeedCurve * this.settings.curveRadius, y: 0},\n                    {x: scales.x(e.v1.x + scales.xOffset) - scales.x(e.v0.x + scales.xOffset), y: 0}\n                ]) :\n            branchLine(\n                [{x: 0, y: scales.y(e.v0.y) - scales.y(e.v1.y)},\n                    {x: scales.x(e.v1.x + scales.xOffset) - scales.x(e.v0.x + scales.xOffset), y: 0}\n                ]);\n        return (output)\n\n    };\n    return branchPath;\n}","import {mergeDeep} from \"../utilities\";\nimport {p,FigTree} from \"./figtree\";\nimport rough from 'roughjs/dist/rough.umd';\nimport {select} from \"d3\"\nimport {CircleBauble} from \"../baubles/circlebauble\";\nimport {BranchBauble} from \"../baubles/branchbauble\";\nimport {RoughCircleBauble} from \"../baubles/roughcirclebauble\";\n\nconst roughFactory = rough.svg(document.createElement(\"svg\"));\nexport class RoughFigTree extends FigTree{\n    static DEFAULT_SETTINGS() {\n        return {\n            vertices: {\n                baubles: [new RoughCircleBauble()],\n                backgroundBaubles:[new CircleBauble({styles:{fill:()=>\"white\"},vertexFilter:v=>v.degree===1})],\n            },\n            edges: {\n                roughOptions:{roughness:10},\n                baubles:[new BranchBauble()]\n            },\n            cartoons:{\n                roughOptions: {roughness:10}\n            }\n\n        }\n    }\n    constructor(svg, layout, margins, settings = {}){\n        settings = mergeDeep(RoughFigTree.DEFAULT_SETTINGS(),settings);\n        super(svg, layout, margins, settings);\n    }\n\n\n    [p.updateNodeBackgrounds]() {\n\n        const nodesBackgroundLayer = this.svgSelection.select(\".nodes-background-layer\");\n\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const self = this;\n        nodesBackgroundLayer.selectAll(\".node-background\")\n            .data(this.layout.vertices, (v) => `nb_${v.key}`)\n            .join(\n                enter=>enter\n                    .append(\"g\")\n                    .attr(\"id\", (v) => v.id)\n                    .attr(\"class\", (v) => [\"node-background\", ...v.classes].join(\" \"))\n                    .attr(\"transform\", (v) => {\n                        return `translate(${this.scales.x(v.x+this.settings.xScale.offset)}, ${this.scales.y(v.y)})`;\n                    })\n                    .each(function(v) {\n                        for(const bauble of  self.settings.vertices.backgroundBaubles){\n                            if (bauble.vertexFilter(v)) {\n                                bauble\n                                    .updateShapes(select(this))\n                            }\n                        }\n                    }),\n                update=>update\n                    .transition()\n                    .duration(this.settings.transition.transitionDuration)\n                    .ease(this.settings.transition.transitionEase)\n                    .attr(\"class\", (v) => [\"node-background\", ...v.classes].join(\" \"))\n                    .attr(\"transform\", (v) => {\n                        return `translate(${this.scales.x(v.x+this.settings.xScale.offset)}, ${this.scales.y(v.y)})`;\n                    })\n                    .each(function(v) {\n                        for(const bauble of  self.settings.vertices.backgroundBaubles){\n                            if (bauble.vertexFilter(v)) {\n                                bauble\n                                    .updateShapes(select(this))\n                            }\n                        }\n                    })\n            );\n    }\n\n\n    [p.updateNodes](){\n        const nodesLayer = this.svgSelection.select(\".nodes-layer\");\n\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const self = this;\n        nodesLayer.selectAll(\".node\")\n            .data(this.layout.vertices, (v) => `n_${v.key}`)\n            .join(\n                enter=>enter\n                    .append(\"g\")\n                        .attr(\"id\", (v) => v.id)\n                        .attr(\"class\", (v) => [\"node\", ...v.classes].join(\" \"))\n                        .attr(\"transform\", (v) => {\n                            return `translate(${this.scales.x(v.x+this.settings.xScale.offset)}, ${this.scales.y(v.y)})`;\n                        })\n                    .each(function(v) {\n                        for(const bauble of  self.settings.vertices.baubles){\n                            if (bauble.vertexFilter(v)) {\n                                bauble\n                                    .updateShapes(select(this))\n                            }\n                        }\n                    })\n                    .append(\"text\")\n                        .attr(\"class\", \"node-label name\")\n                        .attr(\"text-anchor\", \"start\")\n                        .attr(\"alignment-baseline\", \"middle\")\n                        .attr(\"dx\", \"12\")\n                        .attr(\"dy\", \"0\")\n                        .text((d) => d.rightLabel)\n                    .append(\"text\")\n                        .attr(\"class\", \"node-label support\")\n                        .attr(\"text-anchor\", \"end\")\n                        .attr(\"dx\", \"-6\")\n                        .attr(\"dy\", d => (d.labelBelow ? -8 : +8))\n                        .attr(\"alignment-baseline\", d => (d.labelBelow ? \"bottom\": \"hanging\" ))\n                        .text((d) => d.leftLabel),\n                update=>update\n                    .transition()\n                    .duration(this.settings.transition.transitionDuration)\n                    .ease(this.settings.transition.transitionEase)\n                    .attr(\"class\", (v) => [\"node\", ...v.classes].join(\" \"))\n                    .attr(\"transform\", (v) => {\n                        return `translate(${this.scales.x(v.x+this.settings.xScale.offset)}, ${this.scales.y(v.y)})`;\n                    })\n                    .each(function(v) {\n                        for(const bauble of  self.settings.vertices.baubles){\n                            if (bauble.vertexFilter(v)) {\n                                bauble\n                                    .updateShapes(select(this))\n                            }\n                        }\n                    })\n                    .select(\"text .node-label .name\")\n                        .transition()\n                        .duration(this.settings.transition.transitionDuration)\n                        .ease(this.settings.transition.transitionEase)\n                        .attr(\"class\", \"node-label name\")\n                        .attr(\"text-anchor\", \"start\")\n                        .attr(\"alignment-baseline\", \"middle\")\n                        .attr(\"dx\", \"12\")\n                        .attr(\"dy\", \"0\")\n                        .text((d) => d.rightLabel)\n                    .select(\"text .node-label .support\")\n                        .transition()\n                        .duration(this.settings.transition.transitionDuration)\n                        .ease(this.settings.transition.transitionEase)\n                        .attr(\"alignment-baseline\", d => (d.labelBelow ? \"bottom\": \"hanging\" ))\n                        .attr(\"class\", \"node-label support\")\n                        .attr(\"text-anchor\", \"end\")\n                        .attr(\"dx\", \"-6\")\n                        .attr(\"dy\", d => (d.labelBelow ? -8 : +8))\n                        .text((d) => d.leftLabel)\n\n    );\n        // add callbacks\n        for(const callback of this.callbacks.nodes){\n            callback();\n        }\n    }\n\n    [p.updateBranches]() {\n\n        const branchesLayer = this.svgSelection.select(\".branches-layer\");\n        //set up scales for branches\n\n        this.settings.edges.baubles.forEach(b=>b.setup({x:this.scales.x,y:this.scales.y,\n            xOffset:this.settings.xScale.offset,yOffset:this.settings.yScale.offset}));\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const self = this;\n        branchesLayer.selectAll(\".branch\")\n            .data(this.layout.edges, (e) => `b_${e.key}`)\n            .join(\n                enter=>enter\n                    .append(\"g\")\n                    .attr(\"id\", (e) => e.id)\n                    .attr(\"class\", (e) => [\"branch\", ...e.classes].join(\" \"))\n                    .attr(\"transform\", (e) => {\n                        return `translate(${this.scales.x(e.v0.x+this.settings.xScale.offset)}, ${this.scales.y(e.v1.y)})`;\n                    })\n                    .each(function(e) {\n                        for(const bauble of  self.settings.edges.baubles){\n                            if (bauble.edgeFilter(e)) {\n                                bauble\n                                    .updateShapes(select(this))\n                            }\n                        }\n                    })\n                    .append(\"text\")\n                        .attr(\"class\", \"branch-label\")\n                        .attr(\"dx\", (e) => ((this.scales.x(e.v1.x+this.settings.xScale.offset) - this.scales.x(e.v0.x+this.settings.xScale.offset)) / 2))\n                        .attr(\"dy\", (e) => (e.labelBelow ? +6 : -6))\n                        .attr(\"alignment-baseline\", (e) => (e.labelBelow ? \"hanging\" : \"bottom\"))\n                        .attr(\"text-anchor\", \"middle\")\n                        .text((e) => e.label),\n                update=>update\n                    .transition()\n                    .duration(this.settings.transition.transitionDuration)\n                    .ease(this.settings.transition.transitionEase)\n                    .attr(\"class\", (e) => [\"branch\", ...e.classes].join(\" \"))\n                    .attr(\"transform\", (e) => {\n                        return `translate(${this.scales.x(e.v0.x+this.settings.xScale.offset)}, ${this.scales.y(e.v1.y)})`;\n                    })\n                    .each(function(e) {\n                        for(const bauble of  self.settings.edges.baubles){\n                            if (bauble.edgeFilter(e)) {\n                                bauble\n                                    .updateShapes(select(this))\n                            }\n                        }\n                    })\n                    .select(\"text .branch-label .length\")\n                        .attr(\"class\", \"branch-label length\")\n                        .attr(\"dx\", (e) => ((this.scales.x(e.v1.x+this.settings.xScale.offset) - this.scales.x(e.v0.x+this.settings.xScale.offset)) / 2))\n                        .attr(\"dy\", (e) => (e.labelBelow ? +6 : -6))\n                        .attr(\"alignment-baseline\", (e) => (e.labelBelow ? \"hanging\" : \"bottom\"))\n                        .attr(\"text-anchor\", \"middle\")\n                        .text((e) => e.label)\n            );\n\n        // add callbacks\n        for(const callback of this.callbacks.branches){\n            callback();\n        }\n    }\n\n    [p.updateCartoons](){\n        const cartoonLayer = this.svgSelection.select(\".cartoon-layer\");\n\n        // DATA JOIN\n        // Join new data with old elements, if any.\n        const cartoons = cartoonLayer.selectAll(\"g .cartoon\")\n            .data(this.layout.cartoons, (c) => `c_${c.id}`);\n\n        // ENTER\n        // Create new elements as needed.\n        const newCartoons = cartoons.enter().append(\"g\")\n            .attr(\"id\", (c) => `cartoon-${c.id}`)\n            .attr(\"class\", (c) => [\"cartoon\", ...c.classes].join(\" \"))\n            .attr(\"transform\", (c) => {\n                return `translate(${this.scales.x(c.vertices[0].x+this.settings.xScale.offset)}, ${this.scales.y(c.vertices[0].y+this.settings.xScale.offset)})`;\n            })\n\n\n        newCartoons\n            .append(\"g\")\n            .attr(\"class\", \"cartoon-path\")\n            .append((e,i)=>roughFactory.path(`${this[p.pointToPoint](e.vertices)}`,this.settings.cartoon.roughOptions));\n\n        // update the existing elements\n        cartoons\n            .transition()\n            .duration(this.settings.transition.transitionDuration)\n            .ease(this.settings.transition.transitionEase)\n            .attr(\"class\", (c) => [\"cartoon\", ...c.classes].join(\" \"))\n            .attr(\"transform\", (c) => {\n                return `translate(${this.scales.x(c.vertices[0].x+this.settings.xScale.offset)}, ${this.scales.y(c.vertices[0].y)})`\n            })\n            .select(\"path\")\n            // .attr(\"d\", (c) => this[p.pointToPoint](c.vertices));\n\n\n        // EXIT\n        // Remove old elements as needed.\n        cartoons.exit().remove();\n\n        this[p.updateCartoonStyles]();\n\n        // add callbacks\n        for(const callback of this.callbacks.cartoons){\n            callback();\n        }\n    }\n\n\n\n}","import {mergeDeep} from \"../utilities\";\nimport {Bauble} from \"./bauble\";\n\nexport class RectangularBauble extends Bauble {\n\n    /**\n     * The default settings for the rectangular bauble.\n     * @return {{width: number, radius: number, height: number}}\n     * @constructor\n     */\n    static DEFAULT_SETTINGS() {\n        return {\n            height: 16,\n            width: 6,\n            radius: 2,\n        };\n    }\n\n    /**\n     * The constructor.\n     */\n    constructor(settings = {}) {\n        super(mergeDeep(RectangularBauble.DEFAULT_SETTINGS(), settings));\n    }\n\n    /**\n     * A function that assigns width,height,x,y,rx, and ry attributes to a rect selection.\n     * @param selection\n     * @param border\n     * @return {*|null|undefined}\n     */\n    updateShapes(selection, border = 0) {\n        const w = this.settings.width + border;\n        const h = this.settings.height + border;\n        return selection\n            .data(d => [d])\n            .join(\n                enter => enter\n                    .append(\"rect\")\n                    .attr(\"x\", -w / 2)\n                    .attr(\"width\", w)\n                    .attr(\"y\", -h / 2)\n                    .attr(\"height\", h)\n                    .attr(\"rx\", this.settings.radius)\n                    .attr(\"ry\", this.settings.radius)\n                    .attrs((vertex) => {\n                        const attributes = this.settings.attrs;\n                        return Object.keys(attributes).reduce((acc, curr) => {\n                            // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                            return {...acc, [curr]: attributes[curr](vertex)}\n                        }, {})\n                    })\n                    .styles((vertex) => {\n                        const styles = this.settings.styles;\n                        return Object.keys(styles).reduce((acc, curr) => {\n                            // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                            return {...acc, [curr]: styles[curr](vertex)}\n                        }, {})\n                    }),\n                update => update\n                    .call(update => update.transition()\n                        .attr(\"x\", -w / 2)\n                        .attr(\"width\", w)\n                        .attr(\"y\", -h / 2)\n                        .attr(\"height\", h)\n                        .attr(\"rx\", this.settings.radius)\n                        .attr(\"ry\", this.settings.radius)\n                        .attrs((vertex) => {\n                            const attributes = this.settings.attrs;\n                            return Object.keys(attributes).reduce((acc, curr) => {\n                                // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                                return {...acc, [curr]: attributes[curr](vertex)}\n                            }, {})\n                        })\n                        .styles((vertex) => {\n                            const styles = this.settings.styles;\n                            return Object.keys(styles).reduce((acc, curr) => {\n                                // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                                return {...acc, [curr]: styles[curr](vertex)}\n                            }, {})\n                        })\n                    )\n            )\n\n    };\n}","import {Bauble} from \"./bauble\";\nimport {mergeDeep} from \"../utilities\";\nimport {branchPathGenerator} from \"./branchbauble\";\nimport {roughFactory} from \"./roughcirclebauble\";\nimport {curveStepBefore} from \"d3\"\n\nexport class RoughBranchBauble extends Bauble {\n    static DEFAULT_SETTINGS() {\n        return {\n            curve: curveStepBefore,\n            curveRadius: 0,\n            attrs: {\n                // roughFill: {stroke: () => \"none\", fill: () => \"none\"},\n                \"stroke-width\": () => 0.5, stroke: () => \"black\", fill: () => \"none\"\n            },\n            styles:  {},\n            vertexFilter: null,\n            edgeFilter: () => true\n        }\n\n\n    }\n\n    constructor(settings) {\n        super(mergeDeep(RoughBranchBauble.DEFAULT_SETTINGS(), settings));\n    }\n\n    get edgeFilter() {\n        return this.settings.edgeFilter\n    }\n\n    setup(scales = {}) {\n        scales = mergeDeep({x: null, y: null, xOffset: 0, yOffset: 0}, scales);\n        const basicPathGenerator = branchPathGenerator.call(this, scales);\n        this.branchPath = (edge)=>{\n            const basicPath =basicPathGenerator(edge);\n            return [...roughFactory.path(basicPath,this.settings).childNodes].map(d=>d.getAttribute(\"d\"))[0]\n        }\n    }\n\n    updateShapes(selection) {\n\n        return selection.selectAll(\"path\")\n            .data(d => [d])\n            .join(\n                enter => enter\n                    .append(\"path\")\n                    .attr(\"d\", edge => this.branchPath(edge))\n                    .attrs((edge) => {\n                        const attributes = this.settings.attrs;\n                        return Object.keys(attributes).reduce((acc, curr) => {\n                            // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                            return {...acc, [curr]: attributes[curr](edge)}\n                        }, {})\n                    })\n                    .styles((edge) => {\n                        const styles = this.settings.styles;\n                        return Object.keys(styles).reduce((acc, curr) => {\n                            // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                            return {...acc, [curr]: styles[curr](edge)}\n                        }, {})\n                    }),\n                update => update\n                    .call(update => update.transition()\n                        .attr(\"d\", edge => this.branchPath(edge))\n                        .attrs((edge) => {\n                            const attributes = this.settings.attrs;\n                            return Object.keys(attributes).reduce((acc, curr) => {\n                                // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                                return {...acc, [curr]: attributes[curr](edge)}\n                            }, {})\n                        })\n                        .styles((edge) => {\n                            const styles = this.settings.styles;\n                            return Object.keys(styles).reduce((acc, curr) => {\n                                // const vertex = d3.select(n[i].parentNode).datum(); // the vertex data is assigned to the group\n                                return {...acc, [curr]: styles[curr](edge)}\n                            }, {})\n                        }),\n                    )\n            )\n    };\n}\n"],"names":["getRandomValues","crypto","bind","window","msCrypto","rnds8","Uint8Array","module","rnds","Array","r","i","Math","random","byteToHex","toString","substr","bytesToUuid","buf","offset","bth","join","_nodeId","_clockseq","_lastMSecs","_lastNSecs","v1","options","b","node","clockseq","undefined","seedBytes","rng","msecs","Date","getTime","nsecs","dt","Error","tl","tmh","n","v4","ii","uuid","a","NaN","compare","length","ascendingComparator","left","x","lo","hi","mid","right","f","d","ascending","ascendingBisect","bisector","values","valueof","value","min","max","m","sum","isNaN","number","slice","prototype","top","bottom","epsilon","translateX","translateY","y","scale","center","bandwidth","round","entering","this","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","k","transform","context","ticks","apply","domain","format","identity","spacing","range","range0","range1","position","copy","selection","path","selectAll","data","tick","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","merge","insert","transition","isFinite","getAttribute","p","parentNode","remove","filter","each","_","arguments","call","tickSize","axisBottom","noop","dispatch","t","Dispatch","parseTypenames","typenames","types","trim","split","map","name","indexOf","hasOwnProperty","type","get","c","set","callback","concat","push","constructor","on","typename","T","that","args","xhtml","svg","xlink","xml","xmlns","prefix","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","groups","_groups","subgroups","j","subnode","group","subgroup","__data__","Selection","_parents","empty","querySelectorAll","selectorAll","parents","matches","match","matcher","update","_enter","sparse","EnterNode","parent","datum","_next","_parent","appendChild","child","insertBefore","next","keyPrefix","bindIndex","groupLength","dataLength","bindKey","key","keyValue","nodeByKeyValue","keyValues","size","constant","enterGroup","updateGroup","previous","i0","i1","_exit","onenter","onupdate","onexit","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compareNode","sortgroups","sortgroup","sort","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","getAttributeNS","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","list","add","classedRemove","classedTrue","classedFalse","classedFunction","contains","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","create","creator","constantNull","before","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","deep","property","splice","filterEvents","event","element","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","event1","event0","onRemove","__on","o","removeEventListener","capture","onAdd","wrap","addEventListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","source","current","sourceEvent","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","changedTouches","factory","extend","definition","Object","Color","selection_select","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","selection_insert","selection_remove","clone","selection_clone","selection_datum","selection_on","selection_dispatch","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color","toLowerCase","exec","Rgb","parseInt","rgbn","rgba","hsla","g","rgbConvert","rgb","opacity","hex","h","s","l","Hsl","hslConvert","hsl","hsl2rgb","m2","define","displayable","pow","deg2rad","PI","rad2deg","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","cos","sin","z","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","atan2","sqrt","hcl","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","basis","v0","v2","v3","floor","linear","exponential","hue","gamma","nogamma","cosh","sinh","rgbGamma","start","end","colorRgb","rgbSpline","spline","colors","rgbBasis","nb","na","setTime","reA","reB","zero","one","am","bm","bs","bi","lastIndex","q","date","isArray","array","valueOf","object","cssNode","cssRoot","cssView","svgNode","degrees","rotate","skewX","scaleX","scaleY","e","atan","parseCss","decompose","parseSvg","baseVal","consolidate","matrix","interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","interpolateTransformCss","interpolateTransformSvg","rho","SQRT2","cubehelixGamma","colorCubehelix","taskHead","taskTail","cubehelixLong","frame","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","timer","delay","time","restart","timerFlush","wake","nap","poke","Infinity","sleep","clearTimeout","clearInterval","setInterval","elapsed","stop","TypeError","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","id","timing","schedules","__transition","tween","duration","ease","state","init","schedule","self","active","interrupt","tweenRemove","tween0","tween1","tweenFunction","_id","tweenValue","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrTween","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","Transition","_name","every","onFunction","on0","on1","sit","removeFunction","children","inherit","styleNull","styleMaybeRemove","listener0","styleTween","styleInterpolate","id0","id1","newId","Promise","resolve","reject","cancel","selection_prototype","cubicInOut","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_transition","transition_on","transition_attr","transition_attrTween","transition_style","transition_styleTween","transition_text","transition_remove","transition_tween","transition_delay","transition_duration","transition_ease","transition_end","pi","tau","defaultTiming","easeCubicInOut","selection_interrupt","selection_transition","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","abs","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","dx","dy","cw","da","w","Map","Set","has","clear","keys","entries","proto","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","Function","JSON","stringify","customConverter","row","inferColumns","rows","columnSet","forEach","column","pad","width","formatYear","year","formatDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","delimiter","reFormat","DELIMITER","charCodeAt","parseRows","N","I","eof","eol","token","replace","preformatBody","formatValue","formatRow","test","convert","formatBody","formatRows","csv","dsv","tsv","_x","_y","cover","tree","xm","ym","xp","yp","_root","leaf","addAll","xz","yz","visit","radius","x3","y3","quads","Quad","d2","retainer","removeAll","defaultX","defaultY","quadtree","Quadtree","leaf_copy","treeProto","target","tree_add","tree_addAll","tree_cover","tree_data","extent","tree_extent","find","tree_find","tree_remove","tree_removeAll","tree_root","tree_size","tree_visit","visitAfter","tree_visitAfter","tree_x","tree_y","initialAngle","toExponential","coefficient","formatDecimal","grouping","thousands","substring","reverse","numerals","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","symbol","comma","precision","out","exponent","%","toFixed","toPrecision","formatRounded","formatPrefixAuto","X","toUpperCase","locale","formatPrefix","prefixes","formatGroup","currency","decimal","formatNumerals","percent","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","padding","defaultLocale","formatLocale","step","Adder","reset","temp","adder","bv","av","areaRingSum","areaSum","deltaSum","lengthSum","bisectRight","e10","e5","e2","count","tickIncrement","ceil","power","log","LN10","error","tickStep","step0","step1","initRange","unit","normalize","clamper","bimap","d0","d1","r0","r1","polymap","bisect","clamp","unknown","transformer","untransform","piecewise","output","input","interpolateValue","rescale","invert","rangeRound","interpolateRound","u","continuous","precisionPrefix","precisionRound","precisionFixed","linearish","nice","newInterval","floori","offseti","field","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getMilliseconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","month","setMonth","getMonth","getFullYear","setFullYear","utcMinute","setUTCSeconds","utcHour","setUTCMinutes","utcDay","setUTCHours","setUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","utcYear","setUTCFullYear","localDate","H","M","S","L","utcDate","UTC","newYear","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","Q","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","U","formatWeekNumberSunday","V","formatWeekNumberISO","formatWeekdayNumberSunday","W","formatWeekNumberMonday","Y","formatFullYear","Z","formatZone","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseSpecifier","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","pads","charAt","newParse","newDate","week","timeMonday","timeDay","utcFormat","utcParse","timeFormat","timeParse","-","0","numberRe","percentRe","requoteRe","requote","timeYear","timeSunday","timeThursday","dow","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","scheme","interpolateRgbBasis","ramp","interpolateCubehelixLong","warm","cool","pi_1_3","pi_2_3","magma","inferno","plasma","Linear","_context","pointX","pointY","defined","curve","curveLinear","buffer","defined0","lineStart","lineEnd","slope3","h0","h1","s0","s1","slope2","MonotoneX","MonotoneY","ReflectContext","Step","_t","stepBefore","maxIndex","areaStart","_line","areaEnd","_point","_t0","Type","DISCRETE","Symbol","BOOLEAN","INTEGER","FLOAT","PROBABILITIES","Tree","[object Object]","lengthsKnown","heightsKnown","rootNode","settings","DEFAULT_SETTINGS","makeNode","level","setUpNodes","annotations","_nodeList","preorder","label","startsWith","newAnnotations","addAnnotations","_nodeMap","nodeList","_tipMap","externalNodes","tip","nodesUpdated","treeUpdateCallback","setUpArraysAndMaps","internalNodes","nodeMap","tipMap","height","startNode","traverse","toNewick","proportion","rootLength","node0","nodeAtTop","rootChild1","rootChild2","oldLength","sibling","getSibling","_length","recursive","increasing","factor","orderNodes","nodeA","countA","nodeB","countB","ordering","node1","node2","path1","pathToRoot","path2","sharedAncestors","n1","n2","mrca","lastCommonAncestor","chosenNodes","sharedNodes","reduce","acc","curr","all","includes","subtree","toJSON","removeNode","rootToTipLength","splits","splitNode","splitBranch","splitLocation","insertedNode","_children","descendent","postorder","getExternalNode","annotateNode","getNode","addValues","annotation","parseFloat","Number","isInteger","isExtensible","acctran","fitchParsimony","reconstructInternalStates","func","currentCallback","newickString","labelName","datePrefix","tokens","annotationKey","currentNode","nodeStack","labelNext","lengthNext","inAnnotation","annotationKeyNext","isAnnotationARange","annotationToken","endsWith","parts","externalNode","nexus","trees","nexusTokens","shift","section","workingSection","inTaxaMap","tipNameMap","taxaData","treeString","thisTree","parseNewick","counts","calculateHeights","maxRTT","rootToTipLengths","_height","calculateLengths","childStates","parentStates","nodeStates","stateCounts","prev","nodeData","Node","childrenNodes","childNode","DEFAULT_NODE","_annotations","_tree","_label","_level","newNode","VertexStyle","INCLUDED","IGNORED","HIDDEN","MASKED","layoutInterface","horizontalDomain","verticalDomain","branchScale","internalNodeLabelAnnotationName","annotationName","externalNodeLabelAnnotationName","branchLabelAnnotationName","vertex","edges","layoutKnown","layout","_edges","visibility","vertices","cartoons","edgeMap","currentY","currentX","newSettings","middlewares","isObject","item","mergeDeep","assign","makeVerticesFromNodes","setVertexClasses","setVertexLabels","makeEdgesFromNodes","setupEdge","setEdgeTermini","setEdgeClasses","setEdgeLabels","getMostAncestralCartoons","AbstractLayout","lengthFormat","super","_edgeMap","_vertices","_cartoonStore","_ignoredNodes","subscribeCallback","updateCallback","treeNodes","_getTreeNodes","setInitialY","setInitialX","setYPosition","setXPosition","xPositions","edge","reroot","hideNode","console","groupEnd","cartoonNodeDecedents","cartoonVertex","cartoonVertexDecedents","newTopVertex","classes","newBottomVertex","mean","parentVertex","getChildVertices","middleware","nextLayout","wrappedMiddleware","degree","delete","isSelected","leftLabel","rightLabel","labelBelow","cartoonNodes","mostAncestralNode","some","updateVerticesY","delta","RectangularLayout","vertexChildren","TransmissionLayout","groupingAnnotation","direction","groupGap","extendLayout","transmissionMiddleWare","sorting","gap","_verticalRange","ExplodedLayout","interGroupGap","intraGroupGap","groupOrdering","postOrderNodes","aGroup","bGroup","_currentGroup","_newIntraGroupNext","Bauble","vertexFilter","attrs","styles","border","attrsFunction","attrsObject","stylesFunction","stylesObject","propertiesFunction","propertiesObject","selection_attrs","selection_styles","properties","selection_properties","transition_attrs","transition_styles","CircleBauble","attributes","defaultOptions","maxRandomnessOffset","roughness","bowing","stroke","strokeWidth","curveTightness","curveStepCount","fillStyle","fillWeight","hachureAngle","hachureGap","dashOffset","dashGap","zigzagOffset","config","surface","_options","shape","sets","body","getBBox","getCanvasSize","opsToPath","fillSketch","viewBox","patternUnits","pattern","ops","op","COMMAND","NUMBER","EOD","segments","parseData","processPoints","$1","tokenize","closed","_closed","_position","_first","bezierReflectionPoint","quadReflectionPoint","parsed","linearPoints","_linearPoints","first","_segIndex","_numSegs","_rx","_ry","_sinPhi","_cosPhi","_C","_theta","_delta","_T","_from","calculateVectorAngle","cp1","cp2","to","distance","xi","MAX_VALUE","yi","px1","py1","px2","py2","_undefined","isUndefined","deltaX","hGap","sinAngle","tanAngle","pos","sLeft","sRight","intersects","nextLine","randOffset","helper","_fillPolygon","_fillEllipse","renderLines","doubleLineOps","dotsOnLines","randOffsetWithRange","ellipse","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","removeDuplocatePoints","createLinesFromCenter","drawLines","fillArcSegment","dashedLine","zigzagLines","P","R","O","$","G","fillPolygon","setPosition","getNextSegment","_drawable","fillEllipse","fillArc","computePolygonSize","polygonPath","computePathSize","simplification","fit","canvas","ctx","getContext","getDefaultOptions","save","strokeStyle","lineWidth","_drawToContext","restore","Path2D","computeBBox","createPattern","beginPath","F","gen","generator","draw","rectangle","circle","linearPath","polygon","defs","_defs","RoughCircleBauble","roughFill","roughStroke","stroke-width","newPaths","roughFactory","childNodes","pathNames","d3","rough","addXAxis","addYAxis","updateXAxis","updateYAxis","updateAnnotations","updateCartoons","updateBranches","updateNodeBackgrounds","updateNodes","updateBranchStyles","updateNodeStyles","updateNodeBackgroundStyles","updateCartoonStyles","branchPathGenerator","pointToPoint","FigTree","xScale","title","scaleLinear","origin","reverseAxis","yScale","hoverBorder","backgroundBorder","baubles","cssStyles","backgroundCssStyles","curveStepBefore","curveRadius","transitionDuration","transitionEase","easeLinear","margins","callbacks","branches","drawn","svgId","svgSelection","scales","selected","hilightNodes","bauble","updateShapes","action","mx","mouse","onClickNode","tooltip","getElementById","display","pageX","pageY","treeLayout","newNodes","createShapes","branchesLayer","branchPath","newBranches","roughOptions","xSettings","xAxis","xAxisWidth","axesLayer","ySettings","yAxis","yAxisHeight","vertexStyles","vertexBackgroundsStyles","branchStyles","CartoonStyles","points","pathPoints","currentPoint","xdiff","ydiff","branchLine","dontNeedCurve","RootToTipPlot","regression","leastSquares","slope","xIntercept","startPoint","endPoint","yPositions","xBar","yBar","ssXX","ssYY","ssXY","yIntercept","rSquare","treeSVG","mouseover","hoverNodeRadius","mouseout","nodeRadius","clicked","tips","BranchBauble","edgeFilter","xOffset","yOffset","RoughFigTree","backgroundBaubles","nodesBackgroundLayer","nodesLayer","setup","cartoon","RectangularBauble","RoughBranchBauble","basicPathGenerator","basicPath"],"mappings":"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"}